{"version":3,"file":"mnj-ngx-colorpicker.js","sources":["../../../projects/mnj-ngx-colorpicker/src/lib/color/color-conversions.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-spaces.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-adapter.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-config.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/colorpicker-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/grid/grid-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/grid/grid-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/armonies/armonies-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/armonies/armonies-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/base-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/sat/sat-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/sat/sat-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/hue/hue-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/hue/hue-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/preview-swatch/preview-swatch.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/preview-swatch/preview-swatch.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/input/input-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/input/input-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/alpha/alpha-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/alpha/alpha-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/views/chrome/chrome-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/views/chrome/chrome-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/palette/palette-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/palette/palette-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-intl.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/pipette/pipette-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/pipette/pipette-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/scan/scan-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/views/scan/scan-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color-panel.html","../../../projects/mnj-ngx-colorpicker/src/lib/color-panel.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color-panel-header.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-animations.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-content.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-input.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-toggle.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-toggle.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker.module.ts","../../../projects/mnj-ngx-colorpicker/src/lib/mnj-ngx-colorpicker.ts"],"sourcesContent":["import { CMYK, HSL, HSV, HWB, RGB } from './color-spaces';\r\n\r\n/** Converts RGB representation to HSL */\r\nexport function rgbToHsl({ red, green, blue }: RGB): HSL {\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n\r\n  const cmax = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  const cmin = Math.min(coercedRed, coercedGreen, coercedBlue);\r\n  const delta = cmax - cmin;\r\n\r\n  let hue = 0;\r\n  let saturation = 0;\r\n  let lightness = (cmax + cmin) / 2;\r\n\r\n  if (delta) {\r\n    switch (cmax) {\r\n      case coercedRed: {\r\n        hue = (coercedGreen - coercedBlue) / delta;\r\n        break;\r\n      }\r\n      case coercedGreen: {\r\n        hue = 2 + (coercedBlue - coercedRed) / delta;\r\n        break;\r\n      }\r\n      case coercedBlue: {\r\n        hue = 4 + (coercedRed - coercedGreen) / delta;\r\n        break;\r\n      }\r\n    }\r\n    saturation = delta / (1 - Math.abs(2 * lightness - 1));\r\n  }\r\n\r\n  hue = Math.round(60 * hue);\r\n  if (hue < 0) hue += 360;\r\n  saturation = Math.round(saturation * 100) || 0;\r\n  lightness = Math.round(lightness * 100) || 0;\r\n\r\n  return { hue, saturation, lightness };\r\n}\r\n\r\n/** Converts RGB representation to HSV */\r\nexport function rgbToHsv({ red, green, blue }: RGB): HSV {\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n\r\n  const cmax = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  const cmin = Math.min(coercedRed, coercedGreen, coercedBlue);\r\n  const delta = cmax - cmin;\r\n  const value = Math.round(cmax * 100) || 0;\r\n\r\n  let hue = 0;\r\n  let saturation = 0;\r\n\r\n  if (delta) {\r\n    switch (cmax) {\r\n      case coercedRed:\r\n        hue = (coercedGreen - coercedBlue) / delta;\r\n        break;\r\n      case coercedGreen:\r\n        hue = 2 + (coercedBlue - coercedRed) / delta;\r\n        break;\r\n      case coercedBlue:\r\n        hue = 4 + (coercedRed - coercedGreen) / delta;\r\n        break;\r\n    }\r\n    if (cmax) saturation = delta / cmax;\r\n  }\r\n\r\n  hue = Math.round(60 * hue) || 0;\r\n  if (hue < 0) hue += 360;\r\n  saturation = Math.round(saturation * 100) || 0;\r\n\r\n  return { hue, saturation, value };\r\n}\r\n\r\n/** Converts RGB representation to HWB */\r\nexport function rgbToHwb({ red, green, blue }: RGB): HWB {\r\n  const { hue, saturation, value } = rgbToHsv({ red, green, blue });\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n\r\n  const cmax = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  const cmin = Math.min(coercedRed, coercedGreen, coercedBlue);\r\n\r\n  const whiteness = Math.round(cmin * 100) / 100;\r\n  const blackness = Math.round((1 - cmax) * 100) / 100;\r\n\r\n  return { hue, whiteness, blackness };\r\n}\r\n\r\n/** Converts RGB representation to CMYK */\r\nexport function rgbToCmyk({ red, green, blue }: RGB): CMYK {\r\n  let cyan, magenta, yellow, black;\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n  const max = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  black = 1 - max;\r\n  if (black === 1) {\r\n    cyan = 0;\r\n    magenta = 0;\r\n    yellow = 0;\r\n  } else {\r\n    cyan = Math.round(((1 - coercedRed - black) / (1 - black)) * 100);\r\n    magenta = Math.round(((1 - coercedGreen - black) / (1 - black)) * 100);\r\n    yellow = Math.round(((1 - coercedBlue - black) / (1 - black)) * 100);\r\n  }\r\n  black = Math.round(black * 100);\r\n  return { cyan, magenta, yellow, black };\r\n}\r\n\r\n/** Converts RGB representation to HEX */\r\nexport function rgbToHex({ red, green, blue }: RGB): string {\r\n  // tslint:disable-next-line: no-bitwise\r\n  return '#' + ((1 << 24) + (red << 16) + (green << 8) + blue).toString(16).slice(1);\r\n}\r\n\r\n/** Converts an Hex representation to RGB */\r\nexport function hexToRgb(hex: string): RGB | null {\r\n  const isValidHex = /^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);\r\n  if (!isValidHex) {\r\n    return null;\r\n  }\r\n\r\n  const parsedHex: number[] = hex\r\n    .replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (_, r, g, b) => '#' + r + r + g + g + b + b)\r\n    .substring(1)\r\n    .match(/.{2}/g)\r\n    .map((x) => parseInt(x, 16));\r\n\r\n  return { red: parsedHex[0], green: parsedHex[1] || 0, blue: parsedHex[2] || 0 };\r\n}\r\n\r\n/** Converts an HSL representation to RGB */\r\nexport function hslToRgb({ hue, saturation, lightness }: HSL) {\r\n  const sat = saturation / 100;\r\n  const light = lightness / 100;\r\n  let c = sat * (1 - Math.abs(2 * light - 1));\r\n  const h = hue / 60;\r\n  let x = c * (1 - Math.abs((h % 2) - 1));\r\n  let m = light - c / 2;\r\n  const precision = 255;\r\n\r\n  c = Math.round((c + m) * precision) || 0;\r\n  x = Math.round((x + m) * precision) || 0;\r\n  m = Math.round(m * precision) || 0;\r\n\r\n  if (h >= 0 && h < 1) return { red: c, green: x, blue: m };\r\n  if (h >= 1 && h < 2) return { red: x, green: c, blue: m };\r\n  if (h >= 2 && h < 3) return { red: m, green: c, blue: x };\r\n  if (h >= 3 && h < 4) return { red: m, green: x, blue: c };\r\n  if (h >= 4 && h < 5) return { red: x, green: m, blue: c };\r\n  if (h >= 5 && h < 6) return { red: c, green: m, blue: x };\r\n}\r\n\r\n/** Converts an HSL representation to HSV */\r\nexport function hslToHsv({ hue, saturation, lightness }: HSL): HSV {\r\n  const s = Math.min(saturation / 100, 1);\r\n  const l = Math.min(lightness / 100, 1);\r\n  if (l === 0) {\r\n    return { hue, saturation: 0, value: 0 };\r\n  } else {\r\n    const v = l + (s * (1 - Math.abs(2 * l - 1))) / 2;\r\n    return { hue, saturation: Math.round(((2 * (v - l)) / v) * 100), value: Math.round(v * 100) };\r\n  }\r\n}\r\n\r\n/** Converts an HSV representation to HSL */\r\nexport function hsvToHsl({ hue, saturation, value }: HSV): HSL {\r\n  const s = saturation / 100;\r\n  const v = value / 100;\r\n  if (v === 0) {\r\n    return { hue, saturation: 0, lightness: 0 };\r\n  } else if (s === 0 && v === 1) {\r\n    return { hue, saturation: 0, lightness: 100 };\r\n  } else {\r\n    const l = (v * (2 - s)) / 2;\r\n    return { hue, saturation: Math.round(((v * s) / (1 - Math.abs(2 * l - 1))) * 100), lightness: Math.round(l * 100) };\r\n  }\r\n}\r\n\r\n/** Converts an HSV representation to RGB */\r\nexport function hsvToRgb({ hue, saturation, value }: HSV): RGB {\r\n  const sat = saturation / 100;\r\n  const val = value / 100;\r\n  let c = sat * val;\r\n  const h = hue / 60;\r\n  let X = c * (1 - Math.abs((h % 2) - 1));\r\n  let m = val - c;\r\n  const precision = 255;\r\n\r\n  c = Math.round((c + m) * precision) || 0;\r\n  X = Math.round((X + m) * precision) || 0;\r\n  m = Math.round(m * precision) || 0;\r\n\r\n  if (h >= 0 && h < 1) return { red: c, green: X, blue: m };\r\n  if (h >= 1 && h < 2) return { red: X, green: c, blue: m };\r\n  if (h >= 2 && h < 3) return { red: m, green: c, blue: X };\r\n  if (h >= 3 && h < 4) return { red: m, green: X, blue: c };\r\n  if (h >= 4 && h < 5) return { red: X, green: m, blue: c };\r\n  if (h >= 5 && h < 6) return { red: c, green: m, blue: X };\r\n}\r\n\r\n/** Converts an HWB representation to HSV */\r\nexport function hsvToHwb({ hue, saturation, value }: HSV): HWB {\r\n  const coercedSaturation = saturation / 100;\r\n  const coercedValue = value / 100;\r\n\r\n  const whiteness = Math.round((1 - coercedSaturation) * coercedValue * 100);\r\n  const blackness = Math.round((1 - coercedValue) * 100);\r\n\r\n  return { hue, whiteness, blackness };\r\n}\r\n\r\n/** Converts an HWB representation to RGB */\r\nexport function hwbToRgb({ hue, whiteness, blackness }: HWB): RGB {\r\n  const rgb = hslToRgb({ hue: hue, saturation: 1, lightness: 0.5 });\r\n\r\n  const tot = whiteness + blackness;\r\n  let resultWhite: number;\r\n  let resultBlack: number;\r\n  if (tot > 1) {\r\n    resultWhite = Number((whiteness / tot).toFixed(2));\r\n    resultBlack = Number((blackness / tot).toFixed(2));\r\n  }\r\n  const adjustRgb = (c, w, b) => {\r\n    return ((c / 255) * (1 - w - b) + w) * 255;\r\n  };\r\n  return {\r\n    red: adjustRgb(rgb.red, resultWhite, resultBlack),\r\n    green: adjustRgb(rgb.green, resultWhite, resultBlack),\r\n    blue: adjustRgb(rgb.blue, resultWhite, resultBlack),\r\n  };\r\n}\r\n\r\n/** Converts an HWB representation to HSV */\r\nexport function hwbToHsv({ hue, whiteness, blackness }: HWB): HSV {\r\n  const coercedWhiteness = whiteness / 100;\r\n  const coercedBlackness = blackness / 100;\r\n\r\n  const saturation = Math.round((1 - coercedWhiteness / (1 - coercedBlackness)) * 100);\r\n  const value = Math.round((1 - coercedBlackness) * 100);\r\n\r\n  return { hue, saturation, value };\r\n}\r\n\r\n/** Converts a CMYK representation to RGB */\r\nexport function cmykToRgb({ cyan, magenta, yellow, black }: CMYK): RGB {\r\n  const red = 255 - Math.min(1, cyan * (1 - black) + black) * 255;\r\n  const green = 255 - Math.min(1, magenta * (1 - black) + black) * 255;\r\n  const blue = 255 - Math.min(1, yellow * (1 - black) + black) * 255;\r\n  return { red, green, blue };\r\n}\r\n","export type ColorFormat = 'HEX' | 'RGB' | 'HSL' | 'HSV' | 'HWB' | 'CMYK' | 'CSS_NAME';\r\n\r\nexport interface RGB {\r\n  red: number;\r\n  green: number;\r\n  blue: number;\r\n}\r\n\r\nexport interface HSL {\r\n  hue: number;\r\n  saturation: number;\r\n  lightness: number;\r\n}\r\n\r\nexport interface HSV {\r\n  hue: number;\r\n  saturation: number;\r\n  value: number;\r\n}\r\n\r\nexport interface HWB {\r\n  hue: number;\r\n  whiteness: number;\r\n  blackness: number;\r\n}\r\n\r\nexport interface CMYK {\r\n  cyan: number;\r\n  magenta: number;\r\n  yellow: number;\r\n  black: number;\r\n}\r\n\r\nexport const CSS_COLOR_NAMES = {\r\n  AliceBlue: '#F0F8FF',\r\n  AntiqueWhite: '#FAEBD7',\r\n  Aqua: '#00FFFF',\r\n  Aquamarine: '#7FFFD4',\r\n  Azure: '#F0FFFF',\r\n  Beige: '#F5F5DC',\r\n  Bisque: '#FFE4C4',\r\n  Black: '#000000',\r\n  BlanchedAlmond: '#FFEBCD',\r\n  Blue: '#0000FF',\r\n  BlueViolet: '#8A2BE2',\r\n  Brown: '#A52A2A',\r\n  BurlyWood: '#DEB887',\r\n  CadetBlue: '#5F9EA0',\r\n  Chartreuse: '#7FFF00',\r\n  Chocolate: '#D2691E',\r\n  Coral: '#FF7F50',\r\n  CornflowerBlue: '#6495ED',\r\n  Cornsilk: '#FFF8DC',\r\n  Crimson: '#DC143C',\r\n  Cyan: '#00FFFF',\r\n  DarkBlue: '#00008B',\r\n  DarkCyan: '#008B8B',\r\n  DarkGoldenRod: '#B8860B',\r\n  DarkGray: '#A9A9A9',\r\n  DarkGreen: '#006400',\r\n  DarkGrey: '#A9A9A9',\r\n  DarkKhaki: '#BDB76B',\r\n  DarkMagenta: '#8B008B',\r\n  DarkOliveGreen: '#556B2F',\r\n  DarkOrchid: '#9932CC',\r\n  DarkRed: '#8B0000',\r\n  DarkSalmon: '#E9967A',\r\n  DarkSeaGreen: '#8FBC8F',\r\n  DarkSlateBlue: '#483D8B',\r\n  DarkSlateGray: '#2F4F4F',\r\n  DarkSlateGrey: '#2F4F4F',\r\n  DarkTurquoise: '#00CED1',\r\n  DarkViolet: '#9400D3',\r\n  Darkorange: '#FF8C00',\r\n  DeepPink: '#FF1493',\r\n  DeepSkyBlue: '#00BFFF',\r\n  DimGray: '#696969',\r\n  DimGrey: '#696969',\r\n  DodgerBlue: '#1E90FF',\r\n  FireBrick: '#B22222',\r\n  FloralWhite: '#FFFAF0',\r\n  ForestGreen: '#228B22',\r\n  Fuchsia: '#FF00FF',\r\n  Gainsboro: '#DCDCDC',\r\n  GhostWhite: '#F8F8FF',\r\n  Gold: '#FFD700',\r\n  GoldenRod: '#DAA520',\r\n  Gray: '#808080',\r\n  Green: '#008000',\r\n  GreenYellow: '#ADFF2F',\r\n  Grey: '#808080',\r\n  HoneyDew: '#F0FFF0',\r\n  HotPink: '#FF69B4',\r\n  IndianRed: '#CD5C5C',\r\n  Indigo: '#4B0082',\r\n  Ivory: '#FFFFF0',\r\n  Khaki: '#F0E68C',\r\n  Lavender: '#E6E6FA',\r\n  LavenderBlush: '#FFF0F5',\r\n  LawnGreen: '#7CFC00',\r\n  LemonChiffon: '#FFFACD',\r\n  LightBlue: '#ADD8E6',\r\n  LightCoral: '#F08080',\r\n  LightCyan: '#E0FFFF',\r\n  LightGoldenRodYellow: '#FAFAD2',\r\n  LightGray: '#D3D3D3',\r\n  LightGreen: '#90EE90',\r\n  LightGrey: '#D3D3D3',\r\n  LightPink: '#FFB6C1',\r\n  LightSalmon: '#FFA07A',\r\n  LightSeaGreen: '#20B2AA',\r\n  LightSkyBlue: '#87CEFA',\r\n  LightSlateGray: '#778899',\r\n  LightSlateGrey: '#778899',\r\n  LightSteelBlue: '#B0C4DE',\r\n  LightYellow: '#FFFFE0',\r\n  Lime: '#00FF00',\r\n  LimeGreen: '#32CD32',\r\n  Linen: '#FAF0E6',\r\n  Magenta: '#FF00FF',\r\n  Maroon: '#800000',\r\n  MediumAquaMarine: '#66CDAA',\r\n  MediumBlue: '#0000CD',\r\n  MediumOrchid: '#BA55D3',\r\n  MediumPurple: '#9370D8',\r\n  MediumSeaGreen: '#3CB371',\r\n  MediumSlateBlue: '#7B68EE',\r\n  MediumSpringGreen: '#00FA9A',\r\n  MediumTurquoise: '#48D1CC',\r\n  MediumVioletRed: '#C71585',\r\n  MidnightBlue: '#191970',\r\n  MintCream: '#F5FFFA',\r\n  MistyRose: '#FFE4E1',\r\n  Moccasin: '#FFE4B5',\r\n  NavajoWhite: '#FFDEAD',\r\n  Navy: '#000080',\r\n  OldLace: '#FDF5E6',\r\n  Olive: '#808000',\r\n  OliveDrab: '#6B8E23',\r\n  Orange: '#FFA500',\r\n  OrangeRed: '#FF4500',\r\n  Orchid: '#DA70D6',\r\n  PaleGoldenRod: '#EEE8AA',\r\n  PaleGreen: '#98FB98',\r\n  PaleTurquoise: '#AFEEEE',\r\n  PaleVioletRed: '#D87093',\r\n  PapayaWhip: '#FFEFD5',\r\n  PeachPuff: '#FFDAB9',\r\n  Peru: '#CD853F',\r\n  Pink: '#FFC0CB',\r\n  Plum: '#DDA0DD',\r\n  PowderBlue: '#B0E0E6',\r\n  Purple: '#800080',\r\n  Red: '#FF0000',\r\n  RosyBrown: '#BC8F8F',\r\n  RoyalBlue: '#4169E1',\r\n  SaddleBrown: '#8B4513',\r\n  Salmon: '#FA8072',\r\n  SandyBrown: '#F4A460',\r\n  SeaGreen: '#2E8B57',\r\n  SeaShell: '#FFF5EE',\r\n  Sienna: '#A0522D',\r\n  Silver: '#C0C0C0',\r\n  SkyBlue: '#87CEEB',\r\n  SlateBlue: '#6A5ACD',\r\n  SlateGray: '#708090',\r\n  SlateGrey: '#708090',\r\n  Snow: '#FFFAFA',\r\n  SpringGreen: '#00FF7F',\r\n  SteelBlue: '#4682B4',\r\n  Tan: '#D2B48C',\r\n  Teal: '#008080',\r\n  Thistle: '#D8BFD8',\r\n  Tomato: '#FF6347',\r\n  Turquoise: '#40E0D0',\r\n  Violet: '#EE82EE',\r\n  Wheat: '#F5DEB3',\r\n  White: '#FFFFFF',\r\n  WhiteSmoke: '#F5F5F5',\r\n  Yellow: '#FFFF00',\r\n  YellowGreen: '#9ACD32',\r\n};\r\n","import { cmykToRgb, hslToRgb, hsvToHsl, hsvToRgb, hwbToRgb, rgbToHsl } from './color-conversions';\nimport { CMYK, CSS_COLOR_NAMES, HSL, HSV, HWB, RGB } from './color-spaces';\n\nexport interface Color {\n  red: number;\n  green: number;\n  blue: number;\n  hue: number;\n  saturation: number;\n  lightness: number;\n  alpha: number;\n}\n\nexport interface PaletteColor {\n  title: string;\n  color: Color;\n  active: boolean;\n}\n\n/** Builds a color object from Red, Green, Blue values */\nexport function fromRgb({ red, green, blue }: RGB, alpha: number = 1): Color {\n  const coercedRed = clamp(0, 255, red);\n  const coercedGreen = clamp(0, 255, green);\n  const coercedBlue = clamp(0, 255, blue);\n\n  const { hue, saturation: saturation, lightness } = rgbToHsl({\n    red: coercedRed,\n    green: coercedGreen,\n    blue: coercedBlue,\n  });\n\n  return {\n    red: coercedRed,\n    green: coercedGreen,\n    blue: coercedBlue,\n    hue,\n    saturation: saturation,\n    lightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hue, Saturation, Lightness values */\nexport function fromHsl({ hue, saturation: saturation, lightness }: HSL, alpha: number = 1): Color {\n  const coercedHue = clamp(0, 359, hue);\n  const coercedSat = clamp(0, 100, saturation);\n  const coercedLightness = clamp(0, 100, lightness);\n\n  const { red, green, blue } = hslToRgb({ hue: coercedHue, saturation: coercedSat, lightness: coercedLightness });\n\n  return {\n    red,\n    green,\n    blue,\n    hue: coercedHue,\n    saturation: coercedSat,\n    lightness: coercedLightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hue, Saturation, Value values */\nexport function fromHsv({ hue, saturation, value }: HSV, alpha: number = 1): Color {\n  const coercedHue = clamp(0, 359, hue);\n  const coercedSat = clamp(0, 100, saturation);\n  const coercedValue = clamp(0, 100, value);\n\n  const { red, green, blue } = hsvToRgb({ hue: coercedHue, saturation: coercedSat, value: coercedValue });\n  const { hue: hslHue, saturation: hslSat, lightness: hslLightness } = hsvToHsl({\n    hue: coercedHue,\n    saturation: coercedSat,\n    value: coercedValue,\n  });\n\n  return {\n    red,\n    green,\n    blue,\n    hue: hslHue,\n    saturation: hslSat,\n    lightness: hslLightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hue, Saturation, Value values */\nexport function fromHwb({ hue, whiteness, blackness }: HWB, alpha: number = 1): Color {\n  const coercedHue = clamp(0, 359, hue);\n  const coercedWhiteness = clamp(0, 100, whiteness);\n  const coercedBlackness = clamp(0, 100, blackness);\n\n  const rgb = hwbToRgb({ hue: coercedHue, whiteness: coercedWhiteness, blackness: coercedBlackness });\n  const hsl = rgbToHsl(rgb);\n\n  return {\n    red: rgb.red,\n    green: rgb.green,\n    blue: rgb.blue,\n    hue: coercedHue,\n    saturation: hsl.saturation,\n    lightness: hsl.lightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Cyan, Magenta, Yellow and Black values */\nexport function fromCmyk({ cyan, magenta, yellow, black }: CMYK, alpha: number = 1): Color {\n  const coercedCyan = clamp(0, 100, cyan);\n  const coercedMagenta = clamp(0, 100, magenta);\n  const coercedYellow = clamp(0, 100, yellow);\n  const coercedBlack = clamp(0, 100, black);\n\n  const { red, green, blue } = cmykToRgb({\n    cyan: coercedCyan,\n    magenta: coercedMagenta,\n    yellow: coercedYellow,\n    black: coercedBlack,\n  });\n  const { hue, saturation, lightness } = rgbToHsl({ red, green, blue });\n\n  return {\n    red,\n    green,\n    blue,\n    hue,\n    saturation,\n    lightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hex string value */\nexport function fromHex(hex: string): Color {\n  const isValidHex = /^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);\n  if (!isValidHex) {\n    return null;\n  }\n\n  const [red, green, blue, alpha = 100] = hex\n    .replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])$/i, (_, r, g, b, a) => '#' + r + r + g + g + b + b + a + a)\n    .substring(1)\n    .match(/.{2}/g)\n    .map((x) => parseInt(x, 16));\n\n  const { hue, saturation, lightness } = rgbToHsl({ red, green, blue });\n\n  return {\n    red,\n    green,\n    blue,\n    hue,\n    saturation,\n    lightness,\n    alpha: alpha / 100,\n  };\n}\n\nexport function parseString(colorString: string): Color | null {\n  // Regex to extract values inside parenthesis\n  const extractColorValuesRegex = /\\((.*)\\)/;\n\n  // Transforms a string number or percentage into a valid and clamped color number\n  const toColorNumber = (value: string, min: number, max: number, allowPercent = true) => {\n    let numberValue: number;\n    value = value.replace(' ', '');\n\n    if (value.includes('%') && allowPercent) {\n      numberValue = Number(value.replace('%', ''));\n    } else {\n      numberValue = Number(value);\n      numberValue = numberValue < 1 && allowPercent ? numberValue * 100 : numberValue;\n    }\n\n    return clamp(min, max, numberValue);\n  };\n\n  colorString = colorString.toLowerCase().replace(/^\\s+|\\s+$/g, '');\n  if (colorString.startsWith('rgb')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n    const [red, green, blue, alpha = 1] = colorArray.map((x, i) => toColorNumber(x, 0, i < 3 ? 255 : 1, false));\n\n    return fromRgb({ red, green, blue }, alpha);\n  }\n  if (colorString.startsWith('hsl')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n\n    const [hueString, satString, lightnessString, alphaString = '1'] = colorArray;\n    const hue = toColorNumber(hueString, 0, 359, false);\n    const sat = toColorNumber(satString, 0, 100);\n    const lightness = toColorNumber(lightnessString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromHsl({ hue, saturation: sat, lightness }, alpha);\n  }\n  if (colorString.startsWith('hsv')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n    const [hueString, satString, valueString, alphaString = '1'] = colorArray;\n    const hue = toColorNumber(hueString, 0, 359, false);\n    const sat = toColorNumber(satString, 0, 100);\n    const value = toColorNumber(valueString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromHsv({ hue, saturation: sat, value }, alpha);\n  }\n  if (colorString.startsWith('hwb')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n    const [hueString, whitenessString, blacknessString, alphaString = '1'] = colorArray;\n    const hue = toColorNumber(hueString, 0, 359, false);\n    const whiteness = toColorNumber(whitenessString, 0, 100);\n    const blackness = toColorNumber(blacknessString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromHwb({ hue, whiteness, blackness }, alpha);\n  }\n  if (colorString.startsWith('cmyk')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 4 || colorArray.length > 5) {\n      return;\n    }\n    const [cyanString, magentaString, yellowString, blackString, alphaString = '1'] = colorArray;\n    const cyan = toColorNumber(cyanString, 0, 100);\n    const magenta = toColorNumber(magentaString, 0, 100);\n    const yellow = toColorNumber(yellowString, 0, 100);\n    const black = toColorNumber(blackString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromCmyk({ cyan, magenta, yellow, black }, alpha);\n  }\n\n  const color = fromHex(colorString);\n  if (color) {\n    return color;\n  }\n  const cssColorName = Object.keys(CSS_COLOR_NAMES).find((c) => c.toLowerCase() === colorString.toLowerCase());\n  if (cssColorName) {\n    return fromHex(CSS_COLOR_NAMES[cssColorName]);\n  }\n  return null;\n}\n\n/**\n * Adds saturation to the color.\n * Amount is counted as a value betweeen -1 and 1, but accepts values between -100 and 100\n * @param amount The number of saturation to add\n * @param color The color to be modified\n */\nexport function saturate(amount: number, color: Color): Color {\n  const { hue, saturation, lightness } = color;\n  const newSat = saturation + coercePercent(amount);\n\n  return fromHsl({ hue, saturation: clamp(0, 100, newSat), lightness });\n}\n\nexport function shade(amount: number, color: Color): Color {\n  amount = coercePercent(amount) * 100;\n\n  const delta = 100 - color.lightness === 5 ? 0 : (100 - color.lightness) % 10;\n  const newLightness = color.lightness + amount + delta;\n\n  return fromHsl({ hue: color.hue, saturation: color.saturation, lightness: newLightness });\n}\n\n/** Calculates the shades of a given color from 5% to 90% of darkness */\nexport function calculateShades(color: Color): Array<{ title: string; color: Color; active: boolean }> {\n  const colorShade = getColorShade(color);\n  const shades: Array<{ title: string; color: Color; active: boolean }> = [];\n\n  const amounts = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];\n  let i = 0;\n\n  while (i < amounts.length) {\n    const distance = (colorShade - amounts[i]) / 10;\n    const s: { title: string; color: Color; active: boolean } = {\n      title: `${amounts[i]}`,\n      color: distance ? shade(distance, color) : color,\n      active: amounts[i] === colorShade,\n    };\n    shades.push(s);\n    i++;\n  }\n\n  return shades;\n}\n\n/**\n * Returns the complementary of a given color\n * Complementary color is calculated by spining 180deg in the color wheel\n * @param color The color to calculate it's complementary\n */\nexport function complementary(color: Color): Color {\n  return spinColor(180, color);\n}\n\n/**\n * Returns the split complementary set of a given color excluding itself\n * The split-complementary uses the two colors adjacent to its complement\n * @param color The color to calculate it's split complementary colours\n */\nexport function splitComplementary(color: Color): [Color, Color] {\n  return [spinColor(60, color), spinColor(210, color)];\n}\n\n/**\n * Returns the analogous set of a given color\n * Analogous colours are calculated by spining 1/6 in each direction the color wheel\n * @param color The color to calculate it's analogous\n */\nexport function analogous(color: Color): [Color, Color] {\n  return [spinColor(30, color), spinColor(-30, color)];\n}\n\n/**\n * Returns the triadic set of a given color excluding itself\n * Triadic colours are calculated by spining 1/3 color wheel\n * @param color The color to calculate it's triadic colours\n */\nexport function triadic(color: Color): [Color, Color] {\n  return [spinColor(120, color), spinColor(-120, color)];\n}\n\n/**\n * Returns the tetradic set of a given color excluding itself\n * Tetradic color scheme uses four colors arranged into two complementary pairs\n * @param color The color to calculate it's tetradic colours\n */\nexport function tetradic(color: Color): [Color, Color, Color] {\n  return [spinColor(30, color), spinColor(180, color), spinColor(210, color)];\n}\n\n/**\n * Returns the square set of a given color excluding itself\n * Square colours are calculated by spining 1/4 the color wheel\n * @param color The color to calculate it's square colours\n */\nexport function square(color: Color): [Color, Color, Color] {\n  return [spinColor(90, color), spinColor(180, color), spinColor(270, color)];\n}\n\nexport function spinColor(deg: number, color: Color): Color {\n  const { hue, saturation, lightness } = color;\n  const rotatedHue = (hue + 360 + deg) % 360;\n  return fromHsl({ hue: rotatedHue, saturation, lightness });\n}\n\nexport function getColorShade(color: Color) {\n  const { lightness } = color;\n  let colorShade = 100 - lightness;\n  if (colorShade <= 5) {\n    return 50;\n  }\n  if (colorShade >= 90) {\n    return 900;\n  }\n  colorShade = Math.trunc(colorShade / 10) * 100;\n  return colorShade;\n}\n\nexport function clamp(min: number, max: number, value: number): number {\n  return Math.max(Math.min(value, max), min);\n}\n\nfunction coercePercent(amount: number): number {\n  amount = Math.max(Math.min(amount, 100), -100);\n  if (amount < -1 || amount > 1) {\n    return Math.trunc(amount) / 100;\n  }\n  return amount;\n}\n","import { Injectable } from '@angular/core';\nimport { Color, parseString } from './color';\nimport { rgbToCmyk, rgbToHwb } from './color-conversions';\nimport { ColorFormat } from './color-spaces';\n\n@Injectable({ providedIn: 'root' })\nexport class ColorAdapter {\n  /** Checks if the given object is a complete color representation */\n  isColorInstance(color: Color) {\n    return (\n      color &&\n      color.red !== undefined &&\n      color.green !== undefined &&\n      color.blue !== undefined &&\n      color.hue !== undefined &&\n      color.saturation !== undefined &&\n      color.lightness !== undefined &&\n      color.alpha !== undefined\n    );\n  }\n\n  /**\n   * Parses a color from a literal\n   * @param colorString literal to be converted to color\n   */\n  parse(colorString: string): Color {\n    return parseString(colorString);\n  }\n\n  /**\n   * Returns the given value if given a valid Color or null. Deserializes valid strings\n   * into valid Colors and empty string into null. Returns an invalid color for all other values.\n   */\n  deserialize(value: any): Color | null {\n    if (typeof value === 'string') {\n      if (!value) {\n        return null;\n      }\n      return parseString(value);\n    }\n  }\n\n  /** Checks equality between two colors */\n  sameColor(first: Color, second: Color) {\n    if (first && second) {\n      const firstValid = this.isValid(first);\n      const secondValid = this.isValid(second);\n\n      if (firstValid && secondValid) {\n        const equalAlpha = first.alpha === second.alpha;\n        const equalHsl =\n          first.hue === second.hue && first.saturation === second.saturation && first.lightness === second.lightness;\n        return equalAlpha && equalHsl && !this.compareColor(first, second);\n      }\n      return firstValid === secondValid;\n    }\n    return first === second;\n  }\n\n  /**\n   * Compares two colors based on the Euclidean distance of the sRGB color space.\n   * @param first The first color to compare.\n   * @param second The second color to compare.\n   * @returns 0 if the colors are equal, a number less than 0 if the first color is earlier,\n   *     a number greater than 0 if the first color is later.\n   */\n  compareColor(first: Color, second: Color): number {\n    const redMean = (first.red - second.red) / 2;\n    const redDelta = first.red - second.red;\n    const greenDelta = first.green - second.green;\n    const blueDelta = first.blue - second.blue;\n    return Math.sqrt(\n      (2 + redMean / 256) * Math.pow(redDelta, 2) +\n        4 * Math.pow(greenDelta, 2) +\n        (2 + (255 - redDelta) / 256) * Math.pow(blueDelta, 2)\n    );\n  }\n\n  /** Returns the color if valid otherwise null */\n  getValidColorOrNull(color: Color): Color | null {\n    return this.isColorInstance(color) && this.isValid(color) ? color : null;\n  }\n\n  /**\n   * Checks wether the given color is valid\n   * @param color to be validated\n   */\n  isValid(color: Color) {\n    return (\n      color &&\n      color.red <= 255 &&\n      color.red >= 0 &&\n      color.green <= 255 &&\n      color.green >= 0 &&\n      color.blue <= 255 &&\n      color.blue >= 0 &&\n      color.hue < 360 &&\n      color.hue >= 0 &&\n      color.saturation <= 100 &&\n      color.saturation >= 0 &&\n      color.lightness <= 100 &&\n      color.lightness >= 0 &&\n      color.alpha <= 1 &&\n      color.alpha >= 0\n    );\n  }\n\n  /**\n   * Formats a color as a string according to the given format\n   * @param color The color to format\n   * @param format The format to display the color as a string\n   */\n  format(color: Color, format: ColorFormat, showAlpha = false): string {\n    switch (format) {\n      case 'HEX':\n        return this.toHexString(color, showAlpha);\n      case 'RGB':\n        return this.toRgbString(color, showAlpha);\n      case 'HSL':\n        return this.toHslString(color, showAlpha);\n      case 'HWB':\n        return this.toHwbString(color, showAlpha);\n      case 'CMYK':\n        return this.toCmykString(color);\n    }\n  }\n\n  /** Outputs the RGB/A string representation of a color */\n  toRgbString(color: Color, showAlpha = false): string {\n    const { red, green, blue, alpha } = color;\n    return showAlpha ? `rgba(${red}, ${green}, ${blue}, ${alpha})` : `rgb(${red}, ${green}, ${blue})`;\n  }\n\n  /** Outputs the HWB/A string representation of a color */\n  toHwbString(color: Color, showAlpha = false): string {\n    const { hue, whiteness, blackness } = rgbToHwb(color);\n    return showAlpha\n      ? `hwba(${hue}, ${Math.round(whiteness * 100)}%, ${Math.round(blackness * 100)}%, ${color.alpha})`\n      : `hwb(${hue}, ${Math.round(whiteness * 100)}%, ${Math.round(blackness * 100)}%)`;\n  }\n\n  /** Outputs the HWB/A decimals string representation of a color */\n  toHwbStringDecimal(color: Color, showAlpha = false): string {\n    const { hue, whiteness, blackness } = rgbToHwb(color);\n    return showAlpha\n      ? `hwba(${hue}, ${whiteness}, ${blackness}, ${color.alpha})`\n      : `hwb(${hue}, ${whiteness}, ${blackness})`;\n  }\n\n  /** Outputs the HSL/A string representation of a color */\n  toHslString(color: Color, showAlpha = false): string {\n    const { hue, saturation, lightness, alpha } = color;\n    return showAlpha\n      ? `hsla(${hue}, ${saturation}%, ${lightness}%, ${alpha})`\n      : `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n  }\n\n  /** Outputs the HSL/A decimals string representation of a color */\n  toHslStringDecimal(color: Color, showAlpha = false): string {\n    const { hue, saturation, lightness, alpha } = color;\n    return showAlpha\n      ? `hsla(${hue}, ${saturation}%, ${lightness}%, ${color.alpha})`\n      : `hsl(${hue}, ${saturation}, ${lightness}, ${color.alpha})`;\n  }\n\n  /** Outputs the CMYK string representation of a color */\n  toCmykString(color: Color): string {\n    const { cyan, magenta, yellow, black } = rgbToCmyk(color);\n    return `cmyk(${cyan}%, ${magenta}%, ${yellow}%, ${black}%)`;\n  }\n\n  /** Outputs the CMYK decimals string representation of a color */\n  toCmykStringDecimal(color: Color): string {\n    const { cyan, magenta, yellow, black } = rgbToCmyk(color);\n    return `cmyk(${cyan}, ${magenta}, ${yellow}, ${black})`;\n  }\n\n  /** Outputs the HEX/A string representation of a color */\n  toHexString(color: Color, showAlpha = false): string {\n    let code: string;\n    if (showAlpha) {\n      code = [color.red, color.green, color.blue, color.alpha * 100]\n        .map((x) => {\n          const hex = Math.round(x).toString(16);\n          return hex.length === 1 ? '0' + hex : hex;\n        })\n        .join('');\n    } else {\n      code = [color.red, color.green, color.blue]\n        .map((x) => {\n          const hex = Math.round(x).toString(16);\n          return hex.length === 1 ? '0' + hex : hex;\n        })\n        .join('');\n    }\n    return `#${code}`;\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { Color, fromHex, PaletteColor } from './color';\nimport { ColorFormat, CSS_COLOR_NAMES } from './color-spaces';\n\n/** Default color, commonly known as the NO COLOR (Black) */\nexport const DEFAULT_COLOR: Color = {\n  red: 0,\n  green: 0,\n  blue: 0,\n  hue: 0,\n  saturation: 0,\n  lightness: 0,\n  alpha: 1,\n};\n\n/** Default color module options that can be overridden. */\nexport interface MnjColorConfig {\n  showAlpha: boolean;\n  defaultColor: Color;\n  displayFormat: ColorFormat;\n  defaultPalette: PaletteColor[];\n}\n\n/** @docs-private */\nexport function MNJ_DEFAULT_COLOR_CONFIG_FACTORY(): MnjColorConfig {\n  return {\n    showAlpha: false,\n    defaultColor: DEFAULT_COLOR,\n    displayFormat: 'HEX',\n    defaultPalette: Object.keys(CSS_COLOR_NAMES).map((c) => ({\n      title: c,\n      color: fromHex(CSS_COLOR_NAMES[c]),\n      active: false,\n    })),\n  };\n}\n\n/** Injection token to be used to override the default options for color module. */\nexport const MNJ_COLOR_CONFIG_PROVIDER = new InjectionToken<MnjColorConfig>('mnj-color-default-options', {\n  providedIn: 'root',\n  factory: MNJ_DEFAULT_COLOR_CONFIG_FACTORY,\n});\n","import { Directive, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Color } from '../color/color';\r\nimport { ColorAdapter } from '../color/color-adapter';\r\n\r\n/** Pure abstract class due the impossibility to add decorators to interfaces */\r\n@Directive()\r\nexport abstract class ColorPickerView {\r\n  /**\r\n   * The current active color. This determines which color is\r\n   * highlighted when using keyboard navigation.\r\n   */\r\n  activeColor: Color;\r\n\r\n  /** The currently selected color. */\r\n  selected: Color;\r\n\r\n  /**\r\n   * Emits the color chosen in any view.\r\n   * This doesn't imply a change on the selected color.\r\n   */\r\n  readonly activeColorChange = new EventEmitter<Color>();\r\n}\r\n\r\n@Directive()\r\nexport abstract class BaseColorpickerView implements ColorPickerView {\r\n  /**\r\n   * The color to display in this armonies view.\r\n   */\r\n  @Input()\r\n  get activeColor(): Color {\r\n    return this._activeColor;\r\n  }\r\n  set activeColor(value: Color) {\r\n    const oldActiveColor = this._activeColor;\r\n    if (this._colorAdapter.isValid(value) && !this._colorAdapter.sameColor(oldActiveColor, value)) {\r\n      this._activeColor = value;\r\n    }\r\n  }\r\n  private _activeColor: Color;\r\n\r\n  @Input()\r\n  get selected(): Color {\r\n    return this._selected;\r\n  }\r\n\r\n  set selected(value: Color) {\r\n    if (this._colorAdapter.sameColor(this.selected, value)) {\r\n      return;\r\n    }\r\n    this._selected = this._colorAdapter.getValidColorOrNull(value);\r\n  }\r\n  _selected: Color;\r\n\r\n  @Output() readonly activeColorChange = new EventEmitter<Color>();\r\n\r\n  constructor(protected _colorAdapter: ColorAdapter) {}\r\n\r\n  changeColor(value: Color) {\r\n    this.activeColor = value;\r\n    this.activeColorChange.emit(this.activeColor);\r\n  }\r\n}\r\n","<ul class=\"mnj-grid-selector__row\" [style]=\"gridStyle()\">\n  <li\n    class=\"mnj-grid-selector__row--cell\"\n    *ngFor=\"let cell of grid\"\n    [title]=\"cell.title\"\n    [attr.tabIndex]=\"cell.active ? 0 : -1\"\n    [attr.aria-label]=\"cell.title\"\n    [attr.aria-selected]=\"cell.active\"\n    [style.background]=\"cssColor(cell.color)\"\n    [style]=\"cellSize()\"\n    (click)=\"selectColor(cell)\"\n  >\n    <div *ngIf=\"cell.active\" class=\"mnj-colorpicker-selector__thumb\" [style]=\"thumbSize()\">\n      <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\n    </div>\n  </li>\n</ul>\n","import { coerceNumberProperty } from '@angular/cdk/coercion';\nimport {\n  DOWN_ARROW,\n  END,\n  HOME,\n  LEFT_ARROW,\n  PAGE_DOWN,\n  PAGE_UP,\n  RIGHT_ARROW,\n  SPACE,\n  UP_ARROW,\n} from '@angular/cdk/keycodes';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { clamp, Color, PaletteColor } from '../../color/color';\nimport { ColorAdapter } from '../../color/color-adapter';\n\n@Component({\n  selector: 'mnj-grid-selector',\n  templateUrl: 'grid-selector.html',\n  styleUrls: ['grid-selector.scss'],\n  exportAs: 'mnjGridSelector',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'mnj-grid-selector',\n    role: 'grid',\n    '(keydown)': '_handleKeydownEvent($event)',\n  },\n})\nexport class MnjGridSelector implements AfterViewInit {\n  @Input()\n  get color(): Color {\n    return this._color;\n  }\n  set color(value: Color) {\n    if (this.colorAdapter.sameColor(this.color, value)) {\n      return;\n    }\n    this._color = value;\n    this._buildPalette();\n  }\n  private _color: Color;\n\n  @Input()\n  get paletteGeneratorFn(): (color: Color) => PaletteColor[] {\n    return this._paletteGeneratorFn;\n  }\n  set paletteGeneratorFn(value: (color: Color) => PaletteColor[]) {\n    this._paletteGeneratorFn = value;\n    this._buildPalette();\n  }\n  private _paletteGeneratorFn: (color: Color) => PaletteColor[];\n\n  @Input()\n  get columns(): number {\n    return this._columns || 10;\n  }\n\n  set columns(value: number) {\n    value = coerceNumberProperty(value);\n    if (this._columns !== value) {\n      this._columns = value;\n      this._calculateCellSize();\n    }\n  }\n\n  private _columns: number;\n\n  @Output()\n  public colorSelected = new EventEmitter<Color>();\n\n  grid: PaletteColor[] = [];\n\n  private _selectedIndex: number;\n\n  cssColor(color: Color) {\n    return this.colorAdapter.toRgbString(color);\n  }\n\n  cellSize() {\n    return { width: `${this._cellSize}px`, height: `${this._cellSize}px` };\n  }\n\n  private _cellSize: number;\n\n  thumbSize() {\n    return { width: `${this._thumbSize}px`, height: `${this._thumbSize}px` };\n  }\n\n  private _thumbSize: number;\n\n  gridStyle() {\n    return {\n      gridTemplateColumns: `repeat(${this.columns}, auto)`,\n      gridGap: `${0.25 * this._cellSize}px`,\n      padding: `${(this._cellSize * 0.25) / 2}px 0px`,\n    };\n  }\n\n  constructor(\n    private colorAdapter: ColorAdapter,\n    private _elementRef: ElementRef<HTMLElement>,\n    private _changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  ngAfterViewInit() {\n    this._calculateCellSize();\n    this._changeDetectorRef.markForCheck();\n  }\n\n  _buildPalette() {\n    if (this.paletteGeneratorFn && this.color) {\n      this.grid = this.paletteGeneratorFn(this.color);\n      this._selectedIndex = this.grid.findIndex((cell) => cell.active);\n\n      this._calculateCellSize();\n\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  _calculateCellSize() {\n    if (this._elementRef) {\n      const { width } = this._elementRef.nativeElement.getBoundingClientRect();\n      const cells = this.columns + this.columns * 0.25 + 1; // Columns per row + (Columns-1/2) spaces in each size of each Column\n      const cellSize = Math.trunc(width / cells);\n      this._cellSize = cellSize % 2 === 0 ? cellSize : cellSize - 1;\n\n      const thumbSize = Math.trunc(this._cellSize * 0.67);\n      this._thumbSize = thumbSize % 2 === 0 ? thumbSize : thumbSize - 1;\n    }\n  }\n\n  selectColor(shade: PaletteColor) {\n    const { color } = shade;\n    this.colorSelected.emit(color);\n  }\n\n  _handleKeydownEvent(event: KeyboardEvent) {\n    const grid = this.grid;\n    const oldActiveIndex = this._selectedIndex;\n    let activeIndex = oldActiveIndex;\n\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        activeIndex--;\n        break;\n      case RIGHT_ARROW:\n        activeIndex++;\n        break;\n      case UP_ARROW:\n        activeIndex -= this.columns;\n        break;\n      case DOWN_ARROW:\n        activeIndex += this.columns;\n        break;\n      case PAGE_UP:\n      case HOME:\n        activeIndex = 0;\n        break;\n      case PAGE_DOWN:\n      case END:\n        activeIndex = grid.length - 1;\n        break;\n      case SPACE:\n        event.preventDefault();\n        this.selectColor(grid[activeIndex]);\n        return;\n      default:\n        return;\n    }\n\n    activeIndex = clamp(0, grid.length - 1, activeIndex);\n    const cells: HTMLElement[] = Array.from(\n      this._elementRef.nativeElement.querySelectorAll('.mnj-grid-selector__row--cell')\n    );\n    if (activeIndex !== this._selectedIndex) {\n      cells[activeIndex].focus();\n      this._selectedIndex = activeIndex;\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\r\nimport {\r\n  analogous,\r\n  calculateShades,\r\n  Color,\r\n  complementary,\r\n  PaletteColor,\r\n  splitComplementary,\r\n  tetradic,\r\n  triadic,\r\n} from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseColorpickerView, ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-armonies-picker-view',\r\n  exportAs: 'mnjArmoniesPickerView',\r\n  templateUrl: 'armonies-view.html',\r\n  styleUrls: ['armonies-view.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjArmoniesPickerView }],\r\n  host: {\r\n    class: 'mnj-armonies-picker-view',\r\n  },\r\n})\r\nexport class MnjArmoniesPickerView extends BaseColorpickerView {\r\n  constructor(protected _colorAdapter: ColorAdapter) {\r\n    super(_colorAdapter);\r\n  }\r\n\r\n  complementaryPaletteFn = (color: Color): PaletteColor[] => {\r\n    const complementaryColor = complementary(color);\r\n    return calculateShades(complementaryColor);\r\n  };\r\n\r\n  splitComplementaryPaletteFn = (color: Color): PaletteColor[] => {\r\n    const splitComplementaryColor = splitComplementary(color)[0];\r\n    return calculateShades(splitComplementaryColor);\r\n  };\r\n  splitComplementaryPaletteFn1 = (color: Color): PaletteColor[] => {\r\n    const splitComplementaryColor = splitComplementary(color)[1];\r\n    return calculateShades(splitComplementaryColor);\r\n  };\r\n\r\n  analogous1PaletteFn = (color: Color): PaletteColor[] => {\r\n    const analogousColor = analogous(color)[0];\r\n    return calculateShades(analogousColor);\r\n  };\r\n  analogous2PaletteFn = (color: Color): PaletteColor[] => {\r\n    const analogousColor = analogous(color)[1];\r\n    return calculateShades(analogousColor);\r\n  };\r\n\r\n  triadic1PaletteFn = (color: Color): PaletteColor[] => {\r\n    const triadicColor = triadic(color)[0];\r\n    return calculateShades(triadicColor);\r\n  };\r\n  triadic2PaletteFn = (color: Color): PaletteColor[] => {\r\n    const triadicColor = triadic(color)[1];\r\n    return calculateShades(triadicColor);\r\n  };\r\n  tetradic1PaletteFn = (color: Color): PaletteColor[] => {\r\n    const tetradicColor = tetradic(color)[0];\r\n    return calculateShades(tetradicColor);\r\n  };\r\n  tetradic2PaletteFn = (color: Color): PaletteColor[] => {\r\n    const tetradicColor = tetradic(color)[1];\r\n    return calculateShades(tetradicColor);\r\n  };\r\n  tetradic3PaletteFn = (color: Color): PaletteColor[] => {\r\n    const tetradicColor = tetradic(color)[2];\r\n    return calculateShades(tetradicColor);\r\n  };\r\n}\r\n","<label>Complementary:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"complementaryPaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Split Complementary:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"splitComplementaryPaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"splitComplementaryPaletteFn1\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Analogous:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"analogous1PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"analogous2PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Triadic:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"triadic1PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"triadic2PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Tetradic:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"tetradic1PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"tetradic2PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"tetradic3PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { coerceElement } from '@angular/cdk/coercion';\r\nimport { normalizePassiveListenerOptions } from '@angular/cdk/platform';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { AfterViewInit, Directive, ElementRef, Inject, Input, NgZone, OnDestroy } from '@angular/core';\r\nimport { clamp, Color } from '../color/color';\r\nimport { ColorAdapter } from '../color/color-adapter';\r\n\r\nexport interface Point {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface Container {\r\n  top: number;\r\n  left: number;\r\n  right: number;\r\n  bottom: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\n// UTILS\r\nexport function getPointerPositionFromEvent(event: MouseEvent | TouchEvent): Point {\r\n  const { clientX: x, clientY: y } = event instanceof MouseEvent ? <MouseEvent>event : (<TouchEvent>event).touches[0];\r\n  return { x, y };\r\n}\r\n\r\nexport function isSamePosition(point1: Point, point2: Point) {\r\n  if (!point1 || !point2) {\r\n    return false;\r\n  }\r\n  return point1.x === point2.x && point1.y === point2.y;\r\n}\r\n\r\nexport function getContainerSize(container: ElementRef | HTMLElement): Container {\r\n  const { top, left, right, bottom, width, height } = coerceElement(container).getBoundingClientRect();\r\n  return { top, left, right, bottom, width, height };\r\n}\r\n\r\nexport function getPointerPositionInContainer(pointer: Point, container: Container): Point {\r\n  const pointerXToContainerX = (pointer.x - container.left) / container.width;\r\n  const pointerYToContainerY = (pointer.y - container.top) / container.height;\r\n  return { x: clamp(0, 1, pointerXToContainerX), y: clamp(0, 1, pointerYToContainerY) };\r\n}\r\n\r\n/** Options that can be used to bind a passive event listener. */\r\nexport const passiveEventListenerOptions = normalizePassiveListenerOptions({ passive: true });\r\n\r\n/** Options that can be used to bind an active event listener. */\r\nexport const activeEventListenerOptions = normalizePassiveListenerOptions({ passive: false });\r\n\r\n/** Event options that can be used to bind an active, capturing event. */\r\nexport const activeCapturingEventOptions = normalizePassiveListenerOptions({\r\n  passive: false,\r\n  capture: true,\r\n});\r\n\r\n@Directive()\r\nexport abstract class BaseSelector implements AfterViewInit, OnDestroy {\r\n  @Input()\r\n  get color(): Color {\r\n    return this._color;\r\n  }\r\n  set color(value: Color) {\r\n    if (this.colorAdapter.sameColor(this._color, value)) {\r\n      return;\r\n    }\r\n    this._color = value;\r\n    this._setColor(value);\r\n  }\r\n  public _color: Color;\r\n\r\n  cachedPointerPos: Point;\r\n  cachedContainerSize: Container;\r\n  thumbPosition: Point = { x: 0, y: 0 };\r\n\r\n  /** Keeps track of the event listeners that we've bound to the `document`. */\r\n  private _globalListeners = new Map<\r\n    string,\r\n    {\r\n      handler: (event: Event) => void;\r\n      options?: AddEventListenerOptions | boolean;\r\n    }\r\n  >();\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    protected _dir?: Directionality\r\n  ) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.attachListeners();\r\n    this.cachedContainerSize = getContainerSize(this._elementRef);\r\n    // Force setter after view is initialized\r\n    this._setColor(this.color);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._clearGlobalListeners();\r\n  }\r\n\r\n  // LISTENERS\r\n  attachListeners() {\r\n    const sliderElement = coerceElement(this._elementRef);\r\n    this._ngZone.runOutsideAngular(() => {\r\n      sliderElement.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n      sliderElement.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n    });\r\n  }\r\n\r\n  private addGlobalListeners() {\r\n    this._ngZone.runOutsideAngular(() => {\r\n      this._globalListeners.forEach((config, name) => {\r\n        this._document.addEventListener(name, config.handler, config.options);\r\n      });\r\n    });\r\n  }\r\n\r\n  /** Clears out the global event listeners from the `document`. */\r\n  private _clearGlobalListeners = () => {\r\n    this._globalListeners.forEach((config, name) => {\r\n      this._document.removeEventListener(name, config.handler, config.options);\r\n    });\r\n\r\n    this._globalListeners.clear();\r\n  };\r\n\r\n  /** Handler for the `mousedown`/`touchstart` events. */\r\n  private _pointerDown = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.cachedContainerSize = getContainerSize(this._elementRef);\r\n    this.cachedPointerPos = pointer;\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n    const isTouchEvent = event.type.startsWith('touch');\r\n    const moveEvent = isTouchEvent ? 'touchmove' : 'mousemove';\r\n    const upEvent = isTouchEvent ? 'touchend' : 'mouseup';\r\n    this._clearGlobalListeners();\r\n    this._globalListeners\r\n      .set(moveEvent, {\r\n        handler: this.pointerMove,\r\n        options: activeCapturingEventOptions,\r\n      })\r\n      .set(upEvent, {\r\n        handler: this._clearGlobalListeners,\r\n        options: true,\r\n      });\r\n    this.addGlobalListeners();\r\n  };\r\n\r\n  private pointerMove = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.cachedPointerPos = pointer;\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n  };\r\n\r\n  _isRtl() {\r\n    return this._dir && this._dir.value === 'rtl';\r\n  }\r\n\r\n  abstract calculateColorFromPosition(container: Container, pointerPos: Point);\r\n\r\n  abstract _setColor(color: Color);\r\n}\r\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { DOWN_ARROW, END, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  NgZone,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { clamp, Color, fromHsl, fromHsv } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { hslToHsv } from '../../color/color-conversions';\r\nimport { BaseSelector, Container, getPointerPositionInContainer, Point } from '../base-selector';\r\n\r\n@Component({\r\n  selector: 'mnj-saturation-selector',\r\n  templateUrl: 'sat-selector.html',\r\n  styleUrls: ['sat-selector.scss', '../base-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjSaturationSelector }],\r\n  host: {\r\n    class: 'mnj-colorpicker-selector mnj-saturation-selector',\r\n    '[class.mnj-saturation-selector--rtl]': '_isRtl()',\r\n    '[attr.tabindex]': '0',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjSaturationSelector extends BaseSelector {\r\n  @Output()\r\n  public satChange = new EventEmitter<Color>();\r\n\r\n  get satThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: `${this.thumbPosition.y}%` };\r\n  }\r\n\r\n  get satBackgroundColor() {\r\n    return { 'background-color': `hsl(${this.color.hue}, 100%, 50%)` };\r\n  }\r\n\r\n  get satThumbBackgroundColor() {\r\n    return { 'background-color': this.colorAdapter.format(this.color, 'RGB') };\r\n  }\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    protected _dir: Directionality\r\n  ) {\r\n    super(colorAdapter, _document, _ngZone, _elementRef, _dir);\r\n  }\r\n\r\n  _setColor(color: Color) {\r\n    if (this._elementRef) {\r\n      const { saturation, value } = hslToHsv(color);\r\n\r\n      let xPosition = clamp(0, 100, saturation);\r\n      const yPosition = clamp(0, 100, 100 - value);\r\n\r\n      if (this._isRtl()) {\r\n        xPosition = 100 - xPosition;\r\n      }\r\n\r\n      this.thumbPosition = { x: xPosition, y: yPosition };\r\n    }\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x, y } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      let pointerX = x * 100;\r\n      const pointerY = y * 100;\r\n\r\n      if (this._isRtl()) {\r\n        pointerX = 100 - pointerX;\r\n      }\r\n\r\n      this.thumbPosition = { x: pointerX, y: pointerY };\r\n\r\n      let saturation = Math.round(pointerX) || 0;\r\n      let value = Math.round(100 - pointerY) || 0;\r\n      saturation = clamp(0, 100, saturation);\r\n      value = clamp(0, 100, value);\r\n\r\n      const { hue } = this.color;\r\n      const color = fromHsv({ hue, saturation, value });\r\n\r\n      this.satChange.emit(color);\r\n    });\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    const { hue, saturation, lightness } = this.color;\r\n    const isRtl = this._isRtl();\r\n\r\n    let newSaturation = saturation;\r\n    let newLightness = lightness;\r\n\r\n    switch (event.keyCode) {\r\n      case UP_ARROW:\r\n        newLightness++;\r\n        break;\r\n      case LEFT_ARROW:\r\n        newSaturation += isRtl ? 1 : -1;\r\n        break;\r\n      case DOWN_ARROW:\r\n        newLightness--;\r\n        break;\r\n      case RIGHT_ARROW:\r\n        newSaturation += isRtl ? -1 : +1;\r\n        break;\r\n      case PAGE_UP:\r\n        newLightness = newLightness - 10;\r\n        break;\r\n      case PAGE_DOWN:\r\n        newLightness = newLightness + 10;\r\n        break;\r\n      case HOME:\r\n        newSaturation = 0;\r\n        newLightness = 0;\r\n        break;\r\n      case END:\r\n        newSaturation = 100;\r\n        newLightness = 50;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    newSaturation = clamp(0, 100, newSaturation);\r\n    newLightness = clamp(0, 100, newLightness);\r\n    const color = fromHsl({ hue, saturation: newSaturation, lightness: newLightness });\r\n    this.satChange.emit(color);\r\n  }\r\n}\r\n","<div class=\"mnj-saturation-selector__mask\">\n  <div class=\"mnj-saturation-selector__mask--fill\" [ngStyle]=\"satBackgroundColor\"></div>\n  <div class=\"mnj-saturation-selector__mask--saturation\"></div>\n  <div class=\"mnj-saturation-selector__mask--value\"></div>\n</div>\n\n<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"satThumbPos\">\n  <div class=\"mnj-colorpicker-selector__thumb__inner\" [ngStyle]=\"satThumbBackgroundColor\"></div>\n</div>\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { DOWN_ARROW, END, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  NgZone,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { clamp, Color, fromHsl } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseSelector, Container, getPointerPositionInContainer, Point } from '../base-selector';\r\n\r\n@Component({\r\n  selector: 'mnj-hue-selector',\r\n  templateUrl: 'hue-selector.html',\r\n  styleUrls: ['hue-selector.scss', '../base-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjHueSelector }],\r\n  host: {\r\n    class: 'mnj-colorpicker-selector mnj-hue-selector',\r\n    '[attr.tabindex]': '0',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjHueSelector extends BaseSelector {\r\n  @Output()\r\n  public hueChange = new EventEmitter<Color>();\r\n\r\n  get hueThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: '50%' };\r\n  }\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    protected _dir: Directionality\r\n  ) {\r\n    super(colorAdapter, _document, _ngZone, _elementRef, _dir);\r\n  }\r\n\r\n  _setColor(color: Color) {\r\n    if (this._elementRef) {\r\n      const hue = color.hue || 0;\r\n\r\n      let xPosition = clamp(0, 100, (hue / 360) * 100);\r\n\r\n      if (this._isRtl()) {\r\n        xPosition = 100 - xPosition;\r\n      }\r\n\r\n      this.thumbPosition = { x: xPosition, y: 50 };\r\n    }\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x: pointerToContainerX } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      let pointerX = Math.round(pointerToContainerX * 100);\r\n\r\n      if (this._isRtl()) {\r\n        pointerX = 100 - pointerX;\r\n      }\r\n\r\n      this.thumbPosition = { x: pointerX, y: 50 };\r\n\r\n      let hue = Math.round(pointerToContainerX * 360);\r\n      hue = clamp(0, 359, hue);\r\n\r\n      const { saturation, lightness } = this.color;\r\n\r\n      const color = fromHsl({ hue, saturation, lightness });\r\n\r\n      this.hueChange.emit(color);\r\n    });\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    const { hue: oldHue, saturation, lightness, alpha } = this.color;\r\n    const isRtl = this._isRtl();\r\n\r\n    let newHue = oldHue;\r\n\r\n    switch (event.keyCode) {\r\n      case UP_ARROW:\r\n      case LEFT_ARROW:\r\n        newHue = newHue + (isRtl ? 1 : -1);\r\n        break;\r\n      case DOWN_ARROW:\r\n      case RIGHT_ARROW:\r\n        newHue = newHue + (isRtl ? -1 : +1);\r\n        break;\r\n      case HOME:\r\n        newHue = 0;\r\n        break;\r\n      case END:\r\n        newHue = 359;\r\n        break;\r\n      case PAGE_UP:\r\n        newHue = newHue + (isRtl ? 60 : -60);\r\n        break;\r\n      case PAGE_DOWN:\r\n        newHue = newHue + (isRtl ? -60 : +60);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    newHue = (newHue + 360) % 360;\r\n    const color = fromHsl({ hue: newHue, saturation, lightness }, alpha);\r\n    this.hueChange.emit(color);\r\n  }\r\n}\r\n","<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"hueThumbPos\">\n  <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\n</div>\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { Color } from '../../color/color';\nimport { ColorAdapter } from '../../color/color-adapter';\n\n@Component({\n  selector: 'mnj-preview-swatch',\n  templateUrl: 'preview-swatch.html',\n  styleUrls: ['preview-swatch.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'mnj-preview-swatch',\n  },\n})\nexport class MnjPreviewSwatch {\n  @Input()\n  get color() {\n    return this._color;\n  }\n  set color(value: Color) {\n    if (this.colorAdapter.sameColor(this.color, value)) {\n      return;\n    }\n    this._color = value;\n  }\n  private _color: Color;\n\n  get cssBackground() {\n    return this.colorAdapter.toRgbString(this.color, true);\n  }\n\n  constructor(private colorAdapter: ColorAdapter) {}\n}\n","<div class=\"swatch__container\">\n  <div class=\"swatch__container--alpha-layer\"></div>\n  <div class=\"swatch__container--color-layer\" [style.background]=\"cssBackground\"></div>\n</div>\n","import { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Color } from '../../color/color';\nimport { ColorAdapter } from '../../color/color-adapter';\nimport { ColorFormat } from '../../color/color-spaces';\n\n@Component({\n  selector: 'mnj-input-selector',\n  templateUrl: 'input-selector.html',\n  styleUrls: ['input-selector.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'mnj-input-selector',\n    '(keydown)': '_handleKeydownEvent($event)',\n  },\n})\nexport class MnjInputSelector {\n  @Input()\n  get color(): Color {\n    return this._color;\n  }\n  set color(value: Color) {\n    if (this.colorAdapter.sameColor(this.color, value)) {\n      return;\n    }\n    this._color = value;\n  }\n\n  private _color: Color;\n\n  @Input()\n  set colorFormat(value: ColorFormat) {\n    if (value !== this._colorFormat) {\n      this._colorFormat = value;\n      this._selectedIndex = this._formats.indexOf(value);\n    }\n  }\n\n  private _colorFormat: ColorFormat = 'HEX';\n\n  @Output() inputChange = new EventEmitter<Color>();\n\n  @ViewChild('colorInput') colorInput: ElementRef<HTMLInputElement>;\n\n  get colorString() {\n    return this.colorAdapter.format(this.color, this._colorFormat, this.color.alpha !== 1);\n  }\n\n  private _formats: ColorFormat[] = ['HEX', 'RGB', 'HSL', 'HWB', 'CMYK'];\n  private _selectedIndex = 0;\n\n  constructor(public colorAdapter: ColorAdapter) {}\n\n  changeColor(event: Event) {\n    const colorString = (<HTMLInputElement>event.target).value;\n    const color = this.colorAdapter.parse(colorString);\n    if (this.colorAdapter.isValid(color)) {\n      this.inputChange.emit(color);\n    }\n  }\n\n  nextFormat() {\n    this._selectedIndex = (this._selectedIndex + this._formats.length + 1) % this._formats.length;\n    this.colorFormat = this._formats[this._selectedIndex];\n  }\n\n  previousFormat() {\n    this._selectedIndex = (this._selectedIndex + this._formats.length - 1) % this._formats.length;\n    this.colorFormat = this._formats[this._selectedIndex];\n  }\n\n  _handleKeydownEvent(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case UP_ARROW:\n      case LEFT_ARROW:\n        this.previousFormat();\n        break;\n      case DOWN_ARROW:\n      case RIGHT_ARROW:\n        this.nextFormat();\n        break;\n      default:\n        return;\n    }\n  }\n}\n","<div class=\"mnj-input-selector__container\">\n  <input\n    #colorInput\n    class=\"color-input\"\n    type=\"text\"\n    autocorrect=\"off\"\n    autocomplete=\"off\"\n    spellcheck=\"false\"\n    aria-label=\"Color code\"\n    [value]=\"colorString\"\n    (change)=\"changeColor($event)\"\n  />\n  <div class=\"mnj-input-selector__container__switch-buttons\">\n    <span class=\"switch-buttons--prev\" (click)=\"previousFormat()\">\n      <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" viewBox=\"0 0 24 24\">\n        <path d=\"M23.25 20L12 5.63.78 20 0 19.38 12 4l12 15.4-.76.6z\" />\n      </svg> -->\n    </span>\n    <span class=\"switch-buttons--next\" (click)=\"nextFormat()\">\n      <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" viewBox=\"0 0 24 24\">\n        <path d=\"M23.25 4L12 18.37.78 4 0 4.62 12 20 24 4.6l-.76-.6z\" />\n      </svg> -->\n    </span>\n  </div>\n</div>\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { DOWN_ARROW, END, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  NgZone,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { clamp, Color } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseSelector, Container, getPointerPositionInContainer, Point } from '../base-selector';\r\n\r\n@Component({\r\n  selector: 'mnj-alpha-selector',\r\n  templateUrl: 'alpha-selector.html',\r\n  styleUrls: ['alpha-selector.scss', '../base-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjAlphaSelector }],\r\n  host: {\r\n    class: 'mnj-colorpicker-selector mnj-alpha-selector',\r\n    '[attr.tabindex]': '0',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjAlphaSelector extends BaseSelector {\r\n  @Output()\r\n  public alphaChange = new EventEmitter<Color>();\r\n\r\n  get alphaThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: '50%' };\r\n  }\r\n\r\n  public get gradient() {\r\n    const { red, green, blue } = this.color;\r\n    const direction = this._isRtl() ? 'to left' : 'to right';\r\n    return {\r\n      backgroundImage: `linear-gradient(${direction}, rgba(${red}, ${green}, ${blue}, 0) 0%, rgb(${red}, ${green}, ${blue}) 100%)`,\r\n    };\r\n  }\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    protected _dir: Directionality\r\n  ) {\r\n    super(colorAdapter, _document, _ngZone, _elementRef, _dir);\r\n  }\r\n\r\n  _setColor(color: Color) {\r\n    if (this._elementRef) {\r\n      const alpha = color.alpha * 100;\r\n\r\n      let xPosition = clamp(0, 100, alpha);\r\n\r\n      if (this._isRtl()) {\r\n        xPosition = 100 - xPosition;\r\n      }\r\n\r\n      this.thumbPosition = { x: xPosition, y: 50 };\r\n    }\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x: pointerToContainerX } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      let pointerX = Math.round(pointerToContainerX * 100);\r\n\r\n      if (this._isRtl()) {\r\n        pointerX = 100 - pointerX;\r\n      }\r\n\r\n      this.thumbPosition = { x: pointerX, y: 50 };\r\n\r\n      const alpha = Math.round(pointerX) / 100;\r\n\r\n      const color = { ...this.color };\r\n      color.alpha = alpha;\r\n\r\n      this.alphaChange.emit(color);\r\n    });\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    const { alpha: oldAlpha } = this.color;\r\n    const isRtl = this._isRtl();\r\n\r\n    let newAlpha = oldAlpha;\r\n\r\n    switch (event.keyCode) {\r\n      case UP_ARROW:\r\n      case LEFT_ARROW:\r\n        newAlpha = newAlpha + (isRtl ? 0.01 : -0.01);\r\n        break;\r\n      case DOWN_ARROW:\r\n      case RIGHT_ARROW:\r\n        newAlpha = newAlpha + (isRtl ? -0.01 : 0.01);\r\n        break;\r\n      case HOME:\r\n        newAlpha = 0;\r\n        break;\r\n      case END:\r\n        newAlpha = 1;\r\n        break;\r\n      case PAGE_UP:\r\n        newAlpha = newAlpha + (isRtl ? 0.1 : -0.1);\r\n        break;\r\n      case PAGE_DOWN:\r\n        newAlpha = newAlpha + (isRtl ? -0.1 : 0.1);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    newAlpha = clamp(0, 1, newAlpha);\r\n    const color = { ...this.color, ...{ alpha: newAlpha } };\r\n    this.alphaChange.emit(color);\r\n  }\r\n}\r\n","<div class=\"mnj-alpha-selector__gradient\" [ngStyle]=\"gradient\"></div>\n\n<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"alphaThumbPos\">\n  <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\n</div>\n","<mnj-grid-selector\n  cdkFocusInitial\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"colorShadesFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-saturation-selector [color]=\"activeColor\" (satChange)=\"changeColor($event)\"></mnj-saturation-selector>\n<mnj-hue-selector [color]=\"activeColor\" (hueChange)=\"changeColor($event)\"></mnj-hue-selector>\n<mnj-alpha-selector *ngIf=\"showAlpha\" [color]=\"activeColor\" (alphaChange)=\"changeColor($event)\"></mnj-alpha-selector>\n<div class=\"controls-container\">\n  <mnj-preview-swatch [color]=\"activeColor\"></mnj-preview-swatch>\n  <mnj-input-selector\n    class=\"controls-container--input\"\n    [color]=\"activeColor\"\n    (inputChange)=\"changeColor($event)\"\n  ></mnj-input-selector>\n</div>\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { calculateShades, Color } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseColorpickerView, ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-chrome-picker-view',\r\n  exportAs: 'mnjChromePickerView',\r\n  templateUrl: 'chrome-view.html',\r\n  styleUrls: ['chrome-view.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjChromePickerView }],\r\n  host: {\r\n    class: 'mnj-chrome-picker-view',\r\n  },\r\n})\r\nexport class MnjChromePickerView extends BaseColorpickerView {\r\n  @Input() showAlpha: boolean;\r\n\r\n  colorShadesFn = (color: Color) => {\r\n    return calculateShades(color);\r\n  };\r\n\r\n  constructor(protected _colorAdapter: ColorAdapter) {\r\n    super(_colorAdapter);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\r\nimport { Color, PaletteColor } from '../../color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-palette-picker-view',\r\n  templateUrl: 'palette-view.html',\r\n  styleUrls: ['palette-view.scss'],\r\n  exportAs: 'mnjPalettePickerView',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjPalettePickerView }],\r\n  host: {\r\n    class: 'mnj-palette-picker-view',\r\n  },\r\n})\r\nexport class MnjPalettePickerView implements ColorPickerView {\r\n  @Input()\r\n  get activeColor(): Color {\r\n    return this._activeColor;\r\n  }\r\n  set activeColor(value: Color) {\r\n    const oldActiveColor = this._activeColor;\r\n    if (this._colorAdapter.isValid(value) && !this._colorAdapter.sameColor(oldActiveColor, value)) {\r\n      this._activeColor = value;\r\n      this._selectColorInPalette();\r\n    }\r\n  }\r\n  private _activeColor: Color;\r\n\r\n  @Input()\r\n  get selected(): Color {\r\n    return this._selected;\r\n  }\r\n\r\n  set selected(value: Color) {\r\n    if (this._colorAdapter.sameColor(this.selected, value)) {\r\n      return;\r\n    }\r\n    this._selected = this._colorAdapter.getValidColorOrNull(value);\r\n    this._selectColorInPalette();\r\n  }\r\n  _selected: Color;\r\n\r\n  @Input()\r\n  get palette(): PaletteColor[] {\r\n    return this._palette;\r\n  }\r\n  set palette(value: PaletteColor[]) {\r\n    this._palette = value;\r\n    this._selectColorInPalette();\r\n  }\r\n  private _palette: PaletteColor[];\r\n\r\n  paletteFn = () => this.palette;\r\n\r\n  // tslint:disable-next-line: member-ordering\r\n  @Output() readonly activeColorChange = new EventEmitter<Color>();\r\n\r\n  constructor(protected _colorAdapter: ColorAdapter) {}\r\n\r\n  changeColor(value: Color) {\r\n    this.activeColor = value;\r\n    this.activeColorChange.emit(this.activeColor);\r\n  }\r\n\r\n  _selectColorInPalette() {\r\n    if (!this.palette || !this.activeColor) {\r\n      return;\r\n    }\r\n    const defaultSelected = this.palette.findIndex((p) => p.active === true);\r\n    if (defaultSelected >= 0) {\r\n      this._palette[defaultSelected].active = false;\r\n    }\r\n    let matchIndex = this.palette.findIndex((p) => this._colorAdapter.sameColor(p.color, this.activeColor));\r\n    // If no match select the first one for keyboard accesibility\r\n    matchIndex = Math.max(0, matchIndex);\r\n    this._palette[matchIndex].active = true;\r\n  }\r\n}\r\n","<mnj-grid-selector\r\n  [color]=\"activeColor\"\r\n  [paletteGeneratorFn]=\"paletteFn\"\r\n  columns=\"6\"\r\n  (colorSelected)=\"changeColor($event)\"\r\n></mnj-grid-selector>\r\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n/** Colorpicker data that requires internationalization. */\n@Injectable({ providedIn: 'root' })\nexport class MnjColorpickerIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  readonly changes: Subject<void> = new Subject<void>();\n\n  /** A label for the Color wheel view (used by screen readers) */\n  pickerView: string = 'Color Picker';\n\n  /** A label for the Color armonies view (used by screen readers) */\n  armoniesView: string = 'Color Armonies';\n\n  /** A label for the Color palette view (used by screen readers) */\n  paletteView: string = 'Color Palette';\n\n  /** A label for the Color palette view (used by screen readers) */\n  scanView: string = 'Color Scan';\n\n  /** A label for the scan picker view */\n  uploadPhotoToScan: string = 'Click or drop a picture to scan';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToPickerView: string = 'Choose color';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToArmoniesView: string = 'Choose armonie';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToPaletteView: string = 'Choose from palette';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToScanView: string = 'Choose from a picture';\n\n  /** A label for the button used to open the color picker popup (used by screen readers). */\n  openColorPickerLabel: string = 'Open Color Picker';\n}\n","<canvas #imageCanvas></canvas>\r\n<div *ngIf=\"showPipetteSwatch\" class=\"mnj-pipette-selector__swatch-container\" [ngStyle]=\"swatchGridPos\">\r\n  <div class=\"mnj-pipette-selector__swatch-container__grid\" [ngStyle]=\"swatchGridStyle\">\r\n    <div\r\n      class=\"mnj-pipette-selector__swatch-container--cell\"\r\n      *ngFor=\"let swatch of pipetteSwatchPalette; let i = index\"\r\n      [style.background]=\"getPixelBackground(swatch)\"\r\n      [class.mnj-pipette-selector__swatch-container--cell--active]=\"i === _swatchMiddle\"\r\n    ></div>\r\n  </div>\r\n</div>\r\n<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"canvasThumbPos\">\r\n  <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\r\n</div>\r\n","import { coerceBooleanProperty, coerceElement, coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { take } from 'rxjs/operators';\r\nimport { Color, fromRgb } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport {\r\n  activeCapturingEventOptions,\r\n  activeEventListenerOptions,\r\n  BaseSelector,\r\n  Container,\r\n  getContainerSize,\r\n  getPointerPositionFromEvent,\r\n  getPointerPositionInContainer,\r\n  isSamePosition,\r\n  passiveEventListenerOptions,\r\n  Point,\r\n} from '../base-selector';\r\n\r\ntype SelfPosition = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\r\n\r\n@Component({\r\n  selector: 'mnj-pipette-selector',\r\n  templateUrl: 'pipette-selector.html',\r\n  styleUrls: ['pipette-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjPipetteSelector }],\r\n  host: {\r\n    class: 'mnj-pipette-selector',\r\n  },\r\n})\r\nexport class MnjPipetteSelector implements AfterViewInit, OnDestroy {\r\n  @ViewChild('imageCanvas') canvas: ElementRef<HTMLCanvasElement>;\r\n\r\n  @Input()\r\n  get image(): HTMLImageElement {\r\n    return this._image;\r\n  }\r\n\r\n  set image(value: HTMLImageElement) {\r\n    this._image = value;\r\n    this._paintCanvas();\r\n  }\r\n\r\n  private _image: HTMLImageElement;\r\n\r\n  @Input()\r\n  set swatchCells(value: number) {\r\n    value = coerceNumberProperty(value);\r\n    value = value % 2 === 1 ? value : value - 1;\r\n    if (value !== this._swatchCells) {\r\n      this._swatchCells = value;\r\n      this._swatchMiddle = Math.floor(Math.pow(value, 2) / 2);\r\n    }\r\n  }\r\n  private _swatchCells;\r\n  _swatchMiddle;\r\n\r\n  @Output()\r\n  public pipetteColorChange = new EventEmitter<Color>();\r\n\r\n  get canvasThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: `${this.thumbPosition.y}%` };\r\n  }\r\n\r\n  get swatchGridStyle() {\r\n    return {\r\n      gridTemplateColumns: `repeat(${this._swatchCells}, 10px)`,\r\n      gridTemplateRows: `repeat(${this._swatchCells}, 10px)`,\r\n    };\r\n  }\r\n\r\n  get swatchGridPos() {\r\n    const delta = (this._swatchCells * 4) / 3;\r\n    let translate;\r\n    switch (this.swatchPosition) {\r\n      case 'bottom-right': {\r\n        translate = `${delta}%, ${delta}%`;\r\n        break;\r\n      }\r\n      case 'top-right': {\r\n        translate = `${delta}%, ${-100 - delta}%`;\r\n        break;\r\n      }\r\n      case 'top-left': {\r\n        translate = `${-100 - delta}%, ${-100 - delta}%`;\r\n        break;\r\n      }\r\n      case 'bottom-left': {\r\n        translate = `${-100 - delta}%, ${delta}%`;\r\n        break;\r\n      }\r\n    }\r\n    return {\r\n      left: `${this.thumbPosition.x}%`,\r\n      top: `${this.thumbPosition.y}%`,\r\n      transform: `translate(${translate})`,\r\n      width: `${this._swatchCells * 10 + 1}px`,\r\n    };\r\n  }\r\n\r\n  getPixelBackground(pixel) {\r\n    return `rgba(${pixel.red}, ${pixel.green}, ${pixel.blue}, ${pixel.alpha})`;\r\n  }\r\n\r\n  get showPipetteSwatch() {\r\n    return this._showPipetteSwatch && !!this.image;\r\n  }\r\n\r\n  set showPipetteSwatch(value: boolean) {\r\n    value = coerceBooleanProperty(value);\r\n    if (this._showPipetteSwatch !== value) {\r\n      this._showPipetteSwatch = value;\r\n      this._changeDetectorRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  private _showPipetteSwatch = false;\r\n\r\n  cachedPointerPos: Point;\r\n  cachedContainerSize: Container;\r\n  thumbPosition: Point = { x: 0, y: 0 };\r\n  swatchPosition: SelfPosition = 'bottom-right';\r\n\r\n  /** Keeps track of the event listeners that we've bound to the `document`. */\r\n  private _globalListeners = new Map<\r\n    string,\r\n    {\r\n      handler: (event: Event) => void;\r\n      options?: AddEventListenerOptions | boolean;\r\n    }\r\n  >();\r\n\r\n  pipetteSwatchPalette = [];\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef<HTMLElement>,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.swatchCells = 9;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.attachListeners();\r\n    if (this._image) {\r\n      // Paint canvas if there was a pending image that could not be rendered until this momment\r\n      this._ngZone.onStable.pipe(take(1)).subscribe(() => this._paintCanvas());\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._clearGlobalListeners();\r\n  }\r\n\r\n  // LISTENERS\r\n  attachListeners() {\r\n    const sliderElement = coerceElement(this._elementRef);\r\n    this._ngZone.runOutsideAngular(() => {\r\n      sliderElement.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n      sliderElement.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n    });\r\n  }\r\n\r\n  private addGlobalListeners() {\r\n    this._ngZone.runOutsideAngular(() => {\r\n      this._globalListeners.forEach((config, name) => {\r\n        this._document.addEventListener(name, config.handler, config.options);\r\n      });\r\n    });\r\n  }\r\n\r\n  /** Clears out the global event listeners from the `document`. */\r\n  private _clearGlobalListeners = () => {\r\n    this.showPipetteSwatch = false;\r\n\r\n    this._globalListeners.forEach((config, name) => {\r\n      this._document.removeEventListener(name, config.handler, config.options);\r\n    });\r\n\r\n    this._globalListeners.clear();\r\n  };\r\n\r\n  /** Handler for the `mousedown`/`touchstart` events. */\r\n  private _pointerDown = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.cachedContainerSize = getContainerSize(this._elementRef);\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n    const isTouchEvent = event.type.startsWith('touch');\r\n    const moveEvent = isTouchEvent ? 'touchmove' : 'mousemove';\r\n    const upEvent = isTouchEvent ? 'touchend' : 'mouseup';\r\n    this._clearGlobalListeners();\r\n    this._globalListeners\r\n      .set(moveEvent, {\r\n        handler: this.pointerMove,\r\n        options: activeCapturingEventOptions,\r\n      })\r\n      .set(upEvent, {\r\n        handler: this._clearGlobalListeners,\r\n        options: true,\r\n      });\r\n\r\n    this.showPipetteSwatch = true;\r\n\r\n    this.addGlobalListeners();\r\n  };\r\n\r\n  private pointerMove = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n  };\r\n\r\n  _paintCanvas() {\r\n    if (this.image && this.canvas) {\r\n      const canvasElement = coerceElement(this.canvas);\r\n      const { width: imgWidth, height: imgHeight } = this.image;\r\n      const { width: containerWidth, height: containerHeight } = coerceElement(\r\n        this._elementRef\r\n      ).getBoundingClientRect();\r\n\r\n      const ctx = canvasElement.getContext('2d');\r\n      ctx.clearRect(0, 0, canvasElement.height, canvasElement.width);\r\n\r\n      const canvasWidth = Math.floor(containerWidth);\r\n      const canvasHeight = Math.floor(containerHeight);\r\n\r\n      const { offsetX, offsetY, width, height } = this._fitImage(canvasWidth, canvasHeight, imgWidth, imgHeight);\r\n\r\n      canvasElement.width = canvasWidth;\r\n      canvasElement.height = canvasHeight;\r\n\r\n      ctx.drawImage(this.image, offsetX, offsetY, width, height);\r\n\r\n      this._changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x, y } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      const pointerX = x * 100;\r\n      const pointerY = y * 100;\r\n\r\n      this.thumbPosition = { x: pointerX, y: pointerY };\r\n      this.swatchPosition = this._getSwatchPosition(pointerPos, container);\r\n\r\n      const leftPos = pointerPos.x - container.left;\r\n      const topPos = pointerPos.y - container.top;\r\n\r\n      const ctx = this.canvas.nativeElement.getContext('2d');\r\n      const negativeOffset = this._swatchCells / 2 - 1;\r\n      const pixels = ctx.getImageData(\r\n        leftPos - negativeOffset,\r\n        topPos - negativeOffset,\r\n        this._swatchCells,\r\n        this._swatchCells\r\n      );\r\n\r\n      this.pipetteSwatchPalette = [];\r\n      for (let i = 0; i < pixels.data.length; i += 4) {\r\n        this.pipetteSwatchPalette.push({\r\n          red: pixels.data[i],\r\n          green: pixels.data[i + 1],\r\n          blue: pixels.data[i + 2],\r\n          alpha: pixels.data[i + 3] / 255,\r\n        });\r\n      }\r\n\r\n      const { red, green, blue, alpha } = this.pipetteSwatchPalette[this._swatchMiddle];\r\n      const color = fromRgb({ red, green, blue }, alpha);\r\n      this.pipetteColorChange.emit(color);\r\n\r\n      this._changeDetectorRef.markForCheck();\r\n    });\r\n  }\r\n\r\n  /** Centers and resize given children container into the parent container */\r\n  private _fitImage(parentWidth, parentHeight, childWidth, childHeight, scale = 1, offsetX = 0.5, offsetY = 0.5) {\r\n    const childRatio = childWidth / childHeight;\r\n    const parentRatio = parentWidth / parentHeight;\r\n    let width = parentWidth * scale;\r\n    let height = parentHeight * scale;\r\n\r\n    if (childRatio > parentRatio) {\r\n      height = width / childRatio;\r\n    } else {\r\n      width = height * childRatio;\r\n    }\r\n\r\n    return {\r\n      width,\r\n      height,\r\n      offsetX: (parentWidth - width) * offsetX,\r\n      offsetY: (parentHeight - height) * offsetY,\r\n    };\r\n  }\r\n\r\n  private _getSwatchPosition(\r\n    pointerPos: Point,\r\n    container: Container\r\n  ): 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right' {\r\n    const { x, y } = pointerPos;\r\n    const { right, bottom } = container;\r\n    const swatchRight = x + 10 * this._swatchCells + 1; // 10 pixels per cell plus 1px border\r\n    const swatchBottom = y + 10 * this._swatchCells + 1; // 10 pixels per cells plus 1px border\r\n\r\n    const topOrBottom = swatchBottom > bottom;\r\n    const leftOrRight = swatchRight > right;\r\n\r\n    if (!topOrBottom && !leftOrRight) return 'bottom-right';\r\n    if (topOrBottom && leftOrRight) return 'top-left';\r\n    if (topOrBottom && !leftOrRight) return 'top-right';\r\n    if (!topOrBottom && leftOrRight) return 'bottom-left';\r\n  }\r\n}\r\n","<div\r\n  *ngIf=\"!_loadedImage\"\r\n  class=\"upload-control\"\r\n  (click)=\"fileInput.click()\"\r\n  (drop)=\"uploadFile($event)\"\r\n  (dragover)=\"_allowDrop($event)\"\r\n>\r\n  <span class=\"mat-body\">{{uploadPhotoToScanLabel}}</span>\r\n</div>\r\n<input class=\"upload-control--fileInput\" #fileInput type=\"file\" accept=\"image/*\" (change)=\"uploadFile($event)\" />\r\n<ng-container *ngIf=\"_loadedImage\">\r\n  <mnj-pipette-selector [image]=\"_loadedImage\" (pipetteColorChange)=\"changeColor($event)\"></mnj-pipette-selector>\r\n  <button mat-mini-fab color=\"primary\" class=\"upload-control--fab\" (click)=\"fileInput.click()\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n      <path\r\n        d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\r\n      />\r\n    </svg>\r\n  </button>\r\n  <div class=\"controls-container\">\r\n    <mnj-preview-swatch [color]=\"activeColor\"></mnj-preview-swatch>\r\n    <mnj-input-selector class=\"controls-container--input\" [color]=\"activeColor\"></mnj-input-selector>\r\n  </div>\r\n</ng-container>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, ViewEncapsulation } from '@angular/core';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { MnjColorpickerIntl } from '../../colorpicker-intl';\r\nimport { BaseColorpickerView, ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-scan-picker-view',\r\n  exportAs: 'mnjScanPickerView',\r\n  templateUrl: 'scan-view.html',\r\n  styleUrls: ['scan-view.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjScanPickerView }],\r\n  host: {\r\n    class: 'mnj-scan-picker-view',\r\n  },\r\n})\r\nexport class MnjScanPickerView extends BaseColorpickerView implements OnDestroy {\r\n  _loadedImage: HTMLImageElement;\r\n\r\n  get uploadPhotoToScanLabel() {\r\n    return this._intl.uploadPhotoToScan;\r\n  }\r\n\r\n  constructor(\r\n    protected _colorAdapter: ColorAdapter,\r\n    private _intl: MnjColorpickerIntl,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    super(_colorAdapter);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._loadedImage) {\r\n      URL.revokeObjectURL(this._loadedImage.src);\r\n    }\r\n  }\r\n\r\n  uploadFile(event: DragEvent | Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const files =\r\n      event.type === 'drop' ? (<DragEvent>event).dataTransfer.files : (<HTMLInputElement>event.target).files;\r\n\r\n    if (files && files.length) {\r\n      const file = files[0];\r\n      if (!file.type.match('image.*')) {\r\n        return;\r\n      }\r\n      const image = new Image();\r\n      image.onload = () => {\r\n        this._loadedImage = image;\r\n        this.changeDetectorRef.markForCheck();\r\n      };\r\n      image.src = URL.createObjectURL(file);\r\n    }\r\n  }\r\n\r\n  _allowDrop(event: DragEvent) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n","<mnj-color-panel-header cdkFocusInitial></mnj-color-panel-header>\r\n<div class=\"mnj-color-panel-content\" [ngSwitch]=\"currentView\" cdkMonitorSubtreeFocus tabindex=\"-1\">\r\n  <mnj-chrome-picker-view\r\n    *ngSwitchCase=\"'picker'\"\r\n    [(activeColor)]=\"activeColor\"\r\n    [selected]=\"selected\"\r\n    [showAlpha]=\"showAlpha\"\r\n  >\r\n  </mnj-chrome-picker-view>\r\n  <mnj-armonies-picker-view *ngSwitchCase=\"'armonies'\" [(activeColor)]=\"activeColor\" [selected]=\"selected\">\r\n  </mnj-armonies-picker-view>\r\n  <mnj-palette-picker-view\r\n    *ngSwitchCase=\"'palette'\"\r\n    [(activeColor)]=\"activeColor\"\r\n    [palette]=\"palette\"\r\n    [selected]=\"selected\"\r\n  >\r\n  </mnj-palette-picker-view>\r\n  <mnj-scan-picker-view *ngSwitchCase=\"'scan'\" [(activeColor)]=\"activeColor\" [selected]=\"selected\">\r\n  </mnj-scan-picker-view>\r\n</div>\r\n<div class=\"mnj-color-panel-footer\">\r\n  <button mat-button [color]=\"color\" (click)=\"_selectColor()\">Save</button>\r\n</div>\r\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { ENTER } from '@angular/cdk/keycodes';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ThemePalette } from '@angular/material/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { Color, PaletteColor } from './color/color';\r\nimport { ColorAdapter } from './color/color-adapter';\r\nimport { MnjColorConfig, MNJ_COLOR_CONFIG_PROVIDER } from './color/color-config';\r\nimport { MnjColorpickerIntl } from './colorpicker-intl';\r\nimport { ColorPickerView } from './views';\r\n\r\n/**\r\n * Possible views for the color-panel.\r\n * @docs-private\r\n */\r\nexport type MnjColorPanelView = 'picker' | 'armonies' | 'palette' | 'scan';\r\n\r\n/** Default header for MnjColorPanel */\r\n@Component({\r\n  selector: 'mnj-color-panel-header',\r\n  templateUrl: 'color-panel-header.html',\r\n  exportAs: 'mnjColorPanelHeader',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MnjColorPanelHeader {\r\n  private _views: MnjColorPanelView[] = ['picker', 'armonies', 'palette', 'scan'];\r\n\r\n  constructor(\r\n    private _intl: MnjColorpickerIntl,\r\n    @Inject(forwardRef(() => MnjColorPanel)) public colorPanel: MnjColorPanel,\r\n    changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.colorPanel.stateChanges.subscribe(() => changeDetectorRef.markForCheck());\r\n  }\r\n\r\n  /** The label for the current color panel view. */\r\n  get pickerButtonText(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.pickerView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.armoniesView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.paletteView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.scanView;\r\n      }\r\n    }\r\n  }\r\n\r\n  get pickerViewButtonLabel(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.switchToArmoniesView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.switchToPaletteView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.switchToScanView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.switchToPickerView;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** The label for the previous button. */\r\n  get prevButtonLabel(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.switchToScanView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.switchToPickerView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.switchToArmoniesView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.switchToPaletteView;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** The label for the next button. */\r\n  get nextButtonLabel(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.switchToArmoniesView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.switchToPaletteView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.switchToScanView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.switchToPickerView;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Handles user clicks on the previous button. */\r\n  previousClicked(): void {\r\n    let index = this._views.findIndex((v) => v === this.colorPanel.currentView);\r\n    index = (index + 4 - 1) % 4;\r\n    this.colorPanel.currentView = this._views[index];\r\n  }\r\n\r\n  /** Handles user clicks on the next button. */\r\n  nextClicked(): void {\r\n    let index = this._views.findIndex((v) => v === this.colorPanel.currentView);\r\n    index = (index + 4 + 1) % 4;\r\n    this.colorPanel.currentView = this._views[index];\r\n  }\r\n\r\n  /** Whether the previous period button is enabled. */\r\n  previousEnabled(): boolean {\r\n    return this.colorPanel.currentView !== 'picker';\r\n  }\r\n\r\n  /** Whether the next period button is enabled. */\r\n  nextEnabled(): boolean {\r\n    return this.colorPanel.currentView !== 'scan';\r\n  }\r\n}\r\n\r\n/**\r\n * A color panel that is used as part of the colorpicker.\r\n * @docs-private\r\n */\r\n@Component({\r\n  selector: 'mnj-color-panel',\r\n  templateUrl: 'color-panel.html',\r\n  styleUrls: ['color-panel.scss'],\r\n  exportAs: 'mnjColorPanel',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    class: 'mnj-color-panel',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjColorPanel implements AfterContentInit, OnDestroy {\r\n  private _intlChanges: Subscription;\r\n\r\n  /** Color palette to use on the color panel. */\r\n  @Input() color: ThemePalette;\r\n\r\n  /** Whether the color panel should be started in month or year view. */\r\n  @Input() startView: MnjColorPanelView;\r\n\r\n  /** The color to start focused on the picker. */\r\n  @Input()\r\n  get startColor(): Color | null {\r\n    return this._startColor;\r\n  }\r\n  set startColor(value: Color | null) {\r\n    this._startColor = this._colorAdapter.getValidColorOrNull(value);\r\n  }\r\n  private _startColor: Color | null;\r\n\r\n  @Input()\r\n  get palette(): PaletteColor[] {\r\n    return this._palette || this._config.defaultPalette;\r\n  }\r\n\r\n  set palette(value: PaletteColor[]) {\r\n    this._palette = value;\r\n  }\r\n\r\n  private _palette: PaletteColor[];\r\n\r\n  @Input()\r\n  get showAlpha(): boolean {\r\n    return this._showAlpha || this._config.showAlpha;\r\n  }\r\n\r\n  set showAlpha(value: boolean) {\r\n    this._showAlpha = coerceBooleanProperty(value);\r\n  }\r\n\r\n  private _showAlpha: boolean;\r\n\r\n  /** The currently selected color. */\r\n  @Input()\r\n  get selected(): Color | null {\r\n    return this._selected;\r\n  }\r\n  set selected(value: Color | null) {\r\n    this._selected = this._colorAdapter.getValidColorOrNull(value);\r\n  }\r\n  private _selected: Color | null;\r\n\r\n  /** Emits when the currently selected color changes. */\r\n  @Output() readonly selectedChange: EventEmitter<Color> = new EventEmitter<Color>();\r\n\r\n  /** Emits when any color is selected. */\r\n  @Output() readonly _userSelection: EventEmitter<Color> = new EventEmitter<Color>();\r\n\r\n  /** Reference to the current style picker component. */\r\n  @ViewChild(ColorPickerView) currentPicker: ColorPickerView;\r\n\r\n  /**\r\n   * The current active color. This determines which time period is shown and which color is\r\n   * highlighted when using keyboard navigation.\r\n   */\r\n  @Input()\r\n  get activeColor(): Color {\r\n    return this._activeColor;\r\n  }\r\n  set activeColor(value: Color) {\r\n    this._activeColor = value;\r\n    this.stateChanges.next();\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n  private _activeColor: Color;\r\n\r\n  /** Whether the color panel is in month view. */\r\n  get currentView(): MnjColorPanelView {\r\n    return this._currentView;\r\n  }\r\n  set currentView(value: MnjColorPanelView) {\r\n    this._currentView = value;\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n  private _currentView: MnjColorPanelView;\r\n\r\n  /**\r\n   * Emits whenever there is a state change that the header may need to respond to.\r\n   */\r\n  stateChanges = new Subject<void>();\r\n\r\n  constructor(\r\n    _intl: MnjColorpickerIntl,\r\n    private _colorAdapter: ColorAdapter,\r\n    @Inject(MNJ_COLOR_CONFIG_PROVIDER) private _config: MnjColorConfig,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this._intlChanges = _intl.changes.subscribe(() => {\r\n      _changeDetectorRef.markForCheck();\r\n      this.stateChanges.next();\r\n    });\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    // Assign to the private property since we don't want to move focus on init.\r\n    this._currentView = this.startView || 'picker';\r\n\r\n    this.activeColor = this.selected || this.startColor || this._config.defaultColor;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._intlChanges.unsubscribe();\r\n    this.stateChanges.complete();\r\n  }\r\n\r\n  /** Makes the active view color the selected one. */\r\n  _selectColor() {\r\n    const color = this._getCurrentViewComponent().activeColor;\r\n    if (!this._colorAdapter.sameColor(color, this.selected)) {\r\n      this.selectedChange.emit(color);\r\n    }\r\n    this._userSelection.emit(color);\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    switch (event.keyCode) {\r\n      case ENTER:\r\n        this._selectColor();\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  /** Returns the component instance that corresponds to the current color panel view. */\r\n  private _getCurrentViewComponent() {\r\n    return this.currentPicker;\r\n  }\r\n}\r\n","<div class=\"mnj-color-panel-header\">\n  <div class=\"mnj-color-panel-controls\">\n    <button\n      mat-button\n      type=\"button\"\n      class=\"mnj-color-panel-picker-button\"\n      (click)=\"nextClicked()\"\n      [attr.aria-label]=\"pickerViewButtonLabel\"\n      cdkAriaLive=\"polite\"\n    >\n      {{pickerButtonText}}\n      <div class=\"mnj-color-panel-arrow\" [class.mnj-color-panel-invert]=\"colorPanel.currentView === 'scan'\"></div>\n    </button>\n\n    <div class=\"mnj-color-panel-spacer\"></div>\n\n    <button\n      mat-icon-button\n      type=\"button\"\n      class=\"mnj-color-panel-previous-button\"\n      [disabled]=\"!previousEnabled()\"\n      (click)=\"previousClicked()\"\n      [attr.aria-label]=\"prevButtonLabel\"\n    ></button>\n\n    <button\n      mat-icon-button\n      type=\"button\"\n      class=\"mnj-color-panel-next-button\"\n      [disabled]=\"!nextEnabled()\"\n      (click)=\"nextClicked()\"\n      [attr.aria-label]=\"nextButtonLabel\"\n    ></button>\n  </div>\n</div>\n","import { animate, AnimationTriggerMetadata, state, style, transition, trigger } from '@angular/animations';\n\n/**\n * Animations used by the colorpicker.\n * @docs-private\n */\nexport const mnjColorpickerAnimations: {\n  readonly transformPanel: AnimationTriggerMetadata;\n  readonly fadeInColorPanel: AnimationTriggerMetadata;\n} = {\n  /** Transforms the height of the colorpicker's panel. */\n  transformPanel: trigger('transformPanel', [\n    state(\n      'void',\n      style({\n        opacity: 0,\n        transform: 'scale(1, 0.8)',\n      })\n    ),\n    transition(\n      'void => enter',\n      animate(\n        '120ms cubic-bezier(0, 0, 0.2, 1)',\n        style({\n          opacity: 1,\n          transform: 'scale(1, 1)',\n        })\n      )\n    ),\n    transition('* => void', animate('100ms linear', style({ opacity: 0 }))),\n  ]),\n\n  /** Fades in the content of the panel. */\n  fadeInColorPanel: trigger('fadeInColorPanel', [\n    state('void', style({ opacity: 0 })),\n    state('enter', style({ opacity: 1 })),\n\n    // TODO(crisbeto): this animation should be removed since it isn't quite on spec, but we\n    // need to keep it until #12440 gets in, otherwise the exit animation will look glitchy.\n    transition('void => *', animate('120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')),\n  ]),\n};\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { ESCAPE, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport {\r\n  FlexibleConnectedPositionStrategy,\r\n  Overlay,\r\n  OverlayConfig,\r\n  OverlayRef,\r\n  ScrollStrategy,\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ComponentRef,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  InjectionToken,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  ViewContainerRef,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport {\r\n  CanColor,\r\n  CanColorCtor,\r\n  mixinColor,\r\n  ThemePalette,\r\n} from '@angular/material/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { merge, Subject, Subscription } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\nimport { MnjColorPanelView } from './color-panel';\r\nimport { Color, PaletteColor } from './color/color';\r\nimport { ColorAdapter } from './color/color-adapter';\r\nimport { ColorFormat } from './color/color-spaces';\r\nimport { mnjColorpickerAnimations } from './colorpicker-animations';\r\nimport { MnjColorpickerInput } from './colorpicker-input';\r\n\r\n/** Used to generate a unique ID for each colorpicker instance. */\r\nlet colorpickerUid = 0;\r\n\r\n/** Injection token that determines the scroll handling while the color panel is open. */\r\nexport const MNJ_COLORPICKER_SCROLL_STRATEGY = new InjectionToken<\r\n  () => ScrollStrategy\r\n>('mnj-colorpicker-scroll-strategy');\r\n\r\n/** @docs-private */\r\nexport function MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY(\r\n  overlay: Overlay\r\n): () => ScrollStrategy {\r\n  return () => overlay.scrollStrategies.reposition();\r\n}\r\n\r\n/** Possible positions for the colorpicker dropdown along the X axis. */\r\nexport type ColorpickerDropdownPositionX = 'start' | 'end';\r\n\r\n/** Possible positions for the colorpicker dropdown along the Y axis. */\r\nexport type ColorpickerDropdownPositionY = 'above' | 'below';\r\n\r\n/** @docs-private */\r\nexport const MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER = {\r\n  provide: MNJ_COLORPICKER_SCROLL_STRATEGY,\r\n  deps: [Overlay],\r\n  useFactory: MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY,\r\n};\r\n\r\n// Boilerplate for applying mixins to MnjColorpickerContent.\r\n/** @docs-private */\r\nclass MnjColorpickerContentBase {\r\n  constructor(public _elementRef: ElementRef) {}\r\n}\r\nconst _MnjColorpickerContentMixinBase: CanColorCtor &\r\n  typeof MnjColorpickerContentBase = mixinColor(MnjColorpickerContentBase);\r\n\r\n/**\r\n * Component used as the content for the colorpicker dialog and popup. We use this instead of using\r\n * MatCalendar directly as the content so we can control the initial focus. This also gives us a\r\n * place to put additional features of the popup that are not part of the color panel itself in the\r\n * future. (e.g. confirmation buttons).\r\n * @docs-private\r\n */\r\n@Component({\r\n  selector: 'mnj-colorpicker-content',\r\n  templateUrl: 'colorpicker-content.html',\r\n  styleUrls: ['colorpicker-content.scss'],\r\n  exportAs: 'mnjColorpickerContent',\r\n  inputs: ['color'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    mnjColorpickerAnimations.transformPanel,\r\n    mnjColorpickerAnimations.fadeInColorPanel,\r\n  ],\r\n  host: {\r\n    class: 'mnj-colorpicker-content',\r\n    '[@transformPanel]': '_animationState',\r\n    '(@transformPanel.done)': '_animationDone.next()',\r\n    '[class.mnj-colorpicker-content-touch]': 'colorpicker.touchUi',\r\n  },\r\n})\r\nexport class MnjColorpickerContent\r\n  extends _MnjColorpickerContentMixinBase\r\n  implements AfterViewInit, OnDestroy, CanColor {\r\n  /** Reference to the colorpicker that created the overlay. */\r\n  colorpicker: MnjColorpicker;\r\n\r\n  /** Whether the colorpicker is above or below the input. */\r\n  _isAbove: boolean;\r\n\r\n  /** Current state of the animation. */\r\n  _animationState: 'enter' | 'void' = 'enter';\r\n\r\n  /** Emits when an animation has finished. */\r\n  _animationDone = new Subject<void>();\r\n\r\n  private _subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    super(elementRef);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this._subscriptions.add(\r\n      this.colorpicker._stateChanges.subscribe(() => {\r\n        this._changeDetectorRef.markForCheck();\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subscriptions.unsubscribe();\r\n    this._animationDone.complete();\r\n  }\r\n\r\n  _handleUserSelection(value: Color) {\r\n    this.colorpicker.select(value);\r\n    this.colorpicker.close();\r\n  }\r\n\r\n  _startExitAnimation() {\r\n    this._animationState = 'void';\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  _getSelected() {\r\n    return this.colorpicker._selectedColor;\r\n  }\r\n}\r\n\r\n// Use a component instead of a directive here so the user can use implicit\r\n// template reference variables (e.g. #d vs #d=\"mnjColorpicker\"). We can change this to a directive\r\n// if angular adds support for `exportAs: '$implicit'` on directives.\r\n/** Component responsible for managing the colorpicker popup/dialog. */\r\n@Component({\r\n  selector: 'mnj-colorpicker',\r\n  template: '',\r\n  exportAs: 'mnjColorpicker',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class MnjColorpicker implements OnDestroy {\r\n  private _scrollStrategy: () => ScrollStrategy;\r\n\r\n  /** Subscription to value changes in the associated input element. */\r\n  private _inputStateChanges = Subscription.EMPTY;\r\n\r\n  /** Color palette to use on the colorpicker's color panel. */\r\n  @Input()\r\n  get color(): ThemePalette {\r\n    return (\r\n      this._color ||\r\n      (this._colorpickerInput\r\n        ? this._colorpickerInput.getThemePalette()\r\n        : undefined)\r\n    );\r\n  }\r\n  set color(value: ThemePalette) {\r\n    this._color = value;\r\n  }\r\n  _color: ThemePalette;\r\n\r\n  @Input()\r\n  get startColor(): Color {\r\n    return this._startColor;\r\n  }\r\n\r\n  set startColor(value: Color) {\r\n    if (this._colorAdapter.isValid(value)) {\r\n      this._startColor = value;\r\n    }\r\n  }\r\n\r\n  private _startColor: Color;\r\n\r\n  /** The view that the color panel should start in. */\r\n  @Input() startView: MnjColorPanelView;\r\n\r\n  @Input() palette: PaletteColor[];\r\n\r\n  @Input()\r\n  get showAlpha() {\r\n    return this._showAlpha;\r\n  }\r\n\r\n  set showAlpha(value: boolean) {\r\n    value = coerceBooleanProperty(value);\r\n    if (value !== this._showAlpha) {\r\n      this._showAlpha = value;\r\n      this._configurationChanges.next(undefined);\r\n    }\r\n  }\r\n  _showAlpha: boolean;\r\n\r\n  @Input()\r\n  get displayFormat(): ColorFormat {\r\n    return this._displayFormat;\r\n  }\r\n  set displayFormat(value: ColorFormat) {\r\n    if (value !== this._displayFormat) {\r\n      this._displayFormat = value;\r\n      this._configurationChanges.next(undefined);\r\n    }\r\n  }\r\n  private _displayFormat: ColorFormat;\r\n\r\n  /**\r\n   * Whether the color panel UI is in touch mode. In touch mode the color panel opens in a dialog rather\r\n   * than a popup and elements have more padding to allow for bigger touch targets.\r\n   */\r\n  @Input()\r\n  get touchUi(): boolean {\r\n    return this._touchUi;\r\n  }\r\n  set touchUi(value: boolean) {\r\n    this._touchUi = coerceBooleanProperty(value);\r\n  }\r\n  private _touchUi = false;\r\n\r\n  /** Whether the colorpicker pop-up should be disabled. */\r\n  @Input()\r\n  get disabled(): boolean {\r\n    return this._disabled === undefined && this._colorpickerInput\r\n      ? this._colorpickerInput.disabled\r\n      : !!this._disabled;\r\n  }\r\n  set disabled(value: boolean) {\r\n    const newValue = coerceBooleanProperty(value);\r\n\r\n    if (newValue !== this._disabled) {\r\n      this._disabled = newValue;\r\n      this._stateChanges.next(newValue);\r\n    }\r\n  }\r\n  private _disabled: boolean;\r\n\r\n  /** Preferred position of the colorpicker in the X axis. */\r\n  @Input()\r\n  get xPosition(): ColorpickerDropdownPositionX {\r\n    return this._xPosition || 'start';\r\n  }\r\n  set xPosition(value: ColorpickerDropdownPositionX) {\r\n    const isFirstChange = !this._xPosition;\r\n    this._xPosition = value;\r\n    if (isFirstChange) {\r\n      this._updatePopupPositions();\r\n    }\r\n    this._stateChanges.next(undefined);\r\n  }\r\n  private _xPosition: ColorpickerDropdownPositionX;\r\n\r\n  /** Preferred position of the colorpicker in the Y axis. */\r\n  @Input()\r\n  get yPosition(): ColorpickerDropdownPositionY {\r\n    return this._yPosition || 'below';\r\n  }\r\n\r\n  set yPosition(value: ColorpickerDropdownPositionY) {\r\n    const isFirstChange = !this._xPosition;\r\n    this._yPosition = value;\r\n    if (isFirstChange) {\r\n      this._updatePopupPositions();\r\n    }\r\n    this._stateChanges.next(undefined);\r\n  }\r\n\r\n  private _yPosition: ColorpickerDropdownPositionY;\r\n\r\n  /** Classes to be passed to the color picker panel. Supports the same syntax as `ngClass`. */\r\n  @Input() panelClass: string | string[];\r\n\r\n  /** Emits when the colorpicker has been opened. */\r\n  @Output('opened') openedStream: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Emits when the colorpicker has been closed. */\r\n  @Output('closed') closedStream: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Whether the color panel is open. */\r\n  @Input()\r\n  get opened(): boolean {\r\n    return this._opened;\r\n  }\r\n  set opened(value: boolean) {\r\n    coerceBooleanProperty(value) ? this.open() : this.close();\r\n  }\r\n  private _opened = false;\r\n\r\n  /** The id for the colorpicker color panel. */\r\n  id: string = `mnj-colorpicker-${colorpickerUid++}`;\r\n\r\n  /** The currently selected color. */\r\n  get _selectedColor(): Color | null {\r\n    return this._validSelected;\r\n  }\r\n  set _selectedColor(value: Color | null) {\r\n    this._validSelected = value;\r\n  }\r\n  private _validSelected: Color | null = null;\r\n\r\n  /** A reference to the overlay when the color panel is opened as a popup. */\r\n  private _popupRef: OverlayRef | null;\r\n\r\n  /** A reference to the dialog when the color panel is opened as a dialog. */\r\n  private _dialogRef: MatDialogRef<MnjColorpickerContent> | null;\r\n\r\n  /** Reference to the component instantiated in popup mode. */\r\n  private _popupComponentRef: ComponentRef<MnjColorpickerContent> | null;\r\n\r\n  /** The element that was focused before the colorpicker was opened. */\r\n  private _focusedElementBeforeOpen: HTMLElement | null = null;\r\n\r\n  /** The input element this colorpicker is associated with. */\r\n  _colorpickerInput: MnjColorpickerInput;\r\n\r\n  /** Emits when the colorpicker is disabled. */\r\n  readonly _stateChanges = new Subject<boolean>();\r\n\r\n  /** Emits when the colorpicker formmatting inputs (showAlpha and displayFormat) changes. */\r\n  readonly _configurationChanges = new Subject<boolean>();\r\n\r\n  /** Emits new selected color when selected color changes. */\r\n  readonly _selectedChanged = new Subject<Color>();\r\n\r\n  constructor(\r\n    private _dialog: MatDialog,\r\n    private _overlay: Overlay,\r\n    private _ngZone: NgZone,\r\n    private _viewContainerRef: ViewContainerRef,\r\n    @Inject(MNJ_COLORPICKER_SCROLL_STRATEGY) scrollStrategy: any,\r\n    private _colorAdapter: ColorAdapter,\r\n    @Optional() private _dir: Directionality,\r\n    @Optional() @Inject(DOCUMENT) private _document: any\r\n  ) {\r\n    this._scrollStrategy = scrollStrategy;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._destroyPopup();\r\n    this.close();\r\n    this._inputStateChanges.unsubscribe();\r\n    this._selectedChanged.complete();\r\n    this._stateChanges.complete();\r\n  }\r\n\r\n  /** Selects the given color */\r\n  select(color: Color): void {\r\n    const oldValue = this._selectedColor;\r\n    this._selectedColor = color;\r\n    if (!this._colorAdapter.sameColor(oldValue, this._selectedColor)) {\r\n      this._selectedChanged.next(color);\r\n    }\r\n    this._stateChanges.next();\r\n  }\r\n\r\n  /**\r\n   * Register an input with this colorpicker.\r\n   * @param input The colorpicker input to register with this colorpicker.\r\n   */\r\n  _registerInput(input: MnjColorpickerInput): void {\r\n    if (this._colorpickerInput) {\r\n      throw Error(\r\n        'A MnjColorpicker can only be associated with a single input.'\r\n      );\r\n    }\r\n    this._inputStateChanges.unsubscribe();\r\n    this._colorpickerInput = input;\r\n    this._inputStateChanges = this._colorpickerInput._stateChanges.subscribe(\r\n      () => {\r\n        this._stateChanges.next();\r\n        this.select(this._colorpickerInput.value);\r\n      }\r\n    );\r\n  }\r\n\r\n  /** Open the color panel. */\r\n  open(): void {\r\n    if (this._opened || this.disabled) {\r\n      return;\r\n    }\r\n    if (!this._colorpickerInput) {\r\n      throw Error(\r\n        'Attempted to open an MnjColorpicker with no associated input.'\r\n      );\r\n    }\r\n    if (this._document) {\r\n      this._focusedElementBeforeOpen = this._document.activeElement;\r\n    }\r\n\r\n    this.touchUi ? this._openAsDialog() : this._openAsPopup();\r\n    this._opened = true;\r\n    this.openedStream.emit();\r\n  }\r\n\r\n  /** Close the color panel. */\r\n  close(): void {\r\n    if (!this._opened) {\r\n      return;\r\n    }\r\n    if (this._popupComponentRef && this._popupRef) {\r\n      const instance = this._popupComponentRef.instance;\r\n      instance._startExitAnimation();\r\n      instance._animationDone\r\n        .pipe(take(1))\r\n        .subscribe(() => this._destroyPopup());\r\n    }\r\n    if (this._dialogRef) {\r\n      this._dialogRef.close();\r\n      this._dialogRef = null;\r\n    }\r\n\r\n    const completeClose = () => {\r\n      // The `_opened` could've been reset already if\r\n      // we got two events in quick succession.\r\n      if (this._opened) {\r\n        this._opened = false;\r\n        this.closedStream.emit();\r\n        this._focusedElementBeforeOpen = null;\r\n      }\r\n    };\r\n\r\n    if (\r\n      this._focusedElementBeforeOpen &&\r\n      typeof this._focusedElementBeforeOpen.focus === 'function'\r\n    ) {\r\n      // Because IE moves focus asynchronously, we can't count on it being restored before we've\r\n      // marked the colorpicker as closed. If the event fires out of sequence and the element that\r\n      // we're refocusing opens the colorpicker on focus, the user could be stuck with not being\r\n      // able to close the color panel at all. We work around it by making the logic, that marks\r\n      // the colorpicker as closed, async as well.\r\n      this._focusedElementBeforeOpen.focus();\r\n      setTimeout(completeClose);\r\n    } else {\r\n      completeClose();\r\n    }\r\n  }\r\n\r\n  /** Open the color panel as a dialog. */\r\n  private _openAsDialog(): void {\r\n    // Usually this would be handled by `open` which ensures that we can only have one overlay\r\n    // open at a time, however since we reset the variables in async handlers some overlays\r\n    // may slip through if the user opens and closes multiple times in quick succession (e.g.\r\n    // by holding down the enter key).\r\n    if (this._dialogRef) {\r\n      this._dialogRef.close();\r\n    }\r\n\r\n    this._dialogRef = this._dialog.open<MnjColorpickerContent>(\r\n      MnjColorpickerContent,\r\n      {\r\n        direction: this._dir ? this._dir.value : 'ltr',\r\n        viewContainerRef: this._viewContainerRef,\r\n        panelClass: 'mnj-colorpicker-dialog',\r\n      }\r\n    );\r\n\r\n    this._dialogRef.afterClosed().subscribe(() => this.close());\r\n    this._dialogRef.componentInstance.colorpicker = this;\r\n    this._setTheme();\r\n  }\r\n\r\n  /** Open the color panel as a popup. */\r\n  private _openAsPopup(): void {\r\n    const portal = new ComponentPortal<MnjColorpickerContent>(\r\n      MnjColorpickerContent,\r\n      this._viewContainerRef\r\n    );\r\n\r\n    this._destroyPopup();\r\n    this._createPopup();\r\n    this._popupComponentRef = this._popupRef!.attach(portal);\r\n    this._forwardContentValues(this._popupComponentRef.instance);\r\n\r\n    // Update the position once the calendar has rendered.\r\n    this._ngZone.onStable.pipe(take(1)).subscribe(() => {\r\n      this._popupRef!.updatePosition();\r\n    });\r\n  }\r\n\r\n  /** Forwards relevant values from the colorpicker to the colorpicker content inside the overlay. */\r\n  protected _forwardContentValues(instance: MnjColorpickerContent) {\r\n    instance.colorpicker = this;\r\n    instance.color = this.color;\r\n  }\r\n\r\n  /** Create the popup. */\r\n  private _createPopup(): void {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .flexibleConnectedTo(this._colorpickerInput.getConnectedOverlayOrigin())\r\n      .withTransformOriginOn('.mnj-colorpicker-content')\r\n      .withFlexibleDimensions(false)\r\n      .withViewportMargin(8)\r\n      .withLockedPosition();\r\n\r\n    const overlayConfig = new OverlayConfig({\r\n      positionStrategy: this._setConnectedPositions(positionStrategy),\r\n      hasBackdrop: true,\r\n      backdropClass: 'mat-overlay-transparent-backdrop',\r\n      direction: this._dir,\r\n      scrollStrategy: this._scrollStrategy(),\r\n      panelClass: 'mnj-colorpicker-popup',\r\n    });\r\n\r\n    this._popupRef = this._overlay.create(overlayConfig);\r\n    this._popupRef.overlayElement.setAttribute('role', 'dialog');\r\n\r\n    merge(\r\n      this._popupRef.backdropClick(),\r\n      this._popupRef.detachments(),\r\n      this._popupRef.keydownEvents().pipe(\r\n        filter((event) => {\r\n          // Closing on alt + up is only valid when there's an input associated with the colorpicker.\r\n          return (\r\n            event.keyCode === ESCAPE ||\r\n            (this._colorpickerInput &&\r\n              event.altKey &&\r\n              event.keyCode === UP_ARROW)\r\n          );\r\n        })\r\n      )\r\n    ).subscribe((event) => {\r\n      if (event) {\r\n        event.preventDefault();\r\n      }\r\n\r\n      this.close();\r\n    });\r\n  }\r\n\r\n  /** Sets the positions of the colorpicker in dropdown mode based on the current configuration. */\r\n  private _setConnectedPositions(strategy: FlexibleConnectedPositionStrategy) {\r\n    const primaryX = this.xPosition === 'end' ? 'end' : 'start';\r\n    const secondaryX = primaryX === 'start' ? 'end' : 'start';\r\n    const primaryY = this.yPosition === 'above' ? 'bottom' : 'top';\r\n    const secondaryY = primaryY === 'top' ? 'bottom' : 'top';\r\n\r\n    return strategy.withPositions([\r\n      {\r\n        originX: primaryX,\r\n        originY: secondaryY,\r\n        overlayX: primaryX,\r\n        overlayY: primaryY,\r\n      },\r\n      {\r\n        originX: primaryX,\r\n        originY: primaryY,\r\n        overlayX: primaryX,\r\n        overlayY: secondaryY,\r\n      },\r\n      {\r\n        originX: secondaryX,\r\n        originY: secondaryY,\r\n        overlayX: secondaryX,\r\n        overlayY: primaryY,\r\n      },\r\n      {\r\n        originX: secondaryX,\r\n        originY: primaryY,\r\n        overlayX: secondaryX,\r\n        overlayY: secondaryY,\r\n      },\r\n    ]);\r\n  }\r\n\r\n  private _updatePopupPositions() {\r\n    if (this._popupRef) {\r\n      this._setConnectedPositions(\r\n        this._popupRef.getConfig()\r\n          .positionStrategy as FlexibleConnectedPositionStrategy\r\n      );\r\n\r\n      if (this.opened) {\r\n        this._popupRef.updatePosition();\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Destroys the current popup overlay. */\r\n  private _destroyPopup() {\r\n    if (this._popupRef) {\r\n      this._popupRef.dispose();\r\n      this._popupRef = this._popupComponentRef = null;\r\n    }\r\n  }\r\n\r\n  /** Passes the current theme color along to the color panel overlay. */\r\n  private _setTheme(): void {\r\n    const color = this.color;\r\n    if (this._popupComponentRef) {\r\n      this._popupComponentRef.instance.color = color;\r\n    }\r\n    if (this._dialogRef) {\r\n      this._dialogRef.componentInstance.color = color;\r\n    }\r\n  }\r\n}\r\n","<mnj-color-panel\n  cdkTrapFocus\n  [id]=\"colorpicker.id\"\n  [ngClass]=\"colorpicker.panelClass\"\n  [color]=\"colorpicker.color\"\n  [startView]=\"colorpicker.startView\"\n  [startColor]=\"colorpicker.startColor\"\n  [showAlpha]=\"colorpicker.showAlpha\"\n  [palette]=\"colorpicker.palette\"\n  [selected]=\"_getSelected()\"\n  [@fadeInColorPanel]=\"'enter'\"\n  (_userSelection)=\"_handleUserSelection($event)\"\n>\n</mnj-color-panel>\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { DOWN_ARROW } from '@angular/cdk/keycodes';\r\nimport {\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n} from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  ControlValueAccessor,\r\n  NG_VALIDATORS,\r\n  NG_VALUE_ACCESSOR,\r\n  ValidationErrors,\r\n  Validator,\r\n  ValidatorFn,\r\n} from '@angular/forms';\r\nimport { ThemePalette } from '@angular/material/core';\r\nimport { MatFormField } from '@angular/material/form-field';\r\nimport { MAT_INPUT_VALUE_ACCESSOR } from '@angular/material/input';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { Color } from './color/color';\r\nimport { ColorAdapter } from './color/color-adapter';\r\nimport { MnjColorConfig, MNJ_COLOR_CONFIG_PROVIDER } from './color/color-config';\r\nimport { MnjColorpicker } from './colorpicker';\r\n\r\n/** @docs-private */\r\nexport const MNJ_COLORPICKER_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => MnjColorpickerInput),\r\n  multi: true,\r\n};\r\n\r\n/** @docs-private */\r\nexport const MNJ_COLORPICKER_VALIDATORS: any = {\r\n  provide: NG_VALIDATORS,\r\n  useExisting: forwardRef(() => MnjColorpickerInput),\r\n  multi: true,\r\n};\r\n\r\n/**\r\n * An event used for colorpicker input and change events. We don't always have access to a native\r\n * input or change event because the event may have been triggered by the user clicking on the\r\n * calendar popup. For consistency, we always use MnjColorpickerInputEvent instead.\r\n */\r\nexport class MnjColorpickerInputEvent {\r\n  /** The new value for the target colorpicker input. */\r\n  value: Color | null;\r\n\r\n  constructor(\r\n    /** Reference to the colorpicker input component that emitted the event. */\r\n    public target: MnjColorpickerInput,\r\n    /** Reference to the native input element associated with the colorpicker input. */\r\n    public targetElement: HTMLElement\r\n  ) {\r\n    this.value = this.target.value;\r\n  }\r\n}\r\n/** Directive used to connect an input to a MnjColorpicker. */\r\n@Directive({\r\n  selector: 'input[mnjColorpicker]',\r\n  exportAs: 'mnjColorpickerInput',\r\n  providers: [\r\n    MNJ_COLORPICKER_VALUE_ACCESSOR,\r\n    MNJ_COLORPICKER_VALIDATORS,\r\n    { provide: MAT_INPUT_VALUE_ACCESSOR, useExisting: MnjColorpickerInput },\r\n  ],\r\n  host: {\r\n    'aria-haspopup': '_colorpicker ? \"dialog\" : null',\r\n    '[attr.aria-owns]': '(_colorpicker?.opened && _colorpicker.id) || null',\r\n    '[disabled]': 'disabled',\r\n    '(input)': '_onInput($event.target.value)',\r\n    '(change)': '_onChange()',\r\n    '(blur)': '_onBlur()',\r\n    '(keydown)': '_onKeydown($event)',\r\n  },\r\n})\r\nexport class MnjColorpickerInput implements ControlValueAccessor, OnDestroy, OnChanges, Validator {\r\n  /** The colorpicker that this input is associated with. */\r\n  @Input()\r\n  set mnjColorpicker(value: MnjColorpicker) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n\r\n    this._colorpicker = value;\r\n    this._colorpicker._registerInput(this);\r\n    this._colorpickerSubscription.unsubscribe();\r\n\r\n    this._colorpickerSubscription = this._colorpicker._selectedChanged.subscribe((selected: Color) => {\r\n      this.value = selected;\r\n      this._cvaOnChange(selected);\r\n      this._onTouched();\r\n      this.colorInput.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n      this.colorChange.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n    });\r\n\r\n    this._colorpickerConfigurationSubscription = this._colorpicker._configurationChanges.subscribe((_) =>\r\n      this._formatValue(this.value)\r\n    );\r\n  }\r\n  _colorpicker: MnjColorpicker;\r\n\r\n  /** The value of the input. */\r\n  @Input()\r\n  get value(): Color | null {\r\n    return this._value;\r\n  }\r\n  set value(value: Color | null) {\r\n    this._lastValueValid = !value || this._colorAdapter.isValid(value);\r\n    value = this._colorAdapter.getValidColorOrNull(value);\r\n    const oldColor = this.value;\r\n    this._value = value;\r\n    this._formatValue(value);\r\n\r\n    if (!this._colorAdapter.sameColor(oldColor, value)) {\r\n      this._valueChange.emit(value);\r\n    }\r\n  }\r\n  private _value: Color | null = null;\r\n\r\n  /** Whether the colorpicker-input is disabled. */\r\n  @Input()\r\n  get disabled(): boolean {\r\n    return !!this._disabled;\r\n  }\r\n  set disabled(value: boolean) {\r\n    const newValue = coerceBooleanProperty(value);\r\n    const element = this._elementRef.nativeElement;\r\n\r\n    if (this._disabled !== newValue) {\r\n      this._disabled = newValue;\r\n      this._stateChanges.next(undefined);\r\n    }\r\n\r\n    // We need to null check the `blur` method, because it's undefined during SSR.\r\n    if (newValue && element.blur) {\r\n      // Normally, native input elements automatically blur if they turn disabled. This behavior\r\n      // is problematic, because it would mean that it triggers another change detection cycle,\r\n      // which then causes a changed after checked error if the input element was focused before.\r\n      element.blur();\r\n    }\r\n  }\r\n  private _disabled: boolean;\r\n\r\n  /** Emits when a `change` event is fired on this `<input>`. */\r\n  @Output() readonly colorChange: EventEmitter<MnjColorpickerInputEvent> = new EventEmitter<MnjColorpickerInputEvent>();\r\n\r\n  /** Emits when an `input` event is fired on this `<input>`. */\r\n  @Output() readonly colorInput: EventEmitter<MnjColorpickerInputEvent> = new EventEmitter<MnjColorpickerInputEvent>();\r\n\r\n  /** Emits when the value changes (either due to user input or programmatic change). */\r\n  _valueChange = new EventEmitter<Color | null>();\r\n\r\n  /** Emits when the internal state has changed */\r\n  _stateChanges = new Subject<void>();\r\n\r\n  _onTouched = () => {};\r\n\r\n  private _cvaOnChange: (value: any) => void = () => {};\r\n\r\n  private _validatorOnChange = () => {};\r\n\r\n  private _colorpickerSubscription = Subscription.EMPTY;\r\n\r\n  private _colorpickerConfigurationSubscription = Subscription.EMPTY;\r\n\r\n  private _localeSubscription = Subscription.EMPTY;\r\n\r\n  /** The form control validator for whether the input parses. */\r\n  private _parseValidator: ValidatorFn = (): ValidationErrors | null => {\r\n    return this._lastValueValid ? null : { mnjColorpickerParse: { text: this._elementRef.nativeElement.value } };\r\n  };\r\n\r\n  /** The combined form control validator for this input. */\r\n  private _validator: ValidatorFn | null = this._parseValidator;\r\n\r\n  /** Whether the last value set on the input was valid. */\r\n  private _lastValueValid = false;\r\n\r\n  constructor(\r\n    private _elementRef: ElementRef<HTMLInputElement>,\r\n    public _colorAdapter: ColorAdapter,\r\n    @Inject(MNJ_COLOR_CONFIG_PROVIDER) private _config: MnjColorConfig,\r\n    @Optional() private _formField: MatFormField\r\n  ) {}\r\n\r\n  ngOnChanges() {\r\n    this._stateChanges.next(undefined);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._colorpickerSubscription.unsubscribe();\r\n    this._colorpickerConfigurationSubscription.unsubscribe();\r\n    this._localeSubscription.unsubscribe();\r\n    this._valueChange.complete();\r\n    this._stateChanges.complete();\r\n  }\r\n\r\n  /** @docs-private */\r\n  registerOnValidatorChange(fn: () => void): void {\r\n    this._validatorOnChange = fn;\r\n  }\r\n\r\n  /** @docs-private */\r\n  validate(c: AbstractControl): ValidationErrors | null {\r\n    return this._validator ? this._validator(c) : null;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  writeValue(value: Color): void {\r\n    this.value = value;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  registerOnChange(fn: (value: any) => void): void {\r\n    this._cvaOnChange = fn;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  _onKeydown(event: KeyboardEvent) {\r\n    const isAltDownArrow = event.altKey && event.keyCode === DOWN_ARROW;\r\n\r\n    if (this._colorpicker && isAltDownArrow && !this._elementRef.nativeElement.readOnly) {\r\n      this._openPopup();\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  _onInput(value: string) {\r\n    const lastValueWasValid = this._lastValueValid;\r\n    let color = this._colorAdapter.parse(value);\r\n    this._lastValueValid = this._colorAdapter.isValid(color);\r\n    color = this._colorAdapter.getValidColorOrNull(color);\r\n\r\n    if (!this._colorAdapter.sameColor(color, this.value)) {\r\n      this._value = color;\r\n      this._cvaOnChange(color);\r\n      this._valueChange.emit(color);\r\n      this.colorInput.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n    } else {\r\n      // Call the CVA change handler for invalid values\r\n      // since this is what marks the control as dirty.\r\n      if (value && !this.value) {\r\n        this._cvaOnChange(color);\r\n      }\r\n\r\n      if (lastValueWasValid !== this._lastValueValid) {\r\n        this._validatorOnChange();\r\n      }\r\n    }\r\n  }\r\n\r\n  _onChange() {\r\n    this.colorChange.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n  }\r\n\r\n  /**\r\n   * Gets the element that the colorpicker popup should be connected to.\r\n   * @return The element to connect the popup to.\r\n   */\r\n  getConnectedOverlayOrigin(): ElementRef {\r\n    return this._formField ? this._formField.getConnectedOverlayOrigin() : this._elementRef;\r\n  }\r\n\r\n  /** Returns the palette used by the input's form field, if any. */\r\n  getThemePalette(): ThemePalette {\r\n    return this._formField ? this._formField.color : undefined;\r\n  }\r\n\r\n  /** Gets the value at which the calendar should start. */\r\n  getStartValue(): Color | null {\r\n    return this.value;\r\n  }\r\n\r\n  /** Opens the associated colorpicker. */\r\n  protected _openPopup(): void {\r\n    if (this._colorpicker) {\r\n      this._colorpicker.open();\r\n    }\r\n  }\r\n\r\n  /** Handles blur events on the input. */\r\n  _onBlur() {\r\n    // Reformat the input only if we have a valid value.\r\n    if (this.value) {\r\n      this._formatValue(this.value);\r\n    }\r\n    this._onTouched();\r\n    this._stateChanges.next();\r\n  }\r\n\r\n  /** Formats a value and sets it on the input element. */\r\n  private _formatValue(value: Color | null) {\r\n    const showAlpha = (this._colorpicker && this._colorpicker.showAlpha) || this._config.showAlpha;\r\n    const displayFormat = (this._colorpicker && this._colorpicker.displayFormat) || this._config.displayFormat;\r\n    this._elementRef.nativeElement.value = value ? this._colorAdapter.format(value, displayFormat, showAlpha) : '';\r\n  }\r\n}\r\n","<button\n  #button\n  mat-icon-button\n  type=\"button\"\n  [attr.aria-haspopup]=\"colorpicker ? 'dialog' : null\"\n  [attr.aria-label]=\"_intl.openColorPickerLabel\"\n  [attr.tabindex]=\"disabled ? -1 : tabIndex\"\n  [disabled]=\"disabled\"\n  [disableRipple]=\"disableRipple\"\n  (click)=\"_open($event)\"\n>\n  <svg\n    *ngIf=\"!_customIcon\"\n    class=\"mnj-colorpicker-toggle-default-icon\"\n    viewBox=\"0 0 24 24\"\n    width=\"24px\"\n    height=\"24px\"\n    fill=\"currentColor\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z\"\n    />\n  </svg>\n\n  <ng-content select=\"[mnjColorpickerToggleIcon]\"></ng-content>\n</button>\n","import { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  AfterContentInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  Directive,\n  Input,\n  OnDestroy,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatButton } from '@angular/material/button';\nimport { merge, of, Subscription } from 'rxjs';\nimport { MnjColorpicker } from './colorpicker';\nimport { MnjColorpickerIntl } from './colorpicker-intl';\n\n/** Can be used to override the icon of a `matColorpickerToggle`. */\n@Directive({\n  selector: '[mnjColorpickerToggleIcon]',\n})\nexport class MnjColorpickerToggleIcon {}\n\n@Component({\n  selector: 'mnj-colorpicker-toggle',\n  templateUrl: 'colorpicker-toggle.html',\n  styleUrls: ['colorpicker-toggle.scss'],\n  exportAs: 'mnjColorpickerToggle',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'mnj-colorpicker-toggle',\n    // Always set the tabindex to -1 so that it doesn't overlap with any custom tabindex the\n    // consumer may have provided, while still being able to receive focus.\n    '[attr.tabindex]': 'disabled ? null : -1',\n    '[class.mnj-colorpicker-toggle-active]': 'colorpicker && colorpicker.opened',\n    '[class.mnj-accent]': 'colorpicker && colorpicker.color === \"accent\"',\n    '[class.mnj-warn]': 'colorpicker && colorpicker.color === \"warn\"',\n    // Used by the test harness to tie this toggle to its colorpicker.\n    '[attr.data-mnj-color-panel]': 'colorpicker ? colorpicker.id : null',\n    '(focus)': '_button.focus()',\n  },\n})\nexport class MnjColorpickerToggle implements AfterContentInit, OnDestroy {\n  private _stateChanges = Subscription.EMPTY;\n\n  /** Colorpicker instance that the button will toggle. */\n  @Input('for')\n  get colorpicker(): MnjColorpicker {\n    return this._colorpicker;\n  }\n\n  set colorpicker(value: MnjColorpicker) {\n    this._colorpicker = value;\n    this._watchStateChanges();\n  }\n\n  private _colorpicker: MnjColorpicker;\n\n  /** Tabindex for the toggle. */\n  @Input() tabIndex: number | null;\n\n  /** Whether the toggle button is disabled. */\n  @Input()\n  get disabled(): boolean {\n    if (this._disabled === undefined && this.colorpicker) {\n      return this.colorpicker.disabled;\n    }\n\n    return !!this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  private _disabled: boolean;\n\n  /** Whether ripples on the toggle should be disabled. */\n  @Input() disableRipple: boolean;\n\n  /** Custom icon set by the consumer. */\n  @ContentChild(MnjColorpickerToggleIcon) _customIcon: MnjColorpickerToggleIcon;\n\n  /** Underlying button element. */\n  @ViewChild('button') _button: MatButton;\n\n  constructor(\n    public _intl: MnjColorpickerIntl,\n    private _changeDetectorRef: ChangeDetectorRef,\n    @Attribute('tabindex') defaultTabIndex: string\n  ) {\n    const parsedTabIndex = Number(defaultTabIndex);\n    this.tabIndex = parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\n  }\n\n  ngOnDestroy() {\n    this._stateChanges.unsubscribe();\n  }\n\n  ngAfterContentInit() {\n    this._watchStateChanges();\n  }\n\n  _open(event: Event): void {\n    if (this.colorpicker && !this.disabled) {\n      this.colorpicker.open();\n      event.stopPropagation();\n    }\n  }\n\n  private _watchStateChanges() {\n    const colorpickerStateChanged = this.colorpicker ? this.colorpicker._stateChanges : of();\n    const inputStateChanged =\n      this.colorpicker && this.colorpicker._colorpickerInput ? this.colorpicker._colorpickerInput._stateChanges : of();\n    const colorpickerToggled = this.colorpicker\n      ? merge(this.colorpicker.openedStream, this.colorpicker.closedStream)\n      : of();\n\n    this._stateChanges.unsubscribe();\n    this._stateChanges = merge(\n      this._intl.changes,\n      colorpickerStateChanged,\n      inputStateChanged,\n      colorpickerToggled\n    ).subscribe(() => this._changeDetectorRef.markForCheck());\n  }\n\n  static ngAcceptInputType_disabled: BooleanInput;\n}\n","import { A11yModule } from '@angular/cdk/a11y';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { CdkScrollableModule } from '@angular/cdk/scrolling';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MnjColorPanel, MnjColorPanelHeader } from './color-panel';\r\nimport { MnjColorpicker, MnjColorpickerContent, MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER } from './colorpicker';\r\nimport { MnjColorpickerInput } from './colorpicker-input';\r\nimport { MnjColorpickerIntl } from './colorpicker-intl';\r\nimport { MnjColorpickerToggle, MnjColorpickerToggleIcon } from './colorpicker-toggle';\r\nimport {\r\n  MnjAlphaSelector,\r\n  MnjGridSelector,\r\n  MnjHueSelector,\r\n  MnjInputSelector,\r\n  MnjPipetteSelector,\r\n  MnjPreviewSwatch,\r\n  MnjSaturationSelector,\r\n} from './selectors';\r\nimport { MnjArmoniesPickerView, MnjChromePickerView, MnjPalettePickerView, MnjScanPickerView } from './views';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, MatButtonModule, MatIconModule, PortalModule, A11yModule, OverlayModule, MatDialogModule],\r\n  declarations: [\r\n    MnjColorpickerToggle,\r\n    MnjColorpickerToggleIcon,\r\n    MnjColorpicker,\r\n    MnjColorpickerContent,\r\n    MnjColorpickerInput,\r\n    MnjColorPanel,\r\n    MnjColorPanelHeader,\r\n    MnjAlphaSelector,\r\n    MnjHueSelector,\r\n    MnjSaturationSelector,\r\n    MnjInputSelector,\r\n    MnjGridSelector,\r\n    MnjPipetteSelector,\r\n    MnjPreviewSwatch,\r\n    MnjChromePickerView,\r\n    MnjPalettePickerView,\r\n    MnjArmoniesPickerView,\r\n    MnjScanPickerView,\r\n  ],\r\n  providers: [MnjColorpickerIntl, MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER],\r\n  exports: [\r\n    CdkScrollableModule,\r\n    MnjColorpickerToggle,\r\n    MnjColorpickerToggleIcon,\r\n    MnjColorpicker,\r\n    MnjColorpickerContent,\r\n    MnjColorpickerInput,\r\n    MnjColorPanel,\r\n    MnjColorPanelHeader,\r\n    MnjAlphaSelector,\r\n    MnjHueSelector,\r\n    MnjSaturationSelector,\r\n    MnjInputSelector,\r\n    MnjGridSelector,\r\n    MnjPipetteSelector,\r\n    MnjPreviewSwatch,\r\n    MnjChromePickerView,\r\n    MnjPalettePickerView,\r\n    MnjArmoniesPickerView,\r\n    MnjScanPickerView,\r\n  ],\r\n})\r\nexport class MnjColorpickerModule {}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.elementStart","i0.element","i0.elementEnd","i0.styleMap","i0.listener","i0.template","i0.styleProp","i0.property","i0.attribute","i0.advance","i0.text","i0.classProp","i0.textInterpolate","i0.elementContainerStart","i0.namespaceSVG","i0.namespaceHTML","i0.elementContainerEnd","i0.textInterpolate1","i0.projection"],"mappings":"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"}