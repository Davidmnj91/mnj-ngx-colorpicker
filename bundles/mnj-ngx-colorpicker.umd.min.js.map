{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-conversions.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-spaces.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-adapter.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color/color-config.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/colorpicker-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/grid/grid-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/grid/grid-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/armonies/armonies-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/base-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/armonies/armonies-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/sat/sat-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/sat/sat-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/hue/hue-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/hue/hue-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/preview-swatch/preview-swatch.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/preview-swatch/preview-swatch.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/input/input-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/input/input-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/alpha/alpha-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/chrome/chrome-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/alpha/alpha-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/views/chrome/chrome-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/palette/palette-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/palette/palette-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-intl.ts","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/pipette/pipette-selector.html","../../../projects/mnj-ngx-colorpicker/src/lib/selectors/pipette/pipette-selector.ts","../../../projects/mnj-ngx-colorpicker/src/lib/views/scan/scan-view.html","../../../projects/mnj-ngx-colorpicker/src/lib/views/scan/scan-view.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color-panel.html","../../../projects/mnj-ngx-colorpicker/src/lib/color-panel.ts","../../../projects/mnj-ngx-colorpicker/src/lib/color-panel-header.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-animations.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-content.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-input.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-toggle.html","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker-toggle.ts","../../../projects/mnj-ngx-colorpicker/src/lib/colorpicker.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","__","this","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","rgbToHsl","_a","coercedRed","red","coercedGreen","green","coercedBlue","blue","cmax","Math","max","cmin","min","delta","hue","saturation","lightness","abs","round","rgbToHsv","rgbToHwb","_b","whiteness","blackness","rgbToCmyk","cyan","magenta","yellow","black","hslToRgb","light","c","h","x","hslToHsv","s","l","v","hsvToHsl","hsvToRgb","val","X","hwbToRgb","resultWhite","resultBlack","rgb","tot","Number","toFixed","adjustRgb","w","cmykToRgb","CSS_COLOR_NAMES","AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGreen","DarkGrey","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","Darkorange","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Green","GreenYellow","Grey","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGreen","LightGrey","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen","fromRgb","alpha","clamp","fromHsl","coercedHue","coercedSat","coercedLightness","fromHsv","coercedValue","_c","fromHwb","hsl","fromCmyk","fromHex","hex","test","replace","_","g","a","substring","match","map","parseInt","parseString","colorString","extractColorValuesRegex","toColorNumber","allowPercent","numberValue","includes","toLowerCase","startsWith","colorMatch","colorArray","split","length","hueString","satString","lightnessString","_d","alphaString","_e","valueString","_f","_g","whitenessString","blacknessString","_h","_j","cyanString","magentaString","yellowString","blackString","_k","color","cssColorName","keys","find","shade","amount","coercePercent","newLightness","calculateShades","colorShade","getColorShade","shades","amounts","distance","title","active","complementary","spinColor","splitComplementary","analogous","triadic","tetradic","deg","trunc","ColorAdapter","isColorInstance","undefined","parse","deserialize","sameColor","first","second","firstValid","isValid","secondValid","equalAlpha","equalHsl","compareColor","redMean","redDelta","greenDelta","blueDelta","sqrt","pow","getValidColorOrNull","format","showAlpha","toHexString","toRgbString","toHslString","toHwbString","toCmykString","toHwbStringDecimal","toHslStringDecimal","toCmykStringDecimal","toString","join","factory","ɵfac","providedIn","DEFAULT_COLOR","MNJ_DEFAULT_COLOR_CONFIG_FACTORY","defaultColor","displayFormat","defaultPalette","MNJ_COLOR_CONFIG_PROVIDER","InjectionToken","activeColorChange","EventEmitter","ColorPickerView","BaseColorpickerView","_colorAdapter","defineProperty","_activeColor","oldActiveColor","_selected","selected","changeColor","activeColor","emit","i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵstyleMap","i0.ɵɵlistener","i0.ɵɵtemplate","i0.ɵɵstyleProp","i0.ɵɵproperty","i0.ɵɵattribute","cell_r1","i0.ɵɵadvance","i0","ɵɵdirectiveInject","inputs","outputs","MnjGridSelector","colorAdapter","_elementRef","_changeDetectorRef","colorSelected","grid","_color","_buildPalette","_paletteGeneratorFn","_columns","coerceNumberProperty","_calculateCellSize","cssColor","cellSize","width","_cellSize","height","thumbSize","_thumbSize","gridStyle","gridTemplateColumns","columns","gridGap","padding","ngAfterViewInit","markForCheck","paletteGeneratorFn","_selectedIndex","findIndex","cell","nativeElement","getBoundingClientRect","cells","selectColor","_handleKeydownEvent","event","activeIndex","keyCode","LEFT_ARROW","RIGHT_ARROW","UP_ARROW","DOWN_ARROW","PAGE_UP","HOME","PAGE_DOWN","END","SPACE","preventDefault","from","querySelectorAll","focus","ElementRef","ChangeDetectorRef","selectors","hostAttrs","hostBindings","rf","ctx","$event","MnjArmoniesPickerView","_this","_super","complementaryPaletteFn","splitComplementaryPaletteFn","splitComplementaryPaletteFn1","analogous1PaletteFn","analogous2PaletteFn","triadic1PaletteFn","triadic2PaletteFn","tetradic1PaletteFn","tetradic2PaletteFn","tetradic3PaletteFn","getPointerPositionFromEvent","MouseEvent","touches","clientX","y","clientY","isSamePosition","point1","point2","getContainerSize","container","coerceElement","top","left","right","bottom","getPointerPositionInContainer","pointer","pointerXToContainerX","pointerYToContainerY","exportAs","features","ɵɵProvidersFeature","provide","useExisting","ɵɵInheritDefinitionFeature","decls","vars","consts","template","i0.ɵɵtext","passiveEventListenerOptions","normalizePassiveListenerOptions","passive","activeEventListenerOptions","activeCapturingEventOptions","capture","BaseSelector","_document","_ngZone","_dir","thumbPosition","_globalListeners","Map","_clearGlobalListeners","forEach","config","name","removeEventListener","handler","options","clear","_pointerDown","cachedPointerPos","cachedContainerSize","calculateColorFromPosition","isTouchEvent","type","moveEvent","upEvent","set","pointerMove","addGlobalListeners","_setColor","attachListeners","ngOnDestroy","sliderElement","runOutsideAngular","addEventListener","_isRtl","DOCUMENT","NgZone","i2","Directionality","MnjSaturationSelector","satChange","background-color","xPosition","yPosition","pointerPos","run","pointerX","pointerY","isRtl","newSaturation","hostVars","MnjHueSelector","hueChange","pointerToContainerX","oldHue","newHue","MnjPreviewSwatch","MnjInputSelector","_colorFormat","inputChange","_formats","indexOf","target","nextFormat","colorFormat","previousFormat","viewQuery","MnjAlphaSelector","alphaChange","backgroundImage","assign","oldAlpha","newAlpha","MnjChromePickerView","colorShadesFn","MnjPalettePickerView","paletteFn","palette","_selectColorInPalette","_palette","defaultSelected","matchIndex","MnjColorpickerIntl","changes","Subject","pickerView","armoniesView","paletteView","scanView","uploadPhotoToScan","switchToPickerView","switchToArmoniesView","switchToPaletteView","switchToScanView","openColorPickerLabel","i0.ɵɵclassProp","MnjPipetteSelector","pipetteColorChange","_showPipetteSwatch","swatchPosition","pipetteSwatchPalette","showPipetteSwatch","swatchCells","_image","_paintCanvas","_swatchCells","_swatchMiddle","floor","gridTemplateRows","translate","transform","getPixelBackground","pixel","image","coerceBooleanProperty","detectChanges","onStable","pipe","take","subscribe","canvas","canvasElement","imgWidth","imgHeight","containerWidth","containerHeight","getContext","clearRect","canvasWidth","canvasHeight","_fitImage","offsetX","offsetY","drawImage","_getSwatchPosition","leftPos","topPos","negativeOffset","pixels","getImageData","data","parentWidth","parentHeight","childWidth","childHeight","scale","childRatio","swatchRight","topOrBottom","leftOrRight","click","ɵɵrestoreView","_r4_1","ɵɵnextContext","uploadFile","_allowDrop","i0.ɵɵtextInterpolate","i0.ɵɵelementContainerStart","i0.ɵɵnamespaceSVG","i0.ɵɵnamespaceHTML","i0.ɵɵelementContainerEnd","MnjScanPickerView","_intl","changeDetectorRef","_loadedImage","URL","revokeObjectURL","src","stopPropagation","files","dataTransfer","file","image_1","Image","onload","createObjectURL","ctx_r0","ctx_r1","ctx_r2","ctx_r3","MnjColorPanelHeader","colorPanel","_views","stateChanges","currentView","previousClicked","index","nextClicked","previousEnabled","nextEnabled","forwardRef","MnjColorPanel","i0.ɵɵtextInterpolate1","_config","selectedChange","_userSelection","_intlChanges","_startColor","_showAlpha","_currentView","ngAfterContentInit","startView","startColor","unsubscribe","complete","_selectColor","_getCurrentViewComponent","ENTER","currentPicker","i3$1","CdkMonitorFocus","i3","NgSwitch","NgSwitchCase","i2$1","MatButton","styles","encapsulation","changeDetection","mnjColorpickerAnimations","transformPanel","trigger","state","style","opacity","transition","animate","fadeInColorPanel","colorpickerUid","MNJ_COLORPICKER_SCROLL_STRATEGY","MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY","overlay","scrollStrategies","reposition","MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER","deps","Overlay","useFactory","MnjColorpickerContentBase","MnjColorpickerContent","elementRef","_animationState","_animationDone","_subscriptions","Subscription","add","colorpicker","_stateChanges","_handleUserSelection","select","close","_startExitAnimation","_getSelected","_selectedColor","mixinColor","panelClass","MnjColorpicker","_dialog","_overlay","_viewContainerRef","scrollStrategy","_inputStateChanges","EMPTY","_touchUi","openedStream","closedStream","_opened","id","_validSelected","_focusedElementBeforeOpen","_configurationChanges","_selectedChanged","_scrollStrategy","_colorpickerInput","getThemePalette","_displayFormat","_disabled","disabled","newValue","_xPosition","isFirstChange","_updatePopupPositions","_yPosition","open","_destroyPopup","oldValue","_registerInput","input","Error","activeElement","touchUi","_openAsDialog","_openAsPopup","_popupComponentRef","_popupRef","instance","_dialogRef","completeClose","setTimeout","direction","viewContainerRef","afterClosed","componentInstance","_setTheme","portal","ComponentPortal","_createPopup","attach","_forwardContentValues","updatePosition","positionStrategy","position","flexibleConnectedTo","getConnectedOverlayOrigin","withTransformOriginOn","withFlexibleDimensions","withViewportMargin","withLockedPosition","overlayConfig","OverlayConfig","_setConnectedPositions","hasBackdrop","backdropClass","overlayElement","setAttribute","merge","backdropClick","detachments","keydownEvents","filter","ESCAPE","altKey","strategy","primaryX","secondaryX","primaryY","secondaryY","withPositions","originX","originY","overlayX","overlayY","getConfig","opened","dispose","i4","MatDialog","i5","ViewContainerRef","MNJ_COLORPICKER_VALUE_ACCESSOR","NG_VALUE_ACCESSOR","MnjColorpickerInput","multi","MNJ_COLORPICKER_VALIDATORS","NG_VALIDATORS","targetElement","_formField","_value","colorChange","colorInput","_valueChange","_onTouched","_cvaOnChange","_validatorOnChange","_colorpickerSubscription","_colorpickerConfigurationSubscription","_localeSubscription","_parseValidator","_lastValueValid","mnjColorpickerParse","text","_validator","_colorpicker","MnjColorpickerInputEvent","_formatValue","oldColor","element","blur","ngOnChanges","registerOnValidatorChange","fn","validate","writeValue","registerOnChange","registerOnTouched","setDisabledState","isDisabled","_onKeydown","isAltDownArrow","readOnly","_openPopup","_onInput","lastValueWasValid","_onChange","getStartValue","_onBlur","i2$2","MatFormField","MAT_INPUT_VALUE_ACCESSOR","ɵɵNgOnChangesFeature","MnjColorpickerToggleIcon","MnjColorpickerToggle","defaultTabIndex","parsedTabIndex","tabIndex","_watchStateChanges","_open","colorpickerStateChanged","of","inputStateChanged","colorpickerToggled","ɵɵinjectAttribute","contentQueries","dirIndex","_button","i0.ɵɵprojection","disableRipple","MnjColorpickerModule","providers","imports","CommonModule","MatButtonModule","MatIconModule","PortalModule","A11yModule","OverlayModule","MatDialogModule","CdkScrollableModule","declarations","exports","parsedHex","coercedSaturation","coercedWhiteness","coercedBlackness","slice"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { CMYK, HSL, HSV, HWB, RGB } from './color-spaces';\r\n\r\n/** Converts RGB representation to HSL */\r\nexport function rgbToHsl({ red, green, blue }: RGB): HSL {\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n\r\n  const cmax = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  const cmin = Math.min(coercedRed, coercedGreen, coercedBlue);\r\n  const delta = cmax - cmin;\r\n\r\n  let hue = 0;\r\n  let saturation = 0;\r\n  let lightness = (cmax + cmin) / 2;\r\n\r\n  if (delta) {\r\n    switch (cmax) {\r\n      case coercedRed: {\r\n        hue = (coercedGreen - coercedBlue) / delta;\r\n        break;\r\n      }\r\n      case coercedGreen: {\r\n        hue = 2 + (coercedBlue - coercedRed) / delta;\r\n        break;\r\n      }\r\n      case coercedBlue: {\r\n        hue = 4 + (coercedRed - coercedGreen) / delta;\r\n        break;\r\n      }\r\n    }\r\n    saturation = delta / (1 - Math.abs(2 * lightness - 1));\r\n  }\r\n\r\n  hue = Math.round(60 * hue);\r\n  if (hue < 0) hue += 360;\r\n  saturation = Math.round(saturation * 100) || 0;\r\n  lightness = Math.round(lightness * 100) || 0;\r\n\r\n  return { hue, saturation, lightness };\r\n}\r\n\r\n/** Converts RGB representation to HSV */\r\nexport function rgbToHsv({ red, green, blue }: RGB): HSV {\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n\r\n  const cmax = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  const cmin = Math.min(coercedRed, coercedGreen, coercedBlue);\r\n  const delta = cmax - cmin;\r\n  const value = Math.round(cmax * 100) || 0;\r\n\r\n  let hue = 0;\r\n  let saturation = 0;\r\n\r\n  if (delta) {\r\n    switch (cmax) {\r\n      case coercedRed:\r\n        hue = (coercedGreen - coercedBlue) / delta;\r\n        break;\r\n      case coercedGreen:\r\n        hue = 2 + (coercedBlue - coercedRed) / delta;\r\n        break;\r\n      case coercedBlue:\r\n        hue = 4 + (coercedRed - coercedGreen) / delta;\r\n        break;\r\n    }\r\n    if (cmax) saturation = delta / cmax;\r\n  }\r\n\r\n  hue = Math.round(60 * hue) || 0;\r\n  if (hue < 0) hue += 360;\r\n  saturation = Math.round(saturation * 100) || 0;\r\n\r\n  return { hue, saturation, value };\r\n}\r\n\r\n/** Converts RGB representation to HWB */\r\nexport function rgbToHwb({ red, green, blue }: RGB): HWB {\r\n  const { hue, saturation, value } = rgbToHsv({ red, green, blue });\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n\r\n  const cmax = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  const cmin = Math.min(coercedRed, coercedGreen, coercedBlue);\r\n\r\n  const whiteness = Math.round(cmin * 100) / 100;\r\n  const blackness = Math.round((1 - cmax) * 100) / 100;\r\n\r\n  return { hue, whiteness, blackness };\r\n}\r\n\r\n/** Converts RGB representation to CMYK */\r\nexport function rgbToCmyk({ red, green, blue }: RGB): CMYK {\r\n  let cyan, magenta, yellow, black;\r\n  const coercedRed = red / 255;\r\n  const coercedGreen = green / 255;\r\n  const coercedBlue = blue / 255;\r\n  const max = Math.max(coercedRed, coercedGreen, coercedBlue);\r\n  black = 1 - max;\r\n  if (black === 1) {\r\n    cyan = 0;\r\n    magenta = 0;\r\n    yellow = 0;\r\n  } else {\r\n    cyan = Math.round(((1 - coercedRed - black) / (1 - black)) * 100);\r\n    magenta = Math.round(((1 - coercedGreen - black) / (1 - black)) * 100);\r\n    yellow = Math.round(((1 - coercedBlue - black) / (1 - black)) * 100);\r\n  }\r\n  black = Math.round(black * 100);\r\n  return { cyan, magenta, yellow, black };\r\n}\r\n\r\n/** Converts RGB representation to HEX */\r\nexport function rgbToHex({ red, green, blue }: RGB): string {\r\n  // tslint:disable-next-line: no-bitwise\r\n  return '#' + ((1 << 24) + (red << 16) + (green << 8) + blue).toString(16).slice(1);\r\n}\r\n\r\n/** Converts an Hex representation to RGB */\r\nexport function hexToRgb(hex: string): RGB | null {\r\n  const isValidHex = /^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);\r\n  if (!isValidHex) {\r\n    return null;\r\n  }\r\n\r\n  const parsedHex: number[] = hex\r\n    .replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (_, r, g, b) => '#' + r + r + g + g + b + b)\r\n    .substring(1)\r\n    .match(/.{2}/g)\r\n    .map((x) => parseInt(x, 16));\r\n\r\n  return { red: parsedHex[0], green: parsedHex[1] || 0, blue: parsedHex[2] || 0 };\r\n}\r\n\r\n/** Converts an HSL representation to RGB */\r\nexport function hslToRgb({ hue, saturation, lightness }: HSL) {\r\n  const sat = saturation / 100;\r\n  const light = lightness / 100;\r\n  let c = sat * (1 - Math.abs(2 * light - 1));\r\n  const h = hue / 60;\r\n  let x = c * (1 - Math.abs((h % 2) - 1));\r\n  let m = light - c / 2;\r\n  const precision = 255;\r\n\r\n  c = Math.round((c + m) * precision) || 0;\r\n  x = Math.round((x + m) * precision) || 0;\r\n  m = Math.round(m * precision) || 0;\r\n\r\n  if (h >= 0 && h < 1) return { red: c, green: x, blue: m };\r\n  if (h >= 1 && h < 2) return { red: x, green: c, blue: m };\r\n  if (h >= 2 && h < 3) return { red: m, green: c, blue: x };\r\n  if (h >= 3 && h < 4) return { red: m, green: x, blue: c };\r\n  if (h >= 4 && h < 5) return { red: x, green: m, blue: c };\r\n  if (h >= 5 && h < 6) return { red: c, green: m, blue: x };\r\n}\r\n\r\n/** Converts an HSL representation to HSV */\r\nexport function hslToHsv({ hue, saturation, lightness }: HSL): HSV {\r\n  const s = Math.min(saturation / 100, 1);\r\n  const l = Math.min(lightness / 100, 1);\r\n  if (l === 0) {\r\n    return { hue, saturation: 0, value: 0 };\r\n  } else {\r\n    const v = l + (s * (1 - Math.abs(2 * l - 1))) / 2;\r\n    return { hue, saturation: Math.round(((2 * (v - l)) / v) * 100), value: Math.round(v * 100) };\r\n  }\r\n}\r\n\r\n/** Converts an HSV representation to HSL */\r\nexport function hsvToHsl({ hue, saturation, value }: HSV): HSL {\r\n  const s = saturation / 100;\r\n  const v = value / 100;\r\n  if (v === 0) {\r\n    return { hue, saturation: 0, lightness: 0 };\r\n  } else if (s === 0 && v === 1) {\r\n    return { hue, saturation: 0, lightness: 100 };\r\n  } else {\r\n    const l = (v * (2 - s)) / 2;\r\n    return { hue, saturation: Math.round(((v * s) / (1 - Math.abs(2 * l - 1))) * 100), lightness: Math.round(l * 100) };\r\n  }\r\n}\r\n\r\n/** Converts an HSV representation to RGB */\r\nexport function hsvToRgb({ hue, saturation, value }: HSV): RGB {\r\n  const sat = saturation / 100;\r\n  const val = value / 100;\r\n  let c = sat * val;\r\n  const h = hue / 60;\r\n  let X = c * (1 - Math.abs((h % 2) - 1));\r\n  let m = val - c;\r\n  const precision = 255;\r\n\r\n  c = Math.round((c + m) * precision) || 0;\r\n  X = Math.round((X + m) * precision) || 0;\r\n  m = Math.round(m * precision) || 0;\r\n\r\n  if (h >= 0 && h < 1) return { red: c, green: X, blue: m };\r\n  if (h >= 1 && h < 2) return { red: X, green: c, blue: m };\r\n  if (h >= 2 && h < 3) return { red: m, green: c, blue: X };\r\n  if (h >= 3 && h < 4) return { red: m, green: X, blue: c };\r\n  if (h >= 4 && h < 5) return { red: X, green: m, blue: c };\r\n  if (h >= 5 && h < 6) return { red: c, green: m, blue: X };\r\n}\r\n\r\n/** Converts an HWB representation to HSV */\r\nexport function hsvToHwb({ hue, saturation, value }: HSV): HWB {\r\n  const coercedSaturation = saturation / 100;\r\n  const coercedValue = value / 100;\r\n\r\n  const whiteness = Math.round((1 - coercedSaturation) * coercedValue * 100);\r\n  const blackness = Math.round((1 - coercedValue) * 100);\r\n\r\n  return { hue, whiteness, blackness };\r\n}\r\n\r\n/** Converts an HWB representation to RGB */\r\nexport function hwbToRgb({ hue, whiteness, blackness }: HWB): RGB {\r\n  const rgb = hslToRgb({ hue: hue, saturation: 1, lightness: 0.5 });\r\n\r\n  const tot = whiteness + blackness;\r\n  let resultWhite: number;\r\n  let resultBlack: number;\r\n  if (tot > 1) {\r\n    resultWhite = Number((whiteness / tot).toFixed(2));\r\n    resultBlack = Number((blackness / tot).toFixed(2));\r\n  }\r\n  const adjustRgb = (c, w, b) => {\r\n    return ((c / 255) * (1 - w - b) + w) * 255;\r\n  };\r\n  return {\r\n    red: adjustRgb(rgb.red, resultWhite, resultBlack),\r\n    green: adjustRgb(rgb.green, resultWhite, resultBlack),\r\n    blue: adjustRgb(rgb.blue, resultWhite, resultBlack),\r\n  };\r\n}\r\n\r\n/** Converts an HWB representation to HSV */\r\nexport function hwbToHsv({ hue, whiteness, blackness }: HWB): HSV {\r\n  const coercedWhiteness = whiteness / 100;\r\n  const coercedBlackness = blackness / 100;\r\n\r\n  const saturation = Math.round((1 - coercedWhiteness / (1 - coercedBlackness)) * 100);\r\n  const value = Math.round((1 - coercedBlackness) * 100);\r\n\r\n  return { hue, saturation, value };\r\n}\r\n\r\n/** Converts a CMYK representation to RGB */\r\nexport function cmykToRgb({ cyan, magenta, yellow, black }: CMYK): RGB {\r\n  const red = 255 - Math.min(1, cyan * (1 - black) + black) * 255;\r\n  const green = 255 - Math.min(1, magenta * (1 - black) + black) * 255;\r\n  const blue = 255 - Math.min(1, yellow * (1 - black) + black) * 255;\r\n  return { red, green, blue };\r\n}\r\n","export type ColorFormat = 'HEX' | 'RGB' | 'HSL' | 'HSV' | 'HWB' | 'CMYK' | 'CSS_NAME';\r\n\r\nexport interface RGB {\r\n  red: number;\r\n  green: number;\r\n  blue: number;\r\n}\r\n\r\nexport interface HSL {\r\n  hue: number;\r\n  saturation: number;\r\n  lightness: number;\r\n}\r\n\r\nexport interface HSV {\r\n  hue: number;\r\n  saturation: number;\r\n  value: number;\r\n}\r\n\r\nexport interface HWB {\r\n  hue: number;\r\n  whiteness: number;\r\n  blackness: number;\r\n}\r\n\r\nexport interface CMYK {\r\n  cyan: number;\r\n  magenta: number;\r\n  yellow: number;\r\n  black: number;\r\n}\r\n\r\nexport const CSS_COLOR_NAMES = {\r\n  AliceBlue: '#F0F8FF',\r\n  AntiqueWhite: '#FAEBD7',\r\n  Aqua: '#00FFFF',\r\n  Aquamarine: '#7FFFD4',\r\n  Azure: '#F0FFFF',\r\n  Beige: '#F5F5DC',\r\n  Bisque: '#FFE4C4',\r\n  Black: '#000000',\r\n  BlanchedAlmond: '#FFEBCD',\r\n  Blue: '#0000FF',\r\n  BlueViolet: '#8A2BE2',\r\n  Brown: '#A52A2A',\r\n  BurlyWood: '#DEB887',\r\n  CadetBlue: '#5F9EA0',\r\n  Chartreuse: '#7FFF00',\r\n  Chocolate: '#D2691E',\r\n  Coral: '#FF7F50',\r\n  CornflowerBlue: '#6495ED',\r\n  Cornsilk: '#FFF8DC',\r\n  Crimson: '#DC143C',\r\n  Cyan: '#00FFFF',\r\n  DarkBlue: '#00008B',\r\n  DarkCyan: '#008B8B',\r\n  DarkGoldenRod: '#B8860B',\r\n  DarkGray: '#A9A9A9',\r\n  DarkGreen: '#006400',\r\n  DarkGrey: '#A9A9A9',\r\n  DarkKhaki: '#BDB76B',\r\n  DarkMagenta: '#8B008B',\r\n  DarkOliveGreen: '#556B2F',\r\n  DarkOrchid: '#9932CC',\r\n  DarkRed: '#8B0000',\r\n  DarkSalmon: '#E9967A',\r\n  DarkSeaGreen: '#8FBC8F',\r\n  DarkSlateBlue: '#483D8B',\r\n  DarkSlateGray: '#2F4F4F',\r\n  DarkSlateGrey: '#2F4F4F',\r\n  DarkTurquoise: '#00CED1',\r\n  DarkViolet: '#9400D3',\r\n  Darkorange: '#FF8C00',\r\n  DeepPink: '#FF1493',\r\n  DeepSkyBlue: '#00BFFF',\r\n  DimGray: '#696969',\r\n  DimGrey: '#696969',\r\n  DodgerBlue: '#1E90FF',\r\n  FireBrick: '#B22222',\r\n  FloralWhite: '#FFFAF0',\r\n  ForestGreen: '#228B22',\r\n  Fuchsia: '#FF00FF',\r\n  Gainsboro: '#DCDCDC',\r\n  GhostWhite: '#F8F8FF',\r\n  Gold: '#FFD700',\r\n  GoldenRod: '#DAA520',\r\n  Gray: '#808080',\r\n  Green: '#008000',\r\n  GreenYellow: '#ADFF2F',\r\n  Grey: '#808080',\r\n  HoneyDew: '#F0FFF0',\r\n  HotPink: '#FF69B4',\r\n  IndianRed: '#CD5C5C',\r\n  Indigo: '#4B0082',\r\n  Ivory: '#FFFFF0',\r\n  Khaki: '#F0E68C',\r\n  Lavender: '#E6E6FA',\r\n  LavenderBlush: '#FFF0F5',\r\n  LawnGreen: '#7CFC00',\r\n  LemonChiffon: '#FFFACD',\r\n  LightBlue: '#ADD8E6',\r\n  LightCoral: '#F08080',\r\n  LightCyan: '#E0FFFF',\r\n  LightGoldenRodYellow: '#FAFAD2',\r\n  LightGray: '#D3D3D3',\r\n  LightGreen: '#90EE90',\r\n  LightGrey: '#D3D3D3',\r\n  LightPink: '#FFB6C1',\r\n  LightSalmon: '#FFA07A',\r\n  LightSeaGreen: '#20B2AA',\r\n  LightSkyBlue: '#87CEFA',\r\n  LightSlateGray: '#778899',\r\n  LightSlateGrey: '#778899',\r\n  LightSteelBlue: '#B0C4DE',\r\n  LightYellow: '#FFFFE0',\r\n  Lime: '#00FF00',\r\n  LimeGreen: '#32CD32',\r\n  Linen: '#FAF0E6',\r\n  Magenta: '#FF00FF',\r\n  Maroon: '#800000',\r\n  MediumAquaMarine: '#66CDAA',\r\n  MediumBlue: '#0000CD',\r\n  MediumOrchid: '#BA55D3',\r\n  MediumPurple: '#9370D8',\r\n  MediumSeaGreen: '#3CB371',\r\n  MediumSlateBlue: '#7B68EE',\r\n  MediumSpringGreen: '#00FA9A',\r\n  MediumTurquoise: '#48D1CC',\r\n  MediumVioletRed: '#C71585',\r\n  MidnightBlue: '#191970',\r\n  MintCream: '#F5FFFA',\r\n  MistyRose: '#FFE4E1',\r\n  Moccasin: '#FFE4B5',\r\n  NavajoWhite: '#FFDEAD',\r\n  Navy: '#000080',\r\n  OldLace: '#FDF5E6',\r\n  Olive: '#808000',\r\n  OliveDrab: '#6B8E23',\r\n  Orange: '#FFA500',\r\n  OrangeRed: '#FF4500',\r\n  Orchid: '#DA70D6',\r\n  PaleGoldenRod: '#EEE8AA',\r\n  PaleGreen: '#98FB98',\r\n  PaleTurquoise: '#AFEEEE',\r\n  PaleVioletRed: '#D87093',\r\n  PapayaWhip: '#FFEFD5',\r\n  PeachPuff: '#FFDAB9',\r\n  Peru: '#CD853F',\r\n  Pink: '#FFC0CB',\r\n  Plum: '#DDA0DD',\r\n  PowderBlue: '#B0E0E6',\r\n  Purple: '#800080',\r\n  Red: '#FF0000',\r\n  RosyBrown: '#BC8F8F',\r\n  RoyalBlue: '#4169E1',\r\n  SaddleBrown: '#8B4513',\r\n  Salmon: '#FA8072',\r\n  SandyBrown: '#F4A460',\r\n  SeaGreen: '#2E8B57',\r\n  SeaShell: '#FFF5EE',\r\n  Sienna: '#A0522D',\r\n  Silver: '#C0C0C0',\r\n  SkyBlue: '#87CEEB',\r\n  SlateBlue: '#6A5ACD',\r\n  SlateGray: '#708090',\r\n  SlateGrey: '#708090',\r\n  Snow: '#FFFAFA',\r\n  SpringGreen: '#00FF7F',\r\n  SteelBlue: '#4682B4',\r\n  Tan: '#D2B48C',\r\n  Teal: '#008080',\r\n  Thistle: '#D8BFD8',\r\n  Tomato: '#FF6347',\r\n  Turquoise: '#40E0D0',\r\n  Violet: '#EE82EE',\r\n  Wheat: '#F5DEB3',\r\n  White: '#FFFFFF',\r\n  WhiteSmoke: '#F5F5F5',\r\n  Yellow: '#FFFF00',\r\n  YellowGreen: '#9ACD32',\r\n};\r\n","import { cmykToRgb, hslToRgb, hsvToHsl, hsvToRgb, hwbToRgb, rgbToHsl } from './color-conversions';\nimport { CMYK, CSS_COLOR_NAMES, HSL, HSV, HWB, RGB } from './color-spaces';\n\nexport interface Color {\n  red: number;\n  green: number;\n  blue: number;\n  hue: number;\n  saturation: number;\n  lightness: number;\n  alpha: number;\n}\n\nexport interface PaletteColor {\n  title: string;\n  color: Color;\n  active: boolean;\n}\n\n/** Builds a color object from Red, Green, Blue values */\nexport function fromRgb({ red, green, blue }: RGB, alpha: number = 1): Color {\n  const coercedRed = clamp(0, 255, red);\n  const coercedGreen = clamp(0, 255, green);\n  const coercedBlue = clamp(0, 255, blue);\n\n  const { hue, saturation: saturation, lightness } = rgbToHsl({\n    red: coercedRed,\n    green: coercedGreen,\n    blue: coercedBlue,\n  });\n\n  return {\n    red: coercedRed,\n    green: coercedGreen,\n    blue: coercedBlue,\n    hue,\n    saturation: saturation,\n    lightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hue, Saturation, Lightness values */\nexport function fromHsl({ hue, saturation: saturation, lightness }: HSL, alpha: number = 1): Color {\n  const coercedHue = clamp(0, 359, hue);\n  const coercedSat = clamp(0, 100, saturation);\n  const coercedLightness = clamp(0, 100, lightness);\n\n  const { red, green, blue } = hslToRgb({ hue: coercedHue, saturation: coercedSat, lightness: coercedLightness });\n\n  return {\n    red,\n    green,\n    blue,\n    hue: coercedHue,\n    saturation: coercedSat,\n    lightness: coercedLightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hue, Saturation, Value values */\nexport function fromHsv({ hue, saturation, value }: HSV, alpha: number = 1): Color {\n  const coercedHue = clamp(0, 359, hue);\n  const coercedSat = clamp(0, 100, saturation);\n  const coercedValue = clamp(0, 100, value);\n\n  const { red, green, blue } = hsvToRgb({ hue: coercedHue, saturation: coercedSat, value: coercedValue });\n  const { hue: hslHue, saturation: hslSat, lightness: hslLightness } = hsvToHsl({\n    hue: coercedHue,\n    saturation: coercedSat,\n    value: coercedValue,\n  });\n\n  return {\n    red,\n    green,\n    blue,\n    hue: hslHue,\n    saturation: hslSat,\n    lightness: hslLightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hue, Saturation, Value values */\nexport function fromHwb({ hue, whiteness, blackness }: HWB, alpha: number = 1): Color {\n  const coercedHue = clamp(0, 359, hue);\n  const coercedWhiteness = clamp(0, 100, whiteness);\n  const coercedBlackness = clamp(0, 100, blackness);\n\n  const rgb = hwbToRgb({ hue: coercedHue, whiteness: coercedWhiteness, blackness: coercedBlackness });\n  const hsl = rgbToHsl(rgb);\n\n  return {\n    red: rgb.red,\n    green: rgb.green,\n    blue: rgb.blue,\n    hue: coercedHue,\n    saturation: hsl.saturation,\n    lightness: hsl.lightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Cyan, Magenta, Yellow and Black values */\nexport function fromCmyk({ cyan, magenta, yellow, black }: CMYK, alpha: number = 1): Color {\n  const coercedCyan = clamp(0, 100, cyan);\n  const coercedMagenta = clamp(0, 100, magenta);\n  const coercedYellow = clamp(0, 100, yellow);\n  const coercedBlack = clamp(0, 100, black);\n\n  const { red, green, blue } = cmykToRgb({\n    cyan: coercedCyan,\n    magenta: coercedMagenta,\n    yellow: coercedYellow,\n    black: coercedBlack,\n  });\n  const { hue, saturation, lightness } = rgbToHsl({ red, green, blue });\n\n  return {\n    red,\n    green,\n    blue,\n    hue,\n    saturation,\n    lightness,\n    alpha,\n  };\n}\n\n/** Builds color object from Hex string value */\nexport function fromHex(hex: string): Color {\n  const isValidHex = /^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);\n  if (!isValidHex) {\n    return null;\n  }\n\n  const [red, green, blue, alpha = 100] = hex\n    .replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])$/i, (_, r, g, b, a) => '#' + r + r + g + g + b + b + a + a)\n    .substring(1)\n    .match(/.{2}/g)\n    .map((x) => parseInt(x, 16));\n\n  const { hue, saturation, lightness } = rgbToHsl({ red, green, blue });\n\n  return {\n    red,\n    green,\n    blue,\n    hue,\n    saturation,\n    lightness,\n    alpha: alpha / 100,\n  };\n}\n\nexport function parseString(colorString: string): Color | null {\n  // Regex to extract values inside parenthesis\n  const extractColorValuesRegex = /\\((.*)\\)/;\n\n  // Transforms a string number or percentage into a valid and clamped color number\n  const toColorNumber = (value: string, min: number, max: number, allowPercent = true) => {\n    let numberValue: number;\n    value = value.replace(' ', '');\n\n    if (value.includes('%') && allowPercent) {\n      numberValue = Number(value.replace('%', ''));\n    } else {\n      numberValue = Number(value);\n      numberValue = numberValue < 1 && allowPercent ? numberValue * 100 : numberValue;\n    }\n\n    return clamp(min, max, numberValue);\n  };\n\n  colorString = colorString.toLowerCase().replace(/^\\s+|\\s+$/g, '');\n  if (colorString.startsWith('rgb')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n    const [red, green, blue, alpha = 1] = colorArray.map((x, i) => toColorNumber(x, 0, i < 3 ? 255 : 1, false));\n\n    return fromRgb({ red, green, blue }, alpha);\n  }\n  if (colorString.startsWith('hsl')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n\n    const [hueString, satString, lightnessString, alphaString = '1'] = colorArray;\n    const hue = toColorNumber(hueString, 0, 359, false);\n    const sat = toColorNumber(satString, 0, 100);\n    const lightness = toColorNumber(lightnessString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromHsl({ hue, saturation: sat, lightness }, alpha);\n  }\n  if (colorString.startsWith('hsv')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n    const [hueString, satString, valueString, alphaString = '1'] = colorArray;\n    const hue = toColorNumber(hueString, 0, 359, false);\n    const sat = toColorNumber(satString, 0, 100);\n    const value = toColorNumber(valueString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromHsv({ hue, saturation: sat, value }, alpha);\n  }\n  if (colorString.startsWith('hwb')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 3 || colorArray.length > 4) {\n      return;\n    }\n    const [hueString, whitenessString, blacknessString, alphaString = '1'] = colorArray;\n    const hue = toColorNumber(hueString, 0, 359, false);\n    const whiteness = toColorNumber(whitenessString, 0, 100);\n    const blackness = toColorNumber(blacknessString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromHwb({ hue, whiteness, blackness }, alpha);\n  }\n  if (colorString.startsWith('cmyk')) {\n    const colorMatch = colorString.match(extractColorValuesRegex);\n    if (!colorMatch) {\n      return;\n    }\n    const colorArray = colorMatch[1].split(',');\n    if (colorArray.length < 4 || colorArray.length > 5) {\n      return;\n    }\n    const [cyanString, magentaString, yellowString, blackString, alphaString = '1'] = colorArray;\n    const cyan = toColorNumber(cyanString, 0, 100);\n    const magenta = toColorNumber(magentaString, 0, 100);\n    const yellow = toColorNumber(yellowString, 0, 100);\n    const black = toColorNumber(blackString, 0, 100);\n    const alpha = toColorNumber(alphaString, 0, 1);\n\n    return fromCmyk({ cyan, magenta, yellow, black }, alpha);\n  }\n\n  const color = fromHex(colorString);\n  if (color) {\n    return color;\n  }\n  const cssColorName = Object.keys(CSS_COLOR_NAMES).find((c) => c.toLowerCase() === colorString.toLowerCase());\n  if (cssColorName) {\n    return fromHex(CSS_COLOR_NAMES[cssColorName]);\n  }\n  return null;\n}\n\n/**\n * Adds saturation to the color.\n * Amount is counted as a value betweeen -1 and 1, but accepts values between -100 and 100\n * @param amount The number of saturation to add\n * @param color The color to be modified\n */\nexport function saturate(amount: number, color: Color): Color {\n  const { hue, saturation, lightness } = color;\n  const newSat = saturation + coercePercent(amount);\n\n  return fromHsl({ hue, saturation: clamp(0, 100, newSat), lightness });\n}\n\nexport function shade(amount: number, color: Color): Color {\n  amount = coercePercent(amount) * 100;\n\n  const delta = 100 - color.lightness === 5 ? 0 : (100 - color.lightness) % 10;\n  const newLightness = color.lightness + amount + delta;\n\n  return fromHsl({ hue: color.hue, saturation: color.saturation, lightness: newLightness });\n}\n\n/** Calculates the shades of a given color from 5% to 90% of darkness */\nexport function calculateShades(color: Color): Array<{ title: string; color: Color; active: boolean }> {\n  const colorShade = getColorShade(color);\n  const shades: Array<{ title: string; color: Color; active: boolean }> = [];\n\n  const amounts = [50, 100, 200, 300, 400, 500, 600, 700, 800, 900];\n  let i = 0;\n\n  while (i < amounts.length) {\n    const distance = (colorShade - amounts[i]) / 10;\n    const s: { title: string; color: Color; active: boolean } = {\n      title: `${amounts[i]}`,\n      color: distance ? shade(distance, color) : color,\n      active: amounts[i] === colorShade,\n    };\n    shades.push(s);\n    i++;\n  }\n\n  return shades;\n}\n\n/**\n * Returns the complementary of a given color\n * Complementary color is calculated by spining 180deg in the color wheel\n * @param color The color to calculate it's complementary\n */\nexport function complementary(color: Color): Color {\n  return spinColor(180, color);\n}\n\n/**\n * Returns the split complementary set of a given color excluding itself\n * The split-complementary uses the two colors adjacent to its complement\n * @param color The color to calculate it's split complementary colours\n */\nexport function splitComplementary(color: Color): [Color, Color] {\n  return [spinColor(60, color), spinColor(210, color)];\n}\n\n/**\n * Returns the analogous set of a given color\n * Analogous colours are calculated by spining 1/6 in each direction the color wheel\n * @param color The color to calculate it's analogous\n */\nexport function analogous(color: Color): [Color, Color] {\n  return [spinColor(30, color), spinColor(-30, color)];\n}\n\n/**\n * Returns the triadic set of a given color excluding itself\n * Triadic colours are calculated by spining 1/3 color wheel\n * @param color The color to calculate it's triadic colours\n */\nexport function triadic(color: Color): [Color, Color] {\n  return [spinColor(120, color), spinColor(-120, color)];\n}\n\n/**\n * Returns the tetradic set of a given color excluding itself\n * Tetradic color scheme uses four colors arranged into two complementary pairs\n * @param color The color to calculate it's tetradic colours\n */\nexport function tetradic(color: Color): [Color, Color, Color] {\n  return [spinColor(30, color), spinColor(180, color), spinColor(210, color)];\n}\n\n/**\n * Returns the square set of a given color excluding itself\n * Square colours are calculated by spining 1/4 the color wheel\n * @param color The color to calculate it's square colours\n */\nexport function square(color: Color): [Color, Color, Color] {\n  return [spinColor(90, color), spinColor(180, color), spinColor(270, color)];\n}\n\nexport function spinColor(deg: number, color: Color): Color {\n  const { hue, saturation, lightness } = color;\n  const rotatedHue = (hue + 360 + deg) % 360;\n  return fromHsl({ hue: rotatedHue, saturation, lightness });\n}\n\nexport function getColorShade(color: Color) {\n  const { lightness } = color;\n  let colorShade = 100 - lightness;\n  if (colorShade <= 5) {\n    return 50;\n  }\n  if (colorShade >= 90) {\n    return 900;\n  }\n  colorShade = Math.trunc(colorShade / 10) * 100;\n  return colorShade;\n}\n\nexport function clamp(min: number, max: number, value: number): number {\n  return Math.max(Math.min(value, max), min);\n}\n\nfunction coercePercent(amount: number): number {\n  amount = Math.max(Math.min(amount, 100), -100);\n  if (amount < -1 || amount > 1) {\n    return Math.trunc(amount) / 100;\n  }\n  return amount;\n}\n","import { Injectable } from '@angular/core';\nimport { Color, parseString } from './color';\nimport { rgbToCmyk, rgbToHwb } from './color-conversions';\nimport { ColorFormat } from './color-spaces';\n\n@Injectable({ providedIn: 'root' })\nexport class ColorAdapter {\n  /** Checks if the given object is a complete color representation */\n  isColorInstance(color: Color) {\n    return (\n      color &&\n      color.red !== undefined &&\n      color.green !== undefined &&\n      color.blue !== undefined &&\n      color.hue !== undefined &&\n      color.saturation !== undefined &&\n      color.lightness !== undefined &&\n      color.alpha !== undefined\n    );\n  }\n\n  /**\n   * Parses a color from a literal\n   * @param colorString literal to be converted to color\n   */\n  parse(colorString: string): Color {\n    return parseString(colorString);\n  }\n\n  /**\n   * Returns the given value if given a valid Color or null. Deserializes valid strings\n   * into valid Colors and empty string into null. Returns an invalid color for all other values.\n   */\n  deserialize(value: any): Color | null {\n    if (typeof value === 'string') {\n      if (!value) {\n        return null;\n      }\n      return parseString(value);\n    }\n  }\n\n  /** Checks equality between two colors */\n  sameColor(first: Color, second: Color) {\n    if (first && second) {\n      const firstValid = this.isValid(first);\n      const secondValid = this.isValid(second);\n\n      if (firstValid && secondValid) {\n        const equalAlpha = first.alpha === second.alpha;\n        const equalHsl =\n          first.hue === second.hue && first.saturation === second.saturation && first.lightness === second.lightness;\n        return equalAlpha && equalHsl && !this.compareColor(first, second);\n      }\n      return firstValid === secondValid;\n    }\n    return first === second;\n  }\n\n  /**\n   * Compares two colors based on the Euclidean distance of the sRGB color space.\n   * @param first The first color to compare.\n   * @param second The second color to compare.\n   * @returns 0 if the colors are equal, a number less than 0 if the first color is earlier,\n   *     a number greater than 0 if the first color is later.\n   */\n  compareColor(first: Color, second: Color): number {\n    const redMean = (first.red - second.red) / 2;\n    const redDelta = first.red - second.red;\n    const greenDelta = first.green - second.green;\n    const blueDelta = first.blue - second.blue;\n    return Math.sqrt(\n      (2 + redMean / 256) * Math.pow(redDelta, 2) +\n        4 * Math.pow(greenDelta, 2) +\n        (2 + (255 - redDelta) / 256) * Math.pow(blueDelta, 2)\n    );\n  }\n\n  /** Returns the color if valid otherwise null */\n  getValidColorOrNull(color: Color): Color | null {\n    return this.isColorInstance(color) && this.isValid(color) ? color : null;\n  }\n\n  /**\n   * Checks wether the given color is valid\n   * @param color to be validated\n   */\n  isValid(color: Color) {\n    return (\n      color &&\n      color.red <= 255 &&\n      color.red >= 0 &&\n      color.green <= 255 &&\n      color.green >= 0 &&\n      color.blue <= 255 &&\n      color.blue >= 0 &&\n      color.hue < 360 &&\n      color.hue >= 0 &&\n      color.saturation <= 100 &&\n      color.saturation >= 0 &&\n      color.lightness <= 100 &&\n      color.lightness >= 0 &&\n      color.alpha <= 1 &&\n      color.alpha >= 0\n    );\n  }\n\n  /**\n   * Formats a color as a string according to the given format\n   * @param color The color to format\n   * @param format The format to display the color as a string\n   */\n  format(color: Color, format: ColorFormat, showAlpha = false): string {\n    switch (format) {\n      case 'HEX':\n        return this.toHexString(color, showAlpha);\n      case 'RGB':\n        return this.toRgbString(color, showAlpha);\n      case 'HSL':\n        return this.toHslString(color, showAlpha);\n      case 'HWB':\n        return this.toHwbString(color, showAlpha);\n      case 'CMYK':\n        return this.toCmykString(color);\n    }\n  }\n\n  /** Outputs the RGB/A string representation of a color */\n  toRgbString(color: Color, showAlpha = false): string {\n    const { red, green, blue, alpha } = color;\n    return showAlpha ? `rgba(${red}, ${green}, ${blue}, ${alpha})` : `rgb(${red}, ${green}, ${blue})`;\n  }\n\n  /** Outputs the HWB/A string representation of a color */\n  toHwbString(color: Color, showAlpha = false): string {\n    const { hue, whiteness, blackness } = rgbToHwb(color);\n    return showAlpha\n      ? `hwba(${hue}, ${Math.round(whiteness * 100)}%, ${Math.round(blackness * 100)}%, ${color.alpha})`\n      : `hwb(${hue}, ${Math.round(whiteness * 100)}%, ${Math.round(blackness * 100)}%)`;\n  }\n\n  /** Outputs the HWB/A decimals string representation of a color */\n  toHwbStringDecimal(color: Color, showAlpha = false): string {\n    const { hue, whiteness, blackness } = rgbToHwb(color);\n    return showAlpha\n      ? `hwba(${hue}, ${whiteness}, ${blackness}, ${color.alpha})`\n      : `hwb(${hue}, ${whiteness}, ${blackness})`;\n  }\n\n  /** Outputs the HSL/A string representation of a color */\n  toHslString(color: Color, showAlpha = false): string {\n    const { hue, saturation, lightness, alpha } = color;\n    return showAlpha\n      ? `hsla(${hue}, ${saturation}%, ${lightness}%, ${alpha})`\n      : `hsl(${hue}, ${saturation}%, ${lightness}%)`;\n  }\n\n  /** Outputs the HSL/A decimals string representation of a color */\n  toHslStringDecimal(color: Color, showAlpha = false): string {\n    const { hue, saturation, lightness, alpha } = color;\n    return showAlpha\n      ? `hsla(${hue}, ${saturation}%, ${lightness}%, ${color.alpha})`\n      : `hsl(${hue}, ${saturation}, ${lightness}, ${color.alpha})`;\n  }\n\n  /** Outputs the CMYK string representation of a color */\n  toCmykString(color: Color): string {\n    const { cyan, magenta, yellow, black } = rgbToCmyk(color);\n    return `cmyk(${cyan}%, ${magenta}%, ${yellow}%, ${black}%)`;\n  }\n\n  /** Outputs the CMYK decimals string representation of a color */\n  toCmykStringDecimal(color: Color): string {\n    const { cyan, magenta, yellow, black } = rgbToCmyk(color);\n    return `cmyk(${cyan}, ${magenta}, ${yellow}, ${black})`;\n  }\n\n  /** Outputs the HEX/A string representation of a color */\n  toHexString(color: Color, showAlpha = false): string {\n    let code: string;\n    if (showAlpha) {\n      code = [color.red, color.green, color.blue, color.alpha * 100]\n        .map((x) => {\n          const hex = Math.round(x).toString(16);\n          return hex.length === 1 ? '0' + hex : hex;\n        })\n        .join('');\n    } else {\n      code = [color.red, color.green, color.blue]\n        .map((x) => {\n          const hex = Math.round(x).toString(16);\n          return hex.length === 1 ? '0' + hex : hex;\n        })\n        .join('');\n    }\n    return `#${code}`;\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { Color, fromHex, PaletteColor } from './color';\nimport { ColorFormat, CSS_COLOR_NAMES } from './color-spaces';\n\n/** Default color, commonly known as the NO COLOR (Black) */\nexport const DEFAULT_COLOR: Color = {\n  red: 0,\n  green: 0,\n  blue: 0,\n  hue: 0,\n  saturation: 0,\n  lightness: 0,\n  alpha: 1,\n};\n\n/** Default color module options that can be overridden. */\nexport interface MnjColorConfig {\n  showAlpha: boolean;\n  defaultColor: Color;\n  displayFormat: ColorFormat;\n  defaultPalette: PaletteColor[];\n}\n\n/** @docs-private */\nexport function MNJ_DEFAULT_COLOR_CONFIG_FACTORY(): MnjColorConfig {\n  return {\n    showAlpha: false,\n    defaultColor: DEFAULT_COLOR,\n    displayFormat: 'HEX',\n    defaultPalette: Object.keys(CSS_COLOR_NAMES).map((c) => ({\n      title: c,\n      color: fromHex(CSS_COLOR_NAMES[c]),\n      active: false,\n    })),\n  };\n}\n\n/** Injection token to be used to override the default options for color module. */\nexport const MNJ_COLOR_CONFIG_PROVIDER = new InjectionToken<MnjColorConfig>('mnj-color-default-options', {\n  providedIn: 'root',\n  factory: MNJ_DEFAULT_COLOR_CONFIG_FACTORY,\n});\n","import { Directive, EventEmitter, Input, Output } from '@angular/core';\r\nimport { Color } from '../color/color';\r\nimport { ColorAdapter } from '../color/color-adapter';\r\n\r\n/** Pure abstract class due the impossibility to add decorators to interfaces */\r\n@Directive()\r\nexport abstract class ColorPickerView {\r\n  /**\r\n   * The current active color. This determines which color is\r\n   * highlighted when using keyboard navigation.\r\n   */\r\n  activeColor: Color;\r\n\r\n  /** The currently selected color. */\r\n  selected: Color;\r\n\r\n  /**\r\n   * Emits the color chosen in any view.\r\n   * This doesn't imply a change on the selected color.\r\n   */\r\n  readonly activeColorChange = new EventEmitter<Color>();\r\n}\r\n\r\n@Directive()\r\nexport abstract class BaseColorpickerView implements ColorPickerView {\r\n  /**\r\n   * The color to display in this armonies view.\r\n   */\r\n  @Input()\r\n  get activeColor(): Color {\r\n    return this._activeColor;\r\n  }\r\n  set activeColor(value: Color) {\r\n    const oldActiveColor = this._activeColor;\r\n    if (this._colorAdapter.isValid(value) && !this._colorAdapter.sameColor(oldActiveColor, value)) {\r\n      this._activeColor = value;\r\n    }\r\n  }\r\n  private _activeColor: Color;\r\n\r\n  @Input()\r\n  get selected(): Color {\r\n    return this._selected;\r\n  }\r\n\r\n  set selected(value: Color) {\r\n    if (this._colorAdapter.sameColor(this.selected, value)) {\r\n      return;\r\n    }\r\n    this._selected = this._colorAdapter.getValidColorOrNull(value);\r\n  }\r\n  _selected: Color;\r\n\r\n  @Output() readonly activeColorChange = new EventEmitter<Color>();\r\n\r\n  constructor(protected _colorAdapter: ColorAdapter) {}\r\n\r\n  changeColor(value: Color) {\r\n    this.activeColor = value;\r\n    this.activeColorChange.emit(this.activeColor);\r\n  }\r\n}\r\n","<ul class=\"mnj-grid-selector__row\" [style]=\"gridStyle()\">\n  <li\n    class=\"mnj-grid-selector__row--cell\"\n    *ngFor=\"let cell of grid\"\n    [title]=\"cell.title\"\n    [attr.tabIndex]=\"cell.active ? 0 : -1\"\n    [attr.aria-label]=\"cell.title\"\n    [attr.aria-selected]=\"cell.active\"\n    [style.background]=\"cssColor(cell.color)\"\n    [style]=\"cellSize()\"\n    (click)=\"selectColor(cell)\"\n  >\n    <div *ngIf=\"cell.active\" class=\"mnj-colorpicker-selector__thumb\" [style]=\"thumbSize()\">\n      <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\n    </div>\n  </li>\n</ul>\n","import { coerceNumberProperty } from '@angular/cdk/coercion';\nimport {\n  DOWN_ARROW,\n  END,\n  HOME,\n  LEFT_ARROW,\n  PAGE_DOWN,\n  PAGE_UP,\n  RIGHT_ARROW,\n  SPACE,\n  UP_ARROW,\n} from '@angular/cdk/keycodes';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { clamp, Color, PaletteColor } from '../../color/color';\nimport { ColorAdapter } from '../../color/color-adapter';\n\n@Component({\n  selector: 'mnj-grid-selector',\n  templateUrl: 'grid-selector.html',\n  styleUrls: ['grid-selector.scss'],\n  exportAs: 'mnjGridSelector',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'mnj-grid-selector',\n    role: 'grid',\n    '(keydown)': '_handleKeydownEvent($event)',\n  },\n})\nexport class MnjGridSelector implements AfterViewInit {\n  @Input()\n  get color(): Color {\n    return this._color;\n  }\n  set color(value: Color) {\n    if (this.colorAdapter.sameColor(this.color, value)) {\n      return;\n    }\n    this._color = value;\n    this._buildPalette();\n  }\n  private _color: Color;\n\n  @Input()\n  get paletteGeneratorFn(): (color: Color) => PaletteColor[] {\n    return this._paletteGeneratorFn;\n  }\n  set paletteGeneratorFn(value: (color: Color) => PaletteColor[]) {\n    this._paletteGeneratorFn = value;\n    this._buildPalette();\n  }\n  private _paletteGeneratorFn: (color: Color) => PaletteColor[];\n\n  @Input()\n  get columns(): number {\n    return this._columns || 10;\n  }\n\n  set columns(value: number) {\n    value = coerceNumberProperty(value);\n    if (this._columns !== value) {\n      this._columns = value;\n      this._calculateCellSize();\n    }\n  }\n\n  private _columns: number;\n\n  @Output()\n  public colorSelected = new EventEmitter<Color>();\n\n  grid: PaletteColor[] = [];\n\n  private _selectedIndex: number;\n\n  cssColor(color: Color) {\n    return this.colorAdapter.toRgbString(color);\n  }\n\n  cellSize() {\n    return { width: `${this._cellSize}px`, height: `${this._cellSize}px` };\n  }\n\n  private _cellSize: number;\n\n  thumbSize() {\n    return { width: `${this._thumbSize}px`, height: `${this._thumbSize}px` };\n  }\n\n  private _thumbSize: number;\n\n  gridStyle() {\n    return {\n      gridTemplateColumns: `repeat(${this.columns}, auto)`,\n      gridGap: `${0.25 * this._cellSize}px`,\n      padding: `${(this._cellSize * 0.25) / 2}px 0px`,\n    };\n  }\n\n  constructor(\n    private colorAdapter: ColorAdapter,\n    private _elementRef: ElementRef<HTMLElement>,\n    private _changeDetectorRef: ChangeDetectorRef\n  ) {}\n\n  ngAfterViewInit() {\n    this._calculateCellSize();\n    this._changeDetectorRef.markForCheck();\n  }\n\n  _buildPalette() {\n    if (this.paletteGeneratorFn && this.color) {\n      this.grid = this.paletteGeneratorFn(this.color);\n      this._selectedIndex = this.grid.findIndex((cell) => cell.active);\n\n      this._calculateCellSize();\n\n      this._changeDetectorRef.markForCheck();\n    }\n  }\n\n  _calculateCellSize() {\n    if (this._elementRef) {\n      const { width } = this._elementRef.nativeElement.getBoundingClientRect();\n      const cells = this.columns + this.columns * 0.25 + 1; // Columns per row + (Columns-1/2) spaces in each size of each Column\n      const cellSize = Math.trunc(width / cells);\n      this._cellSize = cellSize % 2 === 0 ? cellSize : cellSize - 1;\n\n      const thumbSize = Math.trunc(this._cellSize * 0.67);\n      this._thumbSize = thumbSize % 2 === 0 ? thumbSize : thumbSize - 1;\n    }\n  }\n\n  selectColor(shade: PaletteColor) {\n    const { color } = shade;\n    this.colorSelected.emit(color);\n  }\n\n  _handleKeydownEvent(event: KeyboardEvent) {\n    const grid = this.grid;\n    const oldActiveIndex = this._selectedIndex;\n    let activeIndex = oldActiveIndex;\n\n    switch (event.keyCode) {\n      case LEFT_ARROW:\n        activeIndex--;\n        break;\n      case RIGHT_ARROW:\n        activeIndex++;\n        break;\n      case UP_ARROW:\n        activeIndex -= this.columns;\n        break;\n      case DOWN_ARROW:\n        activeIndex += this.columns;\n        break;\n      case PAGE_UP:\n      case HOME:\n        activeIndex = 0;\n        break;\n      case PAGE_DOWN:\n      case END:\n        activeIndex = grid.length - 1;\n        break;\n      case SPACE:\n        event.preventDefault();\n        this.selectColor(grid[activeIndex]);\n        return;\n      default:\n        return;\n    }\n\n    activeIndex = clamp(0, grid.length - 1, activeIndex);\n    const cells: HTMLElement[] = Array.from(\n      this._elementRef.nativeElement.querySelectorAll('.mnj-grid-selector__row--cell')\n    );\n    if (activeIndex !== this._selectedIndex) {\n      cells[activeIndex].focus();\n      this._selectedIndex = activeIndex;\n    }\n  }\n}\n","import { ChangeDetectionStrategy, Component, ViewEncapsulation } from '@angular/core';\r\nimport {\r\n  analogous,\r\n  calculateShades,\r\n  Color,\r\n  complementary,\r\n  PaletteColor,\r\n  splitComplementary,\r\n  tetradic,\r\n  triadic,\r\n} from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseColorpickerView, ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-armonies-picker-view',\r\n  exportAs: 'mnjArmoniesPickerView',\r\n  templateUrl: 'armonies-view.html',\r\n  styleUrls: ['armonies-view.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjArmoniesPickerView }],\r\n  host: {\r\n    class: 'mnj-armonies-picker-view',\r\n  },\r\n})\r\nexport class MnjArmoniesPickerView extends BaseColorpickerView {\r\n  constructor(protected _colorAdapter: ColorAdapter) {\r\n    super(_colorAdapter);\r\n  }\r\n\r\n  complementaryPaletteFn = (color: Color): PaletteColor[] => {\r\n    const complementaryColor = complementary(color);\r\n    return calculateShades(complementaryColor);\r\n  };\r\n\r\n  splitComplementaryPaletteFn = (color: Color): PaletteColor[] => {\r\n    const splitComplementaryColor = splitComplementary(color)[0];\r\n    return calculateShades(splitComplementaryColor);\r\n  };\r\n  splitComplementaryPaletteFn1 = (color: Color): PaletteColor[] => {\r\n    const splitComplementaryColor = splitComplementary(color)[1];\r\n    return calculateShades(splitComplementaryColor);\r\n  };\r\n\r\n  analogous1PaletteFn = (color: Color): PaletteColor[] => {\r\n    const analogousColor = analogous(color)[0];\r\n    return calculateShades(analogousColor);\r\n  };\r\n  analogous2PaletteFn = (color: Color): PaletteColor[] => {\r\n    const analogousColor = analogous(color)[1];\r\n    return calculateShades(analogousColor);\r\n  };\r\n\r\n  triadic1PaletteFn = (color: Color): PaletteColor[] => {\r\n    const triadicColor = triadic(color)[0];\r\n    return calculateShades(triadicColor);\r\n  };\r\n  triadic2PaletteFn = (color: Color): PaletteColor[] => {\r\n    const triadicColor = triadic(color)[1];\r\n    return calculateShades(triadicColor);\r\n  };\r\n  tetradic1PaletteFn = (color: Color): PaletteColor[] => {\r\n    const tetradicColor = tetradic(color)[0];\r\n    return calculateShades(tetradicColor);\r\n  };\r\n  tetradic2PaletteFn = (color: Color): PaletteColor[] => {\r\n    const tetradicColor = tetradic(color)[1];\r\n    return calculateShades(tetradicColor);\r\n  };\r\n  tetradic3PaletteFn = (color: Color): PaletteColor[] => {\r\n    const tetradicColor = tetradic(color)[2];\r\n    return calculateShades(tetradicColor);\r\n  };\r\n}\r\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { coerceElement } from '@angular/cdk/coercion';\r\nimport { normalizePassiveListenerOptions } from '@angular/cdk/platform';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { AfterViewInit, Directive, ElementRef, Inject, Input, NgZone, OnDestroy } from '@angular/core';\r\nimport { clamp, Color } from '../color/color';\r\nimport { ColorAdapter } from '../color/color-adapter';\r\n\r\nexport interface Point {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface Container {\r\n  top: number;\r\n  left: number;\r\n  right: number;\r\n  bottom: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\n// UTILS\r\nexport function getPointerPositionFromEvent(event: MouseEvent | TouchEvent): Point {\r\n  const { clientX: x, clientY: y } = event instanceof MouseEvent ? <MouseEvent>event : (<TouchEvent>event).touches[0];\r\n  return { x, y };\r\n}\r\n\r\nexport function isSamePosition(point1: Point, point2: Point) {\r\n  if (!point1 || !point2) {\r\n    return false;\r\n  }\r\n  return point1.x === point2.x && point1.y === point2.y;\r\n}\r\n\r\nexport function getContainerSize(container: ElementRef | HTMLElement): Container {\r\n  const { top, left, right, bottom, width, height } = coerceElement(container).getBoundingClientRect();\r\n  return { top, left, right, bottom, width, height };\r\n}\r\n\r\nexport function getPointerPositionInContainer(pointer: Point, container: Container): Point {\r\n  const pointerXToContainerX = (pointer.x - container.left) / container.width;\r\n  const pointerYToContainerY = (pointer.y - container.top) / container.height;\r\n  return { x: clamp(0, 1, pointerXToContainerX), y: clamp(0, 1, pointerYToContainerY) };\r\n}\r\n\r\n/** Options that can be used to bind a passive event listener. */\r\nexport const passiveEventListenerOptions = normalizePassiveListenerOptions({ passive: true });\r\n\r\n/** Options that can be used to bind an active event listener. */\r\nexport const activeEventListenerOptions = normalizePassiveListenerOptions({ passive: false });\r\n\r\n/** Event options that can be used to bind an active, capturing event. */\r\nexport const activeCapturingEventOptions = normalizePassiveListenerOptions({\r\n  passive: false,\r\n  capture: true,\r\n});\r\n\r\n@Directive()\r\nexport abstract class BaseSelector implements AfterViewInit, OnDestroy {\r\n  @Input()\r\n  get color(): Color {\r\n    return this._color;\r\n  }\r\n  set color(value: Color) {\r\n    if (this.colorAdapter.sameColor(this._color, value)) {\r\n      return;\r\n    }\r\n    this._color = value;\r\n    this._setColor(value);\r\n  }\r\n  public _color: Color;\r\n\r\n  cachedPointerPos: Point;\r\n  cachedContainerSize: Container;\r\n  thumbPosition: Point = { x: 0, y: 0 };\r\n\r\n  /** Keeps track of the event listeners that we've bound to the `document`. */\r\n  private _globalListeners = new Map<\r\n    string,\r\n    {\r\n      handler: (event: Event) => void;\r\n      options?: AddEventListenerOptions | boolean;\r\n    }\r\n  >();\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    protected _dir?: Directionality\r\n  ) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.attachListeners();\r\n    this.cachedContainerSize = getContainerSize(this._elementRef);\r\n    // Force setter after view is initialized\r\n    this._setColor(this.color);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._clearGlobalListeners();\r\n  }\r\n\r\n  // LISTENERS\r\n  attachListeners() {\r\n    const sliderElement = coerceElement(this._elementRef);\r\n    this._ngZone.runOutsideAngular(() => {\r\n      sliderElement.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n      sliderElement.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n    });\r\n  }\r\n\r\n  private addGlobalListeners() {\r\n    this._ngZone.runOutsideAngular(() => {\r\n      this._globalListeners.forEach((config, name) => {\r\n        this._document.addEventListener(name, config.handler, config.options);\r\n      });\r\n    });\r\n  }\r\n\r\n  /** Clears out the global event listeners from the `document`. */\r\n  private _clearGlobalListeners = () => {\r\n    this._globalListeners.forEach((config, name) => {\r\n      this._document.removeEventListener(name, config.handler, config.options);\r\n    });\r\n\r\n    this._globalListeners.clear();\r\n  };\r\n\r\n  /** Handler for the `mousedown`/`touchstart` events. */\r\n  private _pointerDown = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.cachedContainerSize = getContainerSize(this._elementRef);\r\n    this.cachedPointerPos = pointer;\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n    const isTouchEvent = event.type.startsWith('touch');\r\n    const moveEvent = isTouchEvent ? 'touchmove' : 'mousemove';\r\n    const upEvent = isTouchEvent ? 'touchend' : 'mouseup';\r\n    this._clearGlobalListeners();\r\n    this._globalListeners\r\n      .set(moveEvent, {\r\n        handler: this.pointerMove,\r\n        options: activeCapturingEventOptions,\r\n      })\r\n      .set(upEvent, {\r\n        handler: this._clearGlobalListeners,\r\n        options: true,\r\n      });\r\n    this.addGlobalListeners();\r\n  };\r\n\r\n  private pointerMove = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.cachedPointerPos = pointer;\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n  };\r\n\r\n  _isRtl() {\r\n    return this._dir && this._dir.value === 'rtl';\r\n  }\r\n\r\n  abstract calculateColorFromPosition(container: Container, pointerPos: Point);\r\n\r\n  abstract _setColor(color: Color);\r\n}\r\n","<label>Complementary:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"complementaryPaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Split Complementary:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"splitComplementaryPaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"splitComplementaryPaletteFn1\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Analogous:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"analogous1PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"analogous2PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Triadic:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"triadic1PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"triadic2PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n\n<label>Tetradic:</label>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"tetradic1PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"tetradic2PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-grid-selector\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"tetradic3PaletteFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { DOWN_ARROW, END, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  NgZone,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { clamp, Color, fromHsl, fromHsv } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { hslToHsv } from '../../color/color-conversions';\r\nimport { BaseSelector, Container, getPointerPositionInContainer, Point } from '../base-selector';\r\n\r\n@Component({\r\n  selector: 'mnj-saturation-selector',\r\n  templateUrl: 'sat-selector.html',\r\n  styleUrls: ['sat-selector.scss', '../base-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjSaturationSelector }],\r\n  host: {\r\n    class: 'mnj-colorpicker-selector mnj-saturation-selector',\r\n    '[class.mnj-saturation-selector--rtl]': '_isRtl()',\r\n    '[attr.tabindex]': '0',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjSaturationSelector extends BaseSelector {\r\n  @Output()\r\n  public satChange = new EventEmitter<Color>();\r\n\r\n  get satThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: `${this.thumbPosition.y}%` };\r\n  }\r\n\r\n  get satBackgroundColor() {\r\n    return { 'background-color': `hsl(${this.color.hue}, 100%, 50%)` };\r\n  }\r\n\r\n  get satThumbBackgroundColor() {\r\n    return { 'background-color': this.colorAdapter.format(this.color, 'RGB') };\r\n  }\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    protected _dir: Directionality\r\n  ) {\r\n    super(colorAdapter, _document, _ngZone, _elementRef, _dir);\r\n  }\r\n\r\n  _setColor(color: Color) {\r\n    if (this._elementRef) {\r\n      const { saturation, value } = hslToHsv(color);\r\n\r\n      let xPosition = clamp(0, 100, saturation);\r\n      const yPosition = clamp(0, 100, 100 - value);\r\n\r\n      if (this._isRtl()) {\r\n        xPosition = 100 - xPosition;\r\n      }\r\n\r\n      this.thumbPosition = { x: xPosition, y: yPosition };\r\n    }\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x, y } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      let pointerX = x * 100;\r\n      const pointerY = y * 100;\r\n\r\n      if (this._isRtl()) {\r\n        pointerX = 100 - pointerX;\r\n      }\r\n\r\n      this.thumbPosition = { x: pointerX, y: pointerY };\r\n\r\n      let saturation = Math.round(pointerX) || 0;\r\n      let value = Math.round(100 - pointerY) || 0;\r\n      saturation = clamp(0, 100, saturation);\r\n      value = clamp(0, 100, value);\r\n\r\n      const { hue } = this.color;\r\n      const color = fromHsv({ hue, saturation, value });\r\n\r\n      this.satChange.emit(color);\r\n    });\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    const { hue, saturation, lightness } = this.color;\r\n    const isRtl = this._isRtl();\r\n\r\n    let newSaturation = saturation;\r\n    let newLightness = lightness;\r\n\r\n    switch (event.keyCode) {\r\n      case UP_ARROW:\r\n        newLightness++;\r\n        break;\r\n      case LEFT_ARROW:\r\n        newSaturation += isRtl ? 1 : -1;\r\n        break;\r\n      case DOWN_ARROW:\r\n        newLightness--;\r\n        break;\r\n      case RIGHT_ARROW:\r\n        newSaturation += isRtl ? -1 : +1;\r\n        break;\r\n      case PAGE_UP:\r\n        newLightness = newLightness - 10;\r\n        break;\r\n      case PAGE_DOWN:\r\n        newLightness = newLightness + 10;\r\n        break;\r\n      case HOME:\r\n        newSaturation = 0;\r\n        newLightness = 0;\r\n        break;\r\n      case END:\r\n        newSaturation = 100;\r\n        newLightness = 50;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    newSaturation = clamp(0, 100, newSaturation);\r\n    newLightness = clamp(0, 100, newLightness);\r\n    const color = fromHsl({ hue, saturation: newSaturation, lightness: newLightness });\r\n    this.satChange.emit(color);\r\n  }\r\n}\r\n","<div class=\"mnj-saturation-selector__mask\">\n  <div class=\"mnj-saturation-selector__mask--fill\" [ngStyle]=\"satBackgroundColor\"></div>\n  <div class=\"mnj-saturation-selector__mask--saturation\"></div>\n  <div class=\"mnj-saturation-selector__mask--value\"></div>\n</div>\n\n<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"satThumbPos\">\n  <div class=\"mnj-colorpicker-selector__thumb__inner\" [ngStyle]=\"satThumbBackgroundColor\"></div>\n</div>\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { DOWN_ARROW, END, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  NgZone,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { clamp, Color, fromHsl } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseSelector, Container, getPointerPositionInContainer, Point } from '../base-selector';\r\n\r\n@Component({\r\n  selector: 'mnj-hue-selector',\r\n  templateUrl: 'hue-selector.html',\r\n  styleUrls: ['hue-selector.scss', '../base-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjHueSelector }],\r\n  host: {\r\n    class: 'mnj-colorpicker-selector mnj-hue-selector',\r\n    '[attr.tabindex]': '0',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjHueSelector extends BaseSelector {\r\n  @Output()\r\n  public hueChange = new EventEmitter<Color>();\r\n\r\n  get hueThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: '50%' };\r\n  }\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    protected _dir: Directionality\r\n  ) {\r\n    super(colorAdapter, _document, _ngZone, _elementRef, _dir);\r\n  }\r\n\r\n  _setColor(color: Color) {\r\n    if (this._elementRef) {\r\n      const hue = color.hue || 0;\r\n\r\n      let xPosition = clamp(0, 100, (hue / 360) * 100);\r\n\r\n      if (this._isRtl()) {\r\n        xPosition = 100 - xPosition;\r\n      }\r\n\r\n      this.thumbPosition = { x: xPosition, y: 50 };\r\n    }\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x: pointerToContainerX } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      let pointerX = Math.round(pointerToContainerX * 100);\r\n\r\n      if (this._isRtl()) {\r\n        pointerX = 100 - pointerX;\r\n      }\r\n\r\n      this.thumbPosition = { x: pointerX, y: 50 };\r\n\r\n      let hue = Math.round(pointerToContainerX * 360);\r\n      hue = clamp(0, 359, hue);\r\n\r\n      const { saturation, lightness } = this.color;\r\n\r\n      const color = fromHsl({ hue, saturation, lightness });\r\n\r\n      this.hueChange.emit(color);\r\n    });\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    const { hue: oldHue, saturation, lightness, alpha } = this.color;\r\n    const isRtl = this._isRtl();\r\n\r\n    let newHue = oldHue;\r\n\r\n    switch (event.keyCode) {\r\n      case UP_ARROW:\r\n      case LEFT_ARROW:\r\n        newHue = newHue + (isRtl ? 1 : -1);\r\n        break;\r\n      case DOWN_ARROW:\r\n      case RIGHT_ARROW:\r\n        newHue = newHue + (isRtl ? -1 : +1);\r\n        break;\r\n      case HOME:\r\n        newHue = 0;\r\n        break;\r\n      case END:\r\n        newHue = 359;\r\n        break;\r\n      case PAGE_UP:\r\n        newHue = newHue + (isRtl ? 60 : -60);\r\n        break;\r\n      case PAGE_DOWN:\r\n        newHue = newHue + (isRtl ? -60 : +60);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    newHue = (newHue + 360) % 360;\r\n    const color = fromHsl({ hue: newHue, saturation, lightness }, alpha);\r\n    this.hueChange.emit(color);\r\n  }\r\n}\r\n","<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"hueThumbPos\">\n  <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\n</div>\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\nimport { Color } from '../../color/color';\nimport { ColorAdapter } from '../../color/color-adapter';\n\n@Component({\n  selector: 'mnj-preview-swatch',\n  templateUrl: 'preview-swatch.html',\n  styleUrls: ['preview-swatch.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'mnj-preview-swatch',\n  },\n})\nexport class MnjPreviewSwatch {\n  @Input()\n  get color() {\n    return this._color;\n  }\n  set color(value: Color) {\n    if (this.colorAdapter.sameColor(this.color, value)) {\n      return;\n    }\n    this._color = value;\n  }\n  private _color: Color;\n\n  get cssBackground() {\n    return this.colorAdapter.toRgbString(this.color, true);\n  }\n\n  constructor(private colorAdapter: ColorAdapter) {}\n}\n","<div class=\"swatch__container\">\n  <div class=\"swatch__container--alpha-layer\"></div>\n  <div class=\"swatch__container--color-layer\" [style.background]=\"cssBackground\"></div>\n</div>\n","import { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { Color } from '../../color/color';\nimport { ColorAdapter } from '../../color/color-adapter';\nimport { ColorFormat } from '../../color/color-spaces';\n\n@Component({\n  selector: 'mnj-input-selector',\n  templateUrl: 'input-selector.html',\n  styleUrls: ['input-selector.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    class: 'mnj-input-selector',\n    '(keydown)': '_handleKeydownEvent($event)',\n  },\n})\nexport class MnjInputSelector {\n  @Input()\n  get color(): Color {\n    return this._color;\n  }\n  set color(value: Color) {\n    if (this.colorAdapter.sameColor(this.color, value)) {\n      return;\n    }\n    this._color = value;\n  }\n\n  private _color: Color;\n\n  @Input()\n  set colorFormat(value: ColorFormat) {\n    if (value !== this._colorFormat) {\n      this._colorFormat = value;\n      this._selectedIndex = this._formats.indexOf(value);\n    }\n  }\n\n  private _colorFormat: ColorFormat = 'HEX';\n\n  @Output() inputChange = new EventEmitter<Color>();\n\n  @ViewChild('colorInput') colorInput: ElementRef<HTMLInputElement>;\n\n  get colorString() {\n    return this.colorAdapter.format(this.color, this._colorFormat, this.color.alpha !== 1);\n  }\n\n  private _formats: ColorFormat[] = ['HEX', 'RGB', 'HSL', 'HWB', 'CMYK'];\n  private _selectedIndex = 0;\n\n  constructor(public colorAdapter: ColorAdapter) {}\n\n  changeColor(event: Event) {\n    const colorString = (<HTMLInputElement>event.target).value;\n    const color = this.colorAdapter.parse(colorString);\n    if (this.colorAdapter.isValid(color)) {\n      this.inputChange.emit(color);\n    }\n  }\n\n  nextFormat() {\n    this._selectedIndex = (this._selectedIndex + this._formats.length + 1) % this._formats.length;\n    this.colorFormat = this._formats[this._selectedIndex];\n  }\n\n  previousFormat() {\n    this._selectedIndex = (this._selectedIndex + this._formats.length - 1) % this._formats.length;\n    this.colorFormat = this._formats[this._selectedIndex];\n  }\n\n  _handleKeydownEvent(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case UP_ARROW:\n      case LEFT_ARROW:\n        this.previousFormat();\n        break;\n      case DOWN_ARROW:\n      case RIGHT_ARROW:\n        this.nextFormat();\n        break;\n      default:\n        return;\n    }\n  }\n}\n","<div class=\"mnj-input-selector__container\">\n  <input\n    #colorInput\n    class=\"color-input\"\n    type=\"text\"\n    autocorrect=\"off\"\n    autocomplete=\"off\"\n    spellcheck=\"false\"\n    aria-label=\"Color code\"\n    [value]=\"colorString\"\n    (change)=\"changeColor($event)\"\n  />\n  <div class=\"mnj-input-selector__container__switch-buttons\">\n    <span class=\"switch-buttons--prev\" (click)=\"previousFormat()\">\n      <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" viewBox=\"0 0 24 24\">\n        <path d=\"M23.25 20L12 5.63.78 20 0 19.38 12 4l12 15.4-.76.6z\" />\n      </svg> -->\n    </span>\n    <span class=\"switch-buttons--next\" (click)=\"nextFormat()\">\n      <!-- <svg xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" viewBox=\"0 0 24 24\">\n        <path d=\"M23.25 4L12 18.37.78 4 0 4.62 12 20 24 4.6l-.76-.6z\" />\n      </svg> -->\n    </span>\n  </div>\n</div>\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { DOWN_ARROW, END, HOME, LEFT_ARROW, PAGE_DOWN, PAGE_UP, RIGHT_ARROW, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  NgZone,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { clamp, Color } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseSelector, Container, getPointerPositionInContainer, Point } from '../base-selector';\r\n\r\n@Component({\r\n  selector: 'mnj-alpha-selector',\r\n  templateUrl: 'alpha-selector.html',\r\n  styleUrls: ['alpha-selector.scss', '../base-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjAlphaSelector }],\r\n  host: {\r\n    class: 'mnj-colorpicker-selector mnj-alpha-selector',\r\n    '[attr.tabindex]': '0',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjAlphaSelector extends BaseSelector {\r\n  @Output()\r\n  public alphaChange = new EventEmitter<Color>();\r\n\r\n  get alphaThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: '50%' };\r\n  }\r\n\r\n  public get gradient() {\r\n    const { red, green, blue } = this.color;\r\n    const direction = this._isRtl() ? 'to left' : 'to right';\r\n    return {\r\n      backgroundImage: `linear-gradient(${direction}, rgba(${red}, ${green}, ${blue}, 0) 0%, rgb(${red}, ${green}, ${blue}) 100%)`,\r\n    };\r\n  }\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef,\r\n    protected _dir: Directionality\r\n  ) {\r\n    super(colorAdapter, _document, _ngZone, _elementRef, _dir);\r\n  }\r\n\r\n  _setColor(color: Color) {\r\n    if (this._elementRef) {\r\n      const alpha = color.alpha * 100;\r\n\r\n      let xPosition = clamp(0, 100, alpha);\r\n\r\n      if (this._isRtl()) {\r\n        xPosition = 100 - xPosition;\r\n      }\r\n\r\n      this.thumbPosition = { x: xPosition, y: 50 };\r\n    }\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x: pointerToContainerX } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      let pointerX = Math.round(pointerToContainerX * 100);\r\n\r\n      if (this._isRtl()) {\r\n        pointerX = 100 - pointerX;\r\n      }\r\n\r\n      this.thumbPosition = { x: pointerX, y: 50 };\r\n\r\n      const alpha = Math.round(pointerX) / 100;\r\n\r\n      const color = { ...this.color };\r\n      color.alpha = alpha;\r\n\r\n      this.alphaChange.emit(color);\r\n    });\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    const { alpha: oldAlpha } = this.color;\r\n    const isRtl = this._isRtl();\r\n\r\n    let newAlpha = oldAlpha;\r\n\r\n    switch (event.keyCode) {\r\n      case UP_ARROW:\r\n      case LEFT_ARROW:\r\n        newAlpha = newAlpha + (isRtl ? 0.01 : -0.01);\r\n        break;\r\n      case DOWN_ARROW:\r\n      case RIGHT_ARROW:\r\n        newAlpha = newAlpha + (isRtl ? -0.01 : 0.01);\r\n        break;\r\n      case HOME:\r\n        newAlpha = 0;\r\n        break;\r\n      case END:\r\n        newAlpha = 1;\r\n        break;\r\n      case PAGE_UP:\r\n        newAlpha = newAlpha + (isRtl ? 0.1 : -0.1);\r\n        break;\r\n      case PAGE_DOWN:\r\n        newAlpha = newAlpha + (isRtl ? -0.1 : 0.1);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    newAlpha = clamp(0, 1, newAlpha);\r\n    const color = { ...this.color, ...{ alpha: newAlpha } };\r\n    this.alphaChange.emit(color);\r\n  }\r\n}\r\n","<mnj-grid-selector\n  cdkFocusInitial\n  [color]=\"activeColor\"\n  [paletteGeneratorFn]=\"colorShadesFn\"\n  (colorSelected)=\"changeColor($event)\"\n></mnj-grid-selector>\n<mnj-saturation-selector [color]=\"activeColor\" (satChange)=\"changeColor($event)\"></mnj-saturation-selector>\n<mnj-hue-selector [color]=\"activeColor\" (hueChange)=\"changeColor($event)\"></mnj-hue-selector>\n<mnj-alpha-selector *ngIf=\"showAlpha\" [color]=\"activeColor\" (alphaChange)=\"changeColor($event)\"></mnj-alpha-selector>\n<div class=\"controls-container\">\n  <mnj-preview-swatch [color]=\"activeColor\"></mnj-preview-swatch>\n  <mnj-input-selector\n    class=\"controls-container--input\"\n    [color]=\"activeColor\"\n    (inputChange)=\"changeColor($event)\"\n  ></mnj-input-selector>\n</div>\n","<div class=\"mnj-alpha-selector__gradient\" [ngStyle]=\"gradient\"></div>\n\n<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"alphaThumbPos\">\n  <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\n</div>\n","import { ChangeDetectionStrategy, Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { calculateShades, Color } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { BaseColorpickerView, ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-chrome-picker-view',\r\n  exportAs: 'mnjChromePickerView',\r\n  templateUrl: 'chrome-view.html',\r\n  styleUrls: ['chrome-view.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjChromePickerView }],\r\n  host: {\r\n    class: 'mnj-chrome-picker-view',\r\n  },\r\n})\r\nexport class MnjChromePickerView extends BaseColorpickerView {\r\n  @Input() showAlpha: boolean;\r\n\r\n  colorShadesFn = (color: Color) => {\r\n    return calculateShades(color);\r\n  };\r\n\r\n  constructor(protected _colorAdapter: ColorAdapter) {\r\n    super(_colorAdapter);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';\r\nimport { Color, PaletteColor } from '../../color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-palette-picker-view',\r\n  templateUrl: 'palette-view.html',\r\n  styleUrls: ['palette-view.scss'],\r\n  exportAs: 'mnjPalettePickerView',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjPalettePickerView }],\r\n  host: {\r\n    class: 'mnj-palette-picker-view',\r\n  },\r\n})\r\nexport class MnjPalettePickerView implements ColorPickerView {\r\n  @Input()\r\n  get activeColor(): Color {\r\n    return this._activeColor;\r\n  }\r\n  set activeColor(value: Color) {\r\n    const oldActiveColor = this._activeColor;\r\n    if (this._colorAdapter.isValid(value) && !this._colorAdapter.sameColor(oldActiveColor, value)) {\r\n      this._activeColor = value;\r\n      this._selectColorInPalette();\r\n    }\r\n  }\r\n  private _activeColor: Color;\r\n\r\n  @Input()\r\n  get selected(): Color {\r\n    return this._selected;\r\n  }\r\n\r\n  set selected(value: Color) {\r\n    if (this._colorAdapter.sameColor(this.selected, value)) {\r\n      return;\r\n    }\r\n    this._selected = this._colorAdapter.getValidColorOrNull(value);\r\n    this._selectColorInPalette();\r\n  }\r\n  _selected: Color;\r\n\r\n  @Input()\r\n  get palette(): PaletteColor[] {\r\n    return this._palette;\r\n  }\r\n  set palette(value: PaletteColor[]) {\r\n    this._palette = value;\r\n    this._selectColorInPalette();\r\n  }\r\n  private _palette: PaletteColor[];\r\n\r\n  paletteFn = () => this.palette;\r\n\r\n  // tslint:disable-next-line: member-ordering\r\n  @Output() readonly activeColorChange = new EventEmitter<Color>();\r\n\r\n  constructor(protected _colorAdapter: ColorAdapter) {}\r\n\r\n  changeColor(value: Color) {\r\n    this.activeColor = value;\r\n    this.activeColorChange.emit(this.activeColor);\r\n  }\r\n\r\n  _selectColorInPalette() {\r\n    if (!this.palette || !this.activeColor) {\r\n      return;\r\n    }\r\n    const defaultSelected = this.palette.findIndex((p) => p.active === true);\r\n    if (defaultSelected >= 0) {\r\n      this._palette[defaultSelected].active = false;\r\n    }\r\n    let matchIndex = this.palette.findIndex((p) => this._colorAdapter.sameColor(p.color, this.activeColor));\r\n    // If no match select the first one for keyboard accesibility\r\n    matchIndex = Math.max(0, matchIndex);\r\n    this._palette[matchIndex].active = true;\r\n  }\r\n}\r\n","<mnj-grid-selector\r\n  [color]=\"activeColor\"\r\n  [paletteGeneratorFn]=\"paletteFn\"\r\n  columns=\"6\"\r\n  (colorSelected)=\"changeColor($event)\"\r\n></mnj-grid-selector>\r\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n/** Colorpicker data that requires internationalization. */\n@Injectable({ providedIn: 'root' })\nexport class MnjColorpickerIntl {\n  /**\n   * Stream that emits whenever the labels here are changed. Use this to notify\n   * components if the labels have changed after initialization.\n   */\n  readonly changes: Subject<void> = new Subject<void>();\n\n  /** A label for the Color wheel view (used by screen readers) */\n  pickerView: string = 'Color Picker';\n\n  /** A label for the Color armonies view (used by screen readers) */\n  armoniesView: string = 'Color Armonies';\n\n  /** A label for the Color palette view (used by screen readers) */\n  paletteView: string = 'Color Palette';\n\n  /** A label for the Color palette view (used by screen readers) */\n  scanView: string = 'Color Scan';\n\n  /** A label for the scan picker view */\n  uploadPhotoToScan: string = 'Click or drop a picture to scan';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToPickerView: string = 'Choose color';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToArmoniesView: string = 'Choose armonie';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToPaletteView: string = 'Choose from palette';\n\n  /** A label for the Color wheel view (used by screen readers) */\n  switchToScanView: string = 'Choose from a picture';\n\n  /** A label for the button used to open the color picker popup (used by screen readers). */\n  openColorPickerLabel: string = 'Open Color Picker';\n}\n","<canvas #imageCanvas></canvas>\r\n<div *ngIf=\"showPipetteSwatch\" class=\"mnj-pipette-selector__swatch-container\" [ngStyle]=\"swatchGridPos\">\r\n  <div class=\"mnj-pipette-selector__swatch-container__grid\" [ngStyle]=\"swatchGridStyle\">\r\n    <div\r\n      class=\"mnj-pipette-selector__swatch-container--cell\"\r\n      *ngFor=\"let swatch of pipetteSwatchPalette; let i = index\"\r\n      [style.background]=\"getPixelBackground(swatch)\"\r\n      [class.mnj-pipette-selector__swatch-container--cell--active]=\"i === _swatchMiddle\"\r\n    ></div>\r\n  </div>\r\n</div>\r\n<div class=\"mnj-colorpicker-selector__thumb\" [ngStyle]=\"canvasThumbPos\">\r\n  <div class=\"mnj-colorpicker-selector__thumb__inner\"></div>\r\n</div>\r\n","import { coerceBooleanProperty, coerceElement, coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { take } from 'rxjs/operators';\r\nimport { Color, fromRgb } from '../../color/color';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport {\r\n  activeCapturingEventOptions,\r\n  activeEventListenerOptions,\r\n  BaseSelector,\r\n  Container,\r\n  getContainerSize,\r\n  getPointerPositionFromEvent,\r\n  getPointerPositionInContainer,\r\n  isSamePosition,\r\n  passiveEventListenerOptions,\r\n  Point,\r\n} from '../base-selector';\r\n\r\ntype SelfPosition = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\r\n\r\n@Component({\r\n  selector: 'mnj-pipette-selector',\r\n  templateUrl: 'pipette-selector.html',\r\n  styleUrls: ['pipette-selector.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: BaseSelector, useExisting: MnjPipetteSelector }],\r\n  host: {\r\n    class: 'mnj-pipette-selector',\r\n  },\r\n})\r\nexport class MnjPipetteSelector implements AfterViewInit, OnDestroy {\r\n  @ViewChild('imageCanvas') canvas: ElementRef<HTMLCanvasElement>;\r\n\r\n  @Input()\r\n  get image(): HTMLImageElement {\r\n    return this._image;\r\n  }\r\n\r\n  set image(value: HTMLImageElement) {\r\n    this._image = value;\r\n    this._paintCanvas();\r\n  }\r\n\r\n  private _image: HTMLImageElement;\r\n\r\n  @Input()\r\n  set swatchCells(value: number) {\r\n    value = coerceNumberProperty(value);\r\n    value = value % 2 === 1 ? value : value - 1;\r\n    if (value !== this._swatchCells) {\r\n      this._swatchCells = value;\r\n      this._swatchMiddle = Math.floor(Math.pow(value, 2) / 2);\r\n    }\r\n  }\r\n  private _swatchCells;\r\n  _swatchMiddle;\r\n\r\n  @Output()\r\n  public pipetteColorChange = new EventEmitter<Color>();\r\n\r\n  get canvasThumbPos() {\r\n    return { left: `${this.thumbPosition.x}%`, top: `${this.thumbPosition.y}%` };\r\n  }\r\n\r\n  get swatchGridStyle() {\r\n    return {\r\n      gridTemplateColumns: `repeat(${this._swatchCells}, 10px)`,\r\n      gridTemplateRows: `repeat(${this._swatchCells}, 10px)`,\r\n    };\r\n  }\r\n\r\n  get swatchGridPos() {\r\n    const delta = (this._swatchCells * 4) / 3;\r\n    let translate;\r\n    switch (this.swatchPosition) {\r\n      case 'bottom-right': {\r\n        translate = `${delta}%, ${delta}%`;\r\n        break;\r\n      }\r\n      case 'top-right': {\r\n        translate = `${delta}%, ${-100 - delta}%`;\r\n        break;\r\n      }\r\n      case 'top-left': {\r\n        translate = `${-100 - delta}%, ${-100 - delta}%`;\r\n        break;\r\n      }\r\n      case 'bottom-left': {\r\n        translate = `${-100 - delta}%, ${delta}%`;\r\n        break;\r\n      }\r\n    }\r\n    return {\r\n      left: `${this.thumbPosition.x}%`,\r\n      top: `${this.thumbPosition.y}%`,\r\n      transform: `translate(${translate})`,\r\n      width: `${this._swatchCells * 10 + 1}px`,\r\n    };\r\n  }\r\n\r\n  getPixelBackground(pixel) {\r\n    return `rgba(${pixel.red}, ${pixel.green}, ${pixel.blue}, ${pixel.alpha})`;\r\n  }\r\n\r\n  get showPipetteSwatch() {\r\n    return this._showPipetteSwatch && !!this.image;\r\n  }\r\n\r\n  set showPipetteSwatch(value: boolean) {\r\n    value = coerceBooleanProperty(value);\r\n    if (this._showPipetteSwatch !== value) {\r\n      this._showPipetteSwatch = value;\r\n      this._changeDetectorRef.detectChanges();\r\n    }\r\n  }\r\n\r\n  private _showPipetteSwatch = false;\r\n\r\n  cachedPointerPos: Point;\r\n  cachedContainerSize: Container;\r\n  thumbPosition: Point = { x: 0, y: 0 };\r\n  swatchPosition: SelfPosition = 'bottom-right';\r\n\r\n  /** Keeps track of the event listeners that we've bound to the `document`. */\r\n  private _globalListeners = new Map<\r\n    string,\r\n    {\r\n      handler: (event: Event) => void;\r\n      options?: AddEventListenerOptions | boolean;\r\n    }\r\n  >();\r\n\r\n  pipetteSwatchPalette = [];\r\n\r\n  constructor(\r\n    protected colorAdapter: ColorAdapter,\r\n    @Inject(DOCUMENT) protected _document: Document,\r\n    protected _ngZone: NgZone,\r\n    protected _elementRef: ElementRef<HTMLElement>,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.swatchCells = 9;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.attachListeners();\r\n    if (this._image) {\r\n      // Paint canvas if there was a pending image that could not be rendered until this momment\r\n      this._ngZone.onStable.pipe(take(1)).subscribe(() => this._paintCanvas());\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._clearGlobalListeners();\r\n  }\r\n\r\n  // LISTENERS\r\n  attachListeners() {\r\n    const sliderElement = coerceElement(this._elementRef);\r\n    this._ngZone.runOutsideAngular(() => {\r\n      sliderElement.addEventListener('mousedown', this._pointerDown, activeEventListenerOptions);\r\n      sliderElement.addEventListener('touchstart', this._pointerDown, passiveEventListenerOptions);\r\n    });\r\n  }\r\n\r\n  private addGlobalListeners() {\r\n    this._ngZone.runOutsideAngular(() => {\r\n      this._globalListeners.forEach((config, name) => {\r\n        this._document.addEventListener(name, config.handler, config.options);\r\n      });\r\n    });\r\n  }\r\n\r\n  /** Clears out the global event listeners from the `document`. */\r\n  private _clearGlobalListeners = () => {\r\n    this.showPipetteSwatch = false;\r\n\r\n    this._globalListeners.forEach((config, name) => {\r\n      this._document.removeEventListener(name, config.handler, config.options);\r\n    });\r\n\r\n    this._globalListeners.clear();\r\n  };\r\n\r\n  /** Handler for the `mousedown`/`touchstart` events. */\r\n  private _pointerDown = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.cachedContainerSize = getContainerSize(this._elementRef);\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n    const isTouchEvent = event.type.startsWith('touch');\r\n    const moveEvent = isTouchEvent ? 'touchmove' : 'mousemove';\r\n    const upEvent = isTouchEvent ? 'touchend' : 'mouseup';\r\n    this._clearGlobalListeners();\r\n    this._globalListeners\r\n      .set(moveEvent, {\r\n        handler: this.pointerMove,\r\n        options: activeCapturingEventOptions,\r\n      })\r\n      .set(upEvent, {\r\n        handler: this._clearGlobalListeners,\r\n        options: true,\r\n      });\r\n\r\n    this.showPipetteSwatch = true;\r\n\r\n    this.addGlobalListeners();\r\n  };\r\n\r\n  private pointerMove = (event: MouseEvent | TouchEvent) => {\r\n    const pointer = getPointerPositionFromEvent(event);\r\n\r\n    if (isSamePosition(this.cachedPointerPos, pointer)) {\r\n      return;\r\n    }\r\n\r\n    this.calculateColorFromPosition(this.cachedContainerSize, pointer);\r\n  };\r\n\r\n  _paintCanvas() {\r\n    if (this.image && this.canvas) {\r\n      const canvasElement = coerceElement(this.canvas);\r\n      const { width: imgWidth, height: imgHeight } = this.image;\r\n      const { width: containerWidth, height: containerHeight } = coerceElement(\r\n        this._elementRef\r\n      ).getBoundingClientRect();\r\n\r\n      const ctx = canvasElement.getContext('2d');\r\n      ctx.clearRect(0, 0, canvasElement.height, canvasElement.width);\r\n\r\n      const canvasWidth = Math.floor(containerWidth);\r\n      const canvasHeight = Math.floor(containerHeight);\r\n\r\n      const { offsetX, offsetY, width, height } = this._fitImage(canvasWidth, canvasHeight, imgWidth, imgHeight);\r\n\r\n      canvasElement.width = canvasWidth;\r\n      canvasElement.height = canvasHeight;\r\n\r\n      ctx.drawImage(this.image, offsetX, offsetY, width, height);\r\n\r\n      this._changeDetectorRef.markForCheck();\r\n    }\r\n  }\r\n\r\n  calculateColorFromPosition(container: Container, pointerPos: Point) {\r\n    this._ngZone.run(() => {\r\n      const { x, y } = getPointerPositionInContainer(pointerPos, container);\r\n\r\n      const pointerX = x * 100;\r\n      const pointerY = y * 100;\r\n\r\n      this.thumbPosition = { x: pointerX, y: pointerY };\r\n      this.swatchPosition = this._getSwatchPosition(pointerPos, container);\r\n\r\n      const leftPos = pointerPos.x - container.left;\r\n      const topPos = pointerPos.y - container.top;\r\n\r\n      const ctx = this.canvas.nativeElement.getContext('2d');\r\n      const negativeOffset = this._swatchCells / 2 - 1;\r\n      const pixels = ctx.getImageData(\r\n        leftPos - negativeOffset,\r\n        topPos - negativeOffset,\r\n        this._swatchCells,\r\n        this._swatchCells\r\n      );\r\n\r\n      this.pipetteSwatchPalette = [];\r\n      for (let i = 0; i < pixels.data.length; i += 4) {\r\n        this.pipetteSwatchPalette.push({\r\n          red: pixels.data[i],\r\n          green: pixels.data[i + 1],\r\n          blue: pixels.data[i + 2],\r\n          alpha: pixels.data[i + 3] / 255,\r\n        });\r\n      }\r\n\r\n      const { red, green, blue, alpha } = this.pipetteSwatchPalette[this._swatchMiddle];\r\n      const color = fromRgb({ red, green, blue }, alpha);\r\n      this.pipetteColorChange.emit(color);\r\n\r\n      this._changeDetectorRef.markForCheck();\r\n    });\r\n  }\r\n\r\n  /** Centers and resize given children container into the parent container */\r\n  private _fitImage(parentWidth, parentHeight, childWidth, childHeight, scale = 1, offsetX = 0.5, offsetY = 0.5) {\r\n    const childRatio = childWidth / childHeight;\r\n    const parentRatio = parentWidth / parentHeight;\r\n    let width = parentWidth * scale;\r\n    let height = parentHeight * scale;\r\n\r\n    if (childRatio > parentRatio) {\r\n      height = width / childRatio;\r\n    } else {\r\n      width = height * childRatio;\r\n    }\r\n\r\n    return {\r\n      width,\r\n      height,\r\n      offsetX: (parentWidth - width) * offsetX,\r\n      offsetY: (parentHeight - height) * offsetY,\r\n    };\r\n  }\r\n\r\n  private _getSwatchPosition(\r\n    pointerPos: Point,\r\n    container: Container\r\n  ): 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right' {\r\n    const { x, y } = pointerPos;\r\n    const { right, bottom } = container;\r\n    const swatchRight = x + 10 * this._swatchCells + 1; // 10 pixels per cell plus 1px border\r\n    const swatchBottom = y + 10 * this._swatchCells + 1; // 10 pixels per cells plus 1px border\r\n\r\n    const topOrBottom = swatchBottom > bottom;\r\n    const leftOrRight = swatchRight > right;\r\n\r\n    if (!topOrBottom && !leftOrRight) return 'bottom-right';\r\n    if (topOrBottom && leftOrRight) return 'top-left';\r\n    if (topOrBottom && !leftOrRight) return 'top-right';\r\n    if (!topOrBottom && leftOrRight) return 'bottom-left';\r\n  }\r\n}\r\n","<div\r\n  *ngIf=\"!_loadedImage\"\r\n  class=\"upload-control\"\r\n  (click)=\"fileInput.click()\"\r\n  (drop)=\"uploadFile($event)\"\r\n  (dragover)=\"_allowDrop($event)\"\r\n>\r\n  <span class=\"mat-body\">{{uploadPhotoToScanLabel}}</span>\r\n</div>\r\n<input class=\"upload-control--fileInput\" #fileInput type=\"file\" accept=\"image/*\" (change)=\"uploadFile($event)\" />\r\n<ng-container *ngIf=\"_loadedImage\">\r\n  <mnj-pipette-selector [image]=\"_loadedImage\" (pipetteColorChange)=\"changeColor($event)\"></mnj-pipette-selector>\r\n  <button mat-mini-fab color=\"primary\" class=\"upload-control--fab\" (click)=\"fileInput.click()\">\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n      <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n      <path\r\n        d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\r\n      />\r\n    </svg>\r\n  </button>\r\n  <div class=\"controls-container\">\r\n    <mnj-preview-swatch [color]=\"activeColor\"></mnj-preview-swatch>\r\n    <mnj-input-selector class=\"controls-container--input\" [color]=\"activeColor\"></mnj-input-selector>\r\n  </div>\r\n</ng-container>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy, ViewEncapsulation } from '@angular/core';\r\nimport { ColorAdapter } from '../../color/color-adapter';\r\nimport { MnjColorpickerIntl } from '../../colorpicker-intl';\r\nimport { BaseColorpickerView, ColorPickerView } from '../colorpicker-view';\r\n\r\n@Component({\r\n  selector: 'mnj-scan-picker-view',\r\n  exportAs: 'mnjScanPickerView',\r\n  templateUrl: 'scan-view.html',\r\n  styleUrls: ['scan-view.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [{ provide: ColorPickerView, useExisting: MnjScanPickerView }],\r\n  host: {\r\n    class: 'mnj-scan-picker-view',\r\n  },\r\n})\r\nexport class MnjScanPickerView extends BaseColorpickerView implements OnDestroy {\r\n  _loadedImage: HTMLImageElement;\r\n\r\n  get uploadPhotoToScanLabel() {\r\n    return this._intl.uploadPhotoToScan;\r\n  }\r\n\r\n  constructor(\r\n    protected _colorAdapter: ColorAdapter,\r\n    private _intl: MnjColorpickerIntl,\r\n    private changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    super(_colorAdapter);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._loadedImage) {\r\n      URL.revokeObjectURL(this._loadedImage.src);\r\n    }\r\n  }\r\n\r\n  uploadFile(event: DragEvent | Event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const files =\r\n      event.type === 'drop' ? (<DragEvent>event).dataTransfer.files : (<HTMLInputElement>event.target).files;\r\n\r\n    if (files && files.length) {\r\n      const file = files[0];\r\n      if (!file.type.match('image.*')) {\r\n        return;\r\n      }\r\n      const image = new Image();\r\n      image.onload = () => {\r\n        this._loadedImage = image;\r\n        this.changeDetectorRef.markForCheck();\r\n      };\r\n      image.src = URL.createObjectURL(file);\r\n    }\r\n  }\r\n\r\n  _allowDrop(event: DragEvent) {\r\n    event.preventDefault();\r\n  }\r\n}\r\n","<mnj-color-panel-header cdkFocusInitial></mnj-color-panel-header>\r\n<div class=\"mnj-color-panel-content\" [ngSwitch]=\"currentView\" cdkMonitorSubtreeFocus tabindex=\"-1\">\r\n  <mnj-chrome-picker-view\r\n    *ngSwitchCase=\"'picker'\"\r\n    [(activeColor)]=\"activeColor\"\r\n    [selected]=\"selected\"\r\n    [showAlpha]=\"showAlpha\"\r\n  >\r\n  </mnj-chrome-picker-view>\r\n  <mnj-armonies-picker-view *ngSwitchCase=\"'armonies'\" [(activeColor)]=\"activeColor\" [selected]=\"selected\">\r\n  </mnj-armonies-picker-view>\r\n  <mnj-palette-picker-view\r\n    *ngSwitchCase=\"'palette'\"\r\n    [(activeColor)]=\"activeColor\"\r\n    [palette]=\"palette\"\r\n    [selected]=\"selected\"\r\n  >\r\n  </mnj-palette-picker-view>\r\n  <mnj-scan-picker-view *ngSwitchCase=\"'scan'\" [(activeColor)]=\"activeColor\" [selected]=\"selected\">\r\n  </mnj-scan-picker-view>\r\n</div>\r\n<div class=\"mnj-color-panel-footer\">\r\n  <button mat-button [color]=\"color\" (click)=\"_selectColor()\">Save</button>\r\n</div>\r\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { ENTER } from '@angular/cdk/keycodes';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ThemePalette } from '@angular/material/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { Color, PaletteColor } from './color/color';\r\nimport { ColorAdapter } from './color/color-adapter';\r\nimport { MnjColorConfig, MNJ_COLOR_CONFIG_PROVIDER } from './color/color-config';\r\nimport { MnjColorpickerIntl } from './colorpicker-intl';\r\nimport { ColorPickerView } from './views';\r\n\r\n/**\r\n * Possible views for the color-panel.\r\n * @docs-private\r\n */\r\nexport type MnjColorPanelView = 'picker' | 'armonies' | 'palette' | 'scan';\r\n\r\n/** Default header for MnjColorPanel */\r\n@Component({\r\n  selector: 'mnj-color-panel-header',\r\n  templateUrl: 'color-panel-header.html',\r\n  exportAs: 'mnjColorPanelHeader',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MnjColorPanelHeader {\r\n  private _views: MnjColorPanelView[] = ['picker', 'armonies', 'palette', 'scan'];\r\n\r\n  constructor(\r\n    private _intl: MnjColorpickerIntl,\r\n    @Inject(forwardRef(() => MnjColorPanel)) public colorPanel: MnjColorPanel,\r\n    changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this.colorPanel.stateChanges.subscribe(() => changeDetectorRef.markForCheck());\r\n  }\r\n\r\n  /** The label for the current color panel view. */\r\n  get pickerButtonText(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.pickerView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.armoniesView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.paletteView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.scanView;\r\n      }\r\n    }\r\n  }\r\n\r\n  get pickerViewButtonLabel(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.switchToArmoniesView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.switchToPaletteView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.switchToScanView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.switchToPickerView;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** The label for the previous button. */\r\n  get prevButtonLabel(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.switchToScanView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.switchToPickerView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.switchToArmoniesView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.switchToPaletteView;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** The label for the next button. */\r\n  get nextButtonLabel(): string {\r\n    switch (this.colorPanel.currentView) {\r\n      case 'picker': {\r\n        return this._intl.switchToArmoniesView;\r\n      }\r\n      case 'armonies': {\r\n        return this._intl.switchToPaletteView;\r\n      }\r\n      case 'palette': {\r\n        return this._intl.switchToScanView;\r\n      }\r\n      case 'scan': {\r\n        return this._intl.switchToPickerView;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Handles user clicks on the previous button. */\r\n  previousClicked(): void {\r\n    let index = this._views.findIndex((v) => v === this.colorPanel.currentView);\r\n    index = (index + 4 - 1) % 4;\r\n    this.colorPanel.currentView = this._views[index];\r\n  }\r\n\r\n  /** Handles user clicks on the next button. */\r\n  nextClicked(): void {\r\n    let index = this._views.findIndex((v) => v === this.colorPanel.currentView);\r\n    index = (index + 4 + 1) % 4;\r\n    this.colorPanel.currentView = this._views[index];\r\n  }\r\n\r\n  /** Whether the previous period button is enabled. */\r\n  previousEnabled(): boolean {\r\n    return this.colorPanel.currentView !== 'picker';\r\n  }\r\n\r\n  /** Whether the next period button is enabled. */\r\n  nextEnabled(): boolean {\r\n    return this.colorPanel.currentView !== 'scan';\r\n  }\r\n}\r\n\r\n/**\r\n * A color panel that is used as part of the colorpicker.\r\n * @docs-private\r\n */\r\n@Component({\r\n  selector: 'mnj-color-panel',\r\n  templateUrl: 'color-panel.html',\r\n  styleUrls: ['color-panel.scss'],\r\n  exportAs: 'mnjColorPanel',\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    class: 'mnj-color-panel',\r\n    '(keydown)': '_handleKeydownEvent($event)',\r\n  },\r\n})\r\nexport class MnjColorPanel implements AfterContentInit, OnDestroy {\r\n  private _intlChanges: Subscription;\r\n\r\n  /** Color palette to use on the color panel. */\r\n  @Input() color: ThemePalette;\r\n\r\n  /** Whether the color panel should be started in month or year view. */\r\n  @Input() startView: MnjColorPanelView;\r\n\r\n  /** The color to start focused on the picker. */\r\n  @Input()\r\n  get startColor(): Color | null {\r\n    return this._startColor;\r\n  }\r\n  set startColor(value: Color | null) {\r\n    this._startColor = this._colorAdapter.getValidColorOrNull(value);\r\n  }\r\n  private _startColor: Color | null;\r\n\r\n  @Input()\r\n  get palette(): PaletteColor[] {\r\n    return this._palette || this._config.defaultPalette;\r\n  }\r\n\r\n  set palette(value: PaletteColor[]) {\r\n    this._palette = value;\r\n  }\r\n\r\n  private _palette: PaletteColor[];\r\n\r\n  @Input()\r\n  get showAlpha(): boolean {\r\n    return this._showAlpha || this._config.showAlpha;\r\n  }\r\n\r\n  set showAlpha(value: boolean) {\r\n    this._showAlpha = coerceBooleanProperty(value);\r\n  }\r\n\r\n  private _showAlpha: boolean;\r\n\r\n  /** The currently selected color. */\r\n  @Input()\r\n  get selected(): Color | null {\r\n    return this._selected;\r\n  }\r\n  set selected(value: Color | null) {\r\n    this._selected = this._colorAdapter.getValidColorOrNull(value);\r\n  }\r\n  private _selected: Color | null;\r\n\r\n  /** Emits when the currently selected color changes. */\r\n  @Output() readonly selectedChange: EventEmitter<Color> = new EventEmitter<Color>();\r\n\r\n  /** Emits when any color is selected. */\r\n  @Output() readonly _userSelection: EventEmitter<Color> = new EventEmitter<Color>();\r\n\r\n  /** Reference to the current style picker component. */\r\n  @ViewChild(ColorPickerView) currentPicker: ColorPickerView;\r\n\r\n  /**\r\n   * The current active color. This determines which time period is shown and which color is\r\n   * highlighted when using keyboard navigation.\r\n   */\r\n  @Input()\r\n  get activeColor(): Color {\r\n    return this._activeColor;\r\n  }\r\n  set activeColor(value: Color) {\r\n    this._activeColor = value;\r\n    this.stateChanges.next();\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n  private _activeColor: Color;\r\n\r\n  /** Whether the color panel is in month view. */\r\n  get currentView(): MnjColorPanelView {\r\n    return this._currentView;\r\n  }\r\n  set currentView(value: MnjColorPanelView) {\r\n    this._currentView = value;\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n  private _currentView: MnjColorPanelView;\r\n\r\n  /**\r\n   * Emits whenever there is a state change that the header may need to respond to.\r\n   */\r\n  stateChanges = new Subject<void>();\r\n\r\n  constructor(\r\n    _intl: MnjColorpickerIntl,\r\n    private _colorAdapter: ColorAdapter,\r\n    @Inject(MNJ_COLOR_CONFIG_PROVIDER) private _config: MnjColorConfig,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    this._intlChanges = _intl.changes.subscribe(() => {\r\n      _changeDetectorRef.markForCheck();\r\n      this.stateChanges.next();\r\n    });\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    // Assign to the private property since we don't want to move focus on init.\r\n    this._currentView = this.startView || 'picker';\r\n\r\n    this.activeColor = this.selected || this.startColor || this._config.defaultColor;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._intlChanges.unsubscribe();\r\n    this.stateChanges.complete();\r\n  }\r\n\r\n  /** Makes the active view color the selected one. */\r\n  _selectColor() {\r\n    const color = this._getCurrentViewComponent().activeColor;\r\n    if (!this._colorAdapter.sameColor(color, this.selected)) {\r\n      this.selectedChange.emit(color);\r\n    }\r\n    this._userSelection.emit(color);\r\n  }\r\n\r\n  _handleKeydownEvent(event: KeyboardEvent) {\r\n    switch (event.keyCode) {\r\n      case ENTER:\r\n        this._selectColor();\r\n        return;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n\r\n  /** Returns the component instance that corresponds to the current color panel view. */\r\n  private _getCurrentViewComponent() {\r\n    return this.currentPicker;\r\n  }\r\n}\r\n","<div class=\"mnj-color-panel-header\">\n  <div class=\"mnj-color-panel-controls\">\n    <button\n      mat-button\n      type=\"button\"\n      class=\"mnj-color-panel-picker-button\"\n      (click)=\"nextClicked()\"\n      [attr.aria-label]=\"pickerViewButtonLabel\"\n      cdkAriaLive=\"polite\"\n    >\n      {{pickerButtonText}}\n      <div class=\"mnj-color-panel-arrow\" [class.mnj-color-panel-invert]=\"colorPanel.currentView === 'scan'\"></div>\n    </button>\n\n    <div class=\"mnj-color-panel-spacer\"></div>\n\n    <button\n      mat-icon-button\n      type=\"button\"\n      class=\"mnj-color-panel-previous-button\"\n      [disabled]=\"!previousEnabled()\"\n      (click)=\"previousClicked()\"\n      [attr.aria-label]=\"prevButtonLabel\"\n    ></button>\n\n    <button\n      mat-icon-button\n      type=\"button\"\n      class=\"mnj-color-panel-next-button\"\n      [disabled]=\"!nextEnabled()\"\n      (click)=\"nextClicked()\"\n      [attr.aria-label]=\"nextButtonLabel\"\n    ></button>\n  </div>\n</div>\n","import { animate, AnimationTriggerMetadata, state, style, transition, trigger } from '@angular/animations';\n\n/**\n * Animations used by the colorpicker.\n * @docs-private\n */\nexport const mnjColorpickerAnimations: {\n  readonly transformPanel: AnimationTriggerMetadata;\n  readonly fadeInColorPanel: AnimationTriggerMetadata;\n} = {\n  /** Transforms the height of the colorpicker's panel. */\n  transformPanel: trigger('transformPanel', [\n    state(\n      'void',\n      style({\n        opacity: 0,\n        transform: 'scale(1, 0.8)',\n      })\n    ),\n    transition(\n      'void => enter',\n      animate(\n        '120ms cubic-bezier(0, 0, 0.2, 1)',\n        style({\n          opacity: 1,\n          transform: 'scale(1, 1)',\n        })\n      )\n    ),\n    transition('* => void', animate('100ms linear', style({ opacity: 0 }))),\n  ]),\n\n  /** Fades in the content of the panel. */\n  fadeInColorPanel: trigger('fadeInColorPanel', [\n    state('void', style({ opacity: 0 })),\n    state('enter', style({ opacity: 1 })),\n\n    // TODO(crisbeto): this animation should be removed since it isn't quite on spec, but we\n    // need to keep it until #12440 gets in, otherwise the exit animation will look glitchy.\n    transition('void => *', animate('120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)')),\n  ]),\n};\n","import { Directionality } from '@angular/cdk/bidi';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { ESCAPE, UP_ARROW } from '@angular/cdk/keycodes';\r\nimport {\r\n  FlexibleConnectedPositionStrategy,\r\n  Overlay,\r\n  OverlayConfig,\r\n  OverlayRef,\r\n  ScrollStrategy,\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ComponentRef,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  InjectionToken,\r\n  Input,\r\n  NgZone,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n  ViewContainerRef,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport {\r\n  CanColor,\r\n  CanColorCtor,\r\n  mixinColor,\r\n  ThemePalette,\r\n} from '@angular/material/core';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { merge, Subject, Subscription } from 'rxjs';\r\nimport { filter, take } from 'rxjs/operators';\r\nimport { MnjColorPanelView } from './color-panel';\r\nimport { Color, PaletteColor } from './color/color';\r\nimport { ColorAdapter } from './color/color-adapter';\r\nimport { ColorFormat } from './color/color-spaces';\r\nimport { mnjColorpickerAnimations } from './colorpicker-animations';\r\nimport { MnjColorpickerInput } from './colorpicker-input';\r\n\r\n/** Used to generate a unique ID for each colorpicker instance. */\r\nlet colorpickerUid = 0;\r\n\r\n/** Injection token that determines the scroll handling while the color panel is open. */\r\nexport const MNJ_COLORPICKER_SCROLL_STRATEGY = new InjectionToken<\r\n  () => ScrollStrategy\r\n>('mnj-colorpicker-scroll-strategy');\r\n\r\n/** @docs-private */\r\nexport function MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY(\r\n  overlay: Overlay\r\n): () => ScrollStrategy {\r\n  return () => overlay.scrollStrategies.reposition();\r\n}\r\n\r\n/** Possible positions for the colorpicker dropdown along the X axis. */\r\nexport type ColorpickerDropdownPositionX = 'start' | 'end';\r\n\r\n/** Possible positions for the colorpicker dropdown along the Y axis. */\r\nexport type ColorpickerDropdownPositionY = 'above' | 'below';\r\n\r\n/** @docs-private */\r\nexport const MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER = {\r\n  provide: MNJ_COLORPICKER_SCROLL_STRATEGY,\r\n  deps: [Overlay],\r\n  useFactory: MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY,\r\n};\r\n\r\n// Boilerplate for applying mixins to MnjColorpickerContent.\r\n/** @docs-private */\r\nclass MnjColorpickerContentBase {\r\n  constructor(public _elementRef: ElementRef) {}\r\n}\r\nconst _MnjColorpickerContentMixinBase: CanColorCtor &\r\n  typeof MnjColorpickerContentBase = mixinColor(MnjColorpickerContentBase);\r\n\r\n/**\r\n * Component used as the content for the colorpicker dialog and popup. We use this instead of using\r\n * MatCalendar directly as the content so we can control the initial focus. This also gives us a\r\n * place to put additional features of the popup that are not part of the color panel itself in the\r\n * future. (e.g. confirmation buttons).\r\n * @docs-private\r\n */\r\n@Component({\r\n  selector: 'mnj-colorpicker-content',\r\n  templateUrl: 'colorpicker-content.html',\r\n  styleUrls: ['colorpicker-content.scss'],\r\n  exportAs: 'mnjColorpickerContent',\r\n  inputs: ['color'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    mnjColorpickerAnimations.transformPanel,\r\n    mnjColorpickerAnimations.fadeInColorPanel,\r\n  ],\r\n  host: {\r\n    class: 'mnj-colorpicker-content',\r\n    '[@transformPanel]': '_animationState',\r\n    '(@transformPanel.done)': '_animationDone.next()',\r\n    '[class.mnj-colorpicker-content-touch]': 'colorpicker.touchUi',\r\n  },\r\n})\r\nexport class MnjColorpickerContent\r\n  extends _MnjColorpickerContentMixinBase\r\n  implements AfterViewInit, OnDestroy, CanColor {\r\n  /** Reference to the colorpicker that created the overlay. */\r\n  colorpicker: MnjColorpicker;\r\n\r\n  /** Whether the colorpicker is above or below the input. */\r\n  _isAbove: boolean;\r\n\r\n  /** Current state of the animation. */\r\n  _animationState: 'enter' | 'void' = 'enter';\r\n\r\n  /** Emits when an animation has finished. */\r\n  _animationDone = new Subject<void>();\r\n\r\n  private _subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    private _changeDetectorRef: ChangeDetectorRef\r\n  ) {\r\n    super(elementRef);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this._subscriptions.add(\r\n      this.colorpicker._stateChanges.subscribe(() => {\r\n        this._changeDetectorRef.markForCheck();\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._subscriptions.unsubscribe();\r\n    this._animationDone.complete();\r\n  }\r\n\r\n  _handleUserSelection(value: Color) {\r\n    this.colorpicker.select(value);\r\n    this.colorpicker.close();\r\n  }\r\n\r\n  _startExitAnimation() {\r\n    this._animationState = 'void';\r\n    this._changeDetectorRef.markForCheck();\r\n  }\r\n\r\n  _getSelected() {\r\n    return this.colorpicker._selectedColor;\r\n  }\r\n}\r\n\r\n// Use a component instead of a directive here so the user can use implicit\r\n// template reference variables (e.g. #d vs #d=\"mnjColorpicker\"). We can change this to a directive\r\n// if angular adds support for `exportAs: '$implicit'` on directives.\r\n/** Component responsible for managing the colorpicker popup/dialog. */\r\n@Component({\r\n  selector: 'mnj-colorpicker',\r\n  template: '',\r\n  exportAs: 'mnjColorpicker',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class MnjColorpicker implements OnDestroy {\r\n  private _scrollStrategy: () => ScrollStrategy;\r\n\r\n  /** Subscription to value changes in the associated input element. */\r\n  private _inputStateChanges = Subscription.EMPTY;\r\n\r\n  /** Color palette to use on the colorpicker's color panel. */\r\n  @Input()\r\n  get color(): ThemePalette {\r\n    return (\r\n      this._color ||\r\n      (this._colorpickerInput\r\n        ? this._colorpickerInput.getThemePalette()\r\n        : undefined)\r\n    );\r\n  }\r\n  set color(value: ThemePalette) {\r\n    this._color = value;\r\n  }\r\n  _color: ThemePalette;\r\n\r\n  @Input()\r\n  get startColor(): Color {\r\n    return this._startColor;\r\n  }\r\n\r\n  set startColor(value: Color) {\r\n    if (this._colorAdapter.isValid(value)) {\r\n      this._startColor = value;\r\n    }\r\n  }\r\n\r\n  private _startColor: Color;\r\n\r\n  /** The view that the color panel should start in. */\r\n  @Input() startView: MnjColorPanelView;\r\n\r\n  @Input() palette: PaletteColor[];\r\n\r\n  @Input()\r\n  get showAlpha() {\r\n    return this._showAlpha;\r\n  }\r\n\r\n  set showAlpha(value: boolean) {\r\n    value = coerceBooleanProperty(value);\r\n    if (value !== this._showAlpha) {\r\n      this._showAlpha = value;\r\n      this._configurationChanges.next(undefined);\r\n    }\r\n  }\r\n  _showAlpha: boolean;\r\n\r\n  @Input()\r\n  get displayFormat(): ColorFormat {\r\n    return this._displayFormat;\r\n  }\r\n  set displayFormat(value: ColorFormat) {\r\n    if (value !== this._displayFormat) {\r\n      this._displayFormat = value;\r\n      this._configurationChanges.next(undefined);\r\n    }\r\n  }\r\n  private _displayFormat: ColorFormat;\r\n\r\n  /**\r\n   * Whether the color panel UI is in touch mode. In touch mode the color panel opens in a dialog rather\r\n   * than a popup and elements have more padding to allow for bigger touch targets.\r\n   */\r\n  @Input()\r\n  get touchUi(): boolean {\r\n    return this._touchUi;\r\n  }\r\n  set touchUi(value: boolean) {\r\n    this._touchUi = coerceBooleanProperty(value);\r\n  }\r\n  private _touchUi = false;\r\n\r\n  /** Whether the colorpicker pop-up should be disabled. */\r\n  @Input()\r\n  get disabled(): boolean {\r\n    return this._disabled === undefined && this._colorpickerInput\r\n      ? this._colorpickerInput.disabled\r\n      : !!this._disabled;\r\n  }\r\n  set disabled(value: boolean) {\r\n    const newValue = coerceBooleanProperty(value);\r\n\r\n    if (newValue !== this._disabled) {\r\n      this._disabled = newValue;\r\n      this._stateChanges.next(newValue);\r\n    }\r\n  }\r\n  private _disabled: boolean;\r\n\r\n  /** Preferred position of the colorpicker in the X axis. */\r\n  @Input()\r\n  get xPosition(): ColorpickerDropdownPositionX {\r\n    return this._xPosition || 'start';\r\n  }\r\n  set xPosition(value: ColorpickerDropdownPositionX) {\r\n    const isFirstChange = !this._xPosition;\r\n    this._xPosition = value;\r\n    if (isFirstChange) {\r\n      this._updatePopupPositions();\r\n    }\r\n    this._stateChanges.next(undefined);\r\n  }\r\n  private _xPosition: ColorpickerDropdownPositionX;\r\n\r\n  /** Preferred position of the colorpicker in the Y axis. */\r\n  @Input()\r\n  get yPosition(): ColorpickerDropdownPositionY {\r\n    return this._yPosition || 'below';\r\n  }\r\n\r\n  set yPosition(value: ColorpickerDropdownPositionY) {\r\n    const isFirstChange = !this._xPosition;\r\n    this._yPosition = value;\r\n    if (isFirstChange) {\r\n      this._updatePopupPositions();\r\n    }\r\n    this._stateChanges.next(undefined);\r\n  }\r\n\r\n  private _yPosition: ColorpickerDropdownPositionY;\r\n\r\n  /** Classes to be passed to the color picker panel. Supports the same syntax as `ngClass`. */\r\n  @Input() panelClass: string | string[];\r\n\r\n  /** Emits when the colorpicker has been opened. */\r\n  @Output('opened') openedStream: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Emits when the colorpicker has been closed. */\r\n  @Output('closed') closedStream: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n  /** Whether the color panel is open. */\r\n  @Input()\r\n  get opened(): boolean {\r\n    return this._opened;\r\n  }\r\n  set opened(value: boolean) {\r\n    coerceBooleanProperty(value) ? this.open() : this.close();\r\n  }\r\n  private _opened = false;\r\n\r\n  /** The id for the colorpicker color panel. */\r\n  id: string = `mnj-colorpicker-${colorpickerUid++}`;\r\n\r\n  /** The currently selected color. */\r\n  get _selectedColor(): Color | null {\r\n    return this._validSelected;\r\n  }\r\n  set _selectedColor(value: Color | null) {\r\n    this._validSelected = value;\r\n  }\r\n  private _validSelected: Color | null = null;\r\n\r\n  /** A reference to the overlay when the color panel is opened as a popup. */\r\n  private _popupRef: OverlayRef | null;\r\n\r\n  /** A reference to the dialog when the color panel is opened as a dialog. */\r\n  private _dialogRef: MatDialogRef<MnjColorpickerContent> | null;\r\n\r\n  /** Reference to the component instantiated in popup mode. */\r\n  private _popupComponentRef: ComponentRef<MnjColorpickerContent> | null;\r\n\r\n  /** The element that was focused before the colorpicker was opened. */\r\n  private _focusedElementBeforeOpen: HTMLElement | null = null;\r\n\r\n  /** The input element this colorpicker is associated with. */\r\n  _colorpickerInput: MnjColorpickerInput;\r\n\r\n  /** Emits when the colorpicker is disabled. */\r\n  readonly _stateChanges = new Subject<boolean>();\r\n\r\n  /** Emits when the colorpicker formmatting inputs (showAlpha and displayFormat) changes. */\r\n  readonly _configurationChanges = new Subject<boolean>();\r\n\r\n  /** Emits new selected color when selected color changes. */\r\n  readonly _selectedChanged = new Subject<Color>();\r\n\r\n  constructor(\r\n    private _dialog: MatDialog,\r\n    private _overlay: Overlay,\r\n    private _ngZone: NgZone,\r\n    private _viewContainerRef: ViewContainerRef,\r\n    @Inject(MNJ_COLORPICKER_SCROLL_STRATEGY) scrollStrategy: any,\r\n    private _colorAdapter: ColorAdapter,\r\n    @Optional() private _dir: Directionality,\r\n    @Optional() @Inject(DOCUMENT) private _document: any\r\n  ) {\r\n    this._scrollStrategy = scrollStrategy;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._destroyPopup();\r\n    this.close();\r\n    this._inputStateChanges.unsubscribe();\r\n    this._selectedChanged.complete();\r\n    this._stateChanges.complete();\r\n  }\r\n\r\n  /** Selects the given color */\r\n  select(color: Color): void {\r\n    const oldValue = this._selectedColor;\r\n    this._selectedColor = color;\r\n    if (!this._colorAdapter.sameColor(oldValue, this._selectedColor)) {\r\n      this._selectedChanged.next(color);\r\n    }\r\n    this._stateChanges.next();\r\n  }\r\n\r\n  /**\r\n   * Register an input with this colorpicker.\r\n   * @param input The colorpicker input to register with this colorpicker.\r\n   */\r\n  _registerInput(input: MnjColorpickerInput): void {\r\n    if (this._colorpickerInput) {\r\n      throw Error(\r\n        'A MnjColorpicker can only be associated with a single input.'\r\n      );\r\n    }\r\n    this._inputStateChanges.unsubscribe();\r\n    this._colorpickerInput = input;\r\n    this._inputStateChanges = this._colorpickerInput._stateChanges.subscribe(\r\n      () => {\r\n        this._stateChanges.next();\r\n        this.select(this._colorpickerInput.value);\r\n      }\r\n    );\r\n  }\r\n\r\n  /** Open the color panel. */\r\n  open(): void {\r\n    if (this._opened || this.disabled) {\r\n      return;\r\n    }\r\n    if (!this._colorpickerInput) {\r\n      throw Error(\r\n        'Attempted to open an MnjColorpicker with no associated input.'\r\n      );\r\n    }\r\n    if (this._document) {\r\n      this._focusedElementBeforeOpen = this._document.activeElement;\r\n    }\r\n\r\n    this.touchUi ? this._openAsDialog() : this._openAsPopup();\r\n    this._opened = true;\r\n    this.openedStream.emit();\r\n  }\r\n\r\n  /** Close the color panel. */\r\n  close(): void {\r\n    if (!this._opened) {\r\n      return;\r\n    }\r\n    if (this._popupComponentRef && this._popupRef) {\r\n      const instance = this._popupComponentRef.instance;\r\n      instance._startExitAnimation();\r\n      instance._animationDone\r\n        .pipe(take(1))\r\n        .subscribe(() => this._destroyPopup());\r\n    }\r\n    if (this._dialogRef) {\r\n      this._dialogRef.close();\r\n      this._dialogRef = null;\r\n    }\r\n\r\n    const completeClose = () => {\r\n      // The `_opened` could've been reset already if\r\n      // we got two events in quick succession.\r\n      if (this._opened) {\r\n        this._opened = false;\r\n        this.closedStream.emit();\r\n        this._focusedElementBeforeOpen = null;\r\n      }\r\n    };\r\n\r\n    if (\r\n      this._focusedElementBeforeOpen &&\r\n      typeof this._focusedElementBeforeOpen.focus === 'function'\r\n    ) {\r\n      // Because IE moves focus asynchronously, we can't count on it being restored before we've\r\n      // marked the colorpicker as closed. If the event fires out of sequence and the element that\r\n      // we're refocusing opens the colorpicker on focus, the user could be stuck with not being\r\n      // able to close the color panel at all. We work around it by making the logic, that marks\r\n      // the colorpicker as closed, async as well.\r\n      this._focusedElementBeforeOpen.focus();\r\n      setTimeout(completeClose);\r\n    } else {\r\n      completeClose();\r\n    }\r\n  }\r\n\r\n  /** Open the color panel as a dialog. */\r\n  private _openAsDialog(): void {\r\n    // Usually this would be handled by `open` which ensures that we can only have one overlay\r\n    // open at a time, however since we reset the variables in async handlers some overlays\r\n    // may slip through if the user opens and closes multiple times in quick succession (e.g.\r\n    // by holding down the enter key).\r\n    if (this._dialogRef) {\r\n      this._dialogRef.close();\r\n    }\r\n\r\n    this._dialogRef = this._dialog.open<MnjColorpickerContent>(\r\n      MnjColorpickerContent,\r\n      {\r\n        direction: this._dir ? this._dir.value : 'ltr',\r\n        viewContainerRef: this._viewContainerRef,\r\n        panelClass: 'mnj-colorpicker-dialog',\r\n      }\r\n    );\r\n\r\n    this._dialogRef.afterClosed().subscribe(() => this.close());\r\n    this._dialogRef.componentInstance.colorpicker = this;\r\n    this._setTheme();\r\n  }\r\n\r\n  /** Open the color panel as a popup. */\r\n  private _openAsPopup(): void {\r\n    const portal = new ComponentPortal<MnjColorpickerContent>(\r\n      MnjColorpickerContent,\r\n      this._viewContainerRef\r\n    );\r\n\r\n    this._destroyPopup();\r\n    this._createPopup();\r\n    this._popupComponentRef = this._popupRef!.attach(portal);\r\n    this._forwardContentValues(this._popupComponentRef.instance);\r\n\r\n    // Update the position once the calendar has rendered.\r\n    this._ngZone.onStable.pipe(take(1)).subscribe(() => {\r\n      this._popupRef!.updatePosition();\r\n    });\r\n  }\r\n\r\n  /** Forwards relevant values from the colorpicker to the colorpicker content inside the overlay. */\r\n  protected _forwardContentValues(instance: MnjColorpickerContent) {\r\n    instance.colorpicker = this;\r\n    instance.color = this.color;\r\n  }\r\n\r\n  /** Create the popup. */\r\n  private _createPopup(): void {\r\n    const positionStrategy = this._overlay\r\n      .position()\r\n      .flexibleConnectedTo(this._colorpickerInput.getConnectedOverlayOrigin())\r\n      .withTransformOriginOn('.mnj-colorpicker-content')\r\n      .withFlexibleDimensions(false)\r\n      .withViewportMargin(8)\r\n      .withLockedPosition();\r\n\r\n    const overlayConfig = new OverlayConfig({\r\n      positionStrategy: this._setConnectedPositions(positionStrategy),\r\n      hasBackdrop: true,\r\n      backdropClass: 'mat-overlay-transparent-backdrop',\r\n      direction: this._dir,\r\n      scrollStrategy: this._scrollStrategy(),\r\n      panelClass: 'mnj-colorpicker-popup',\r\n    });\r\n\r\n    this._popupRef = this._overlay.create(overlayConfig);\r\n    this._popupRef.overlayElement.setAttribute('role', 'dialog');\r\n\r\n    merge(\r\n      this._popupRef.backdropClick(),\r\n      this._popupRef.detachments(),\r\n      this._popupRef.keydownEvents().pipe(\r\n        filter((event) => {\r\n          // Closing on alt + up is only valid when there's an input associated with the colorpicker.\r\n          return (\r\n            event.keyCode === ESCAPE ||\r\n            (this._colorpickerInput &&\r\n              event.altKey &&\r\n              event.keyCode === UP_ARROW)\r\n          );\r\n        })\r\n      )\r\n    ).subscribe((event) => {\r\n      if (event) {\r\n        event.preventDefault();\r\n      }\r\n\r\n      this.close();\r\n    });\r\n  }\r\n\r\n  /** Sets the positions of the colorpicker in dropdown mode based on the current configuration. */\r\n  private _setConnectedPositions(strategy: FlexibleConnectedPositionStrategy) {\r\n    const primaryX = this.xPosition === 'end' ? 'end' : 'start';\r\n    const secondaryX = primaryX === 'start' ? 'end' : 'start';\r\n    const primaryY = this.yPosition === 'above' ? 'bottom' : 'top';\r\n    const secondaryY = primaryY === 'top' ? 'bottom' : 'top';\r\n\r\n    return strategy.withPositions([\r\n      {\r\n        originX: primaryX,\r\n        originY: secondaryY,\r\n        overlayX: primaryX,\r\n        overlayY: primaryY,\r\n      },\r\n      {\r\n        originX: primaryX,\r\n        originY: primaryY,\r\n        overlayX: primaryX,\r\n        overlayY: secondaryY,\r\n      },\r\n      {\r\n        originX: secondaryX,\r\n        originY: secondaryY,\r\n        overlayX: secondaryX,\r\n        overlayY: primaryY,\r\n      },\r\n      {\r\n        originX: secondaryX,\r\n        originY: primaryY,\r\n        overlayX: secondaryX,\r\n        overlayY: secondaryY,\r\n      },\r\n    ]);\r\n  }\r\n\r\n  private _updatePopupPositions() {\r\n    if (this._popupRef) {\r\n      this._setConnectedPositions(\r\n        this._popupRef.getConfig()\r\n          .positionStrategy as FlexibleConnectedPositionStrategy\r\n      );\r\n\r\n      if (this.opened) {\r\n        this._popupRef.updatePosition();\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Destroys the current popup overlay. */\r\n  private _destroyPopup() {\r\n    if (this._popupRef) {\r\n      this._popupRef.dispose();\r\n      this._popupRef = this._popupComponentRef = null;\r\n    }\r\n  }\r\n\r\n  /** Passes the current theme color along to the color panel overlay. */\r\n  private _setTheme(): void {\r\n    const color = this.color;\r\n    if (this._popupComponentRef) {\r\n      this._popupComponentRef.instance.color = color;\r\n    }\r\n    if (this._dialogRef) {\r\n      this._dialogRef.componentInstance.color = color;\r\n    }\r\n  }\r\n}\r\n","<mnj-color-panel\n  cdkTrapFocus\n  [id]=\"colorpicker.id\"\n  [ngClass]=\"colorpicker.panelClass\"\n  [color]=\"colorpicker.color\"\n  [startView]=\"colorpicker.startView\"\n  [startColor]=\"colorpicker.startColor\"\n  [showAlpha]=\"colorpicker.showAlpha\"\n  [palette]=\"colorpicker.palette\"\n  [selected]=\"_getSelected()\"\n  [@fadeInColorPanel]=\"'enter'\"\n  (_userSelection)=\"_handleUserSelection($event)\"\n>\n</mnj-color-panel>\n","import { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { DOWN_ARROW } from '@angular/cdk/keycodes';\r\nimport {\r\n  Directive,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  Optional,\r\n  Output,\r\n} from '@angular/core';\r\nimport {\r\n  AbstractControl,\r\n  ControlValueAccessor,\r\n  NG_VALIDATORS,\r\n  NG_VALUE_ACCESSOR,\r\n  ValidationErrors,\r\n  Validator,\r\n  ValidatorFn,\r\n} from '@angular/forms';\r\nimport { ThemePalette } from '@angular/material/core';\r\nimport { MatFormField } from '@angular/material/form-field';\r\nimport { MAT_INPUT_VALUE_ACCESSOR } from '@angular/material/input';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { Color } from './color/color';\r\nimport { ColorAdapter } from './color/color-adapter';\r\nimport { MnjColorConfig, MNJ_COLOR_CONFIG_PROVIDER } from './color/color-config';\r\nimport { MnjColorpicker } from './colorpicker';\r\n\r\n/** @docs-private */\r\nexport const MNJ_COLORPICKER_VALUE_ACCESSOR: any = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => MnjColorpickerInput),\r\n  multi: true,\r\n};\r\n\r\n/** @docs-private */\r\nexport const MNJ_COLORPICKER_VALIDATORS: any = {\r\n  provide: NG_VALIDATORS,\r\n  useExisting: forwardRef(() => MnjColorpickerInput),\r\n  multi: true,\r\n};\r\n\r\n/**\r\n * An event used for colorpicker input and change events. We don't always have access to a native\r\n * input or change event because the event may have been triggered by the user clicking on the\r\n * calendar popup. For consistency, we always use MnjColorpickerInputEvent instead.\r\n */\r\nexport class MnjColorpickerInputEvent {\r\n  /** The new value for the target colorpicker input. */\r\n  value: Color | null;\r\n\r\n  constructor(\r\n    /** Reference to the colorpicker input component that emitted the event. */\r\n    public target: MnjColorpickerInput,\r\n    /** Reference to the native input element associated with the colorpicker input. */\r\n    public targetElement: HTMLElement\r\n  ) {\r\n    this.value = this.target.value;\r\n  }\r\n}\r\n/** Directive used to connect an input to a MnjColorpicker. */\r\n@Directive({\r\n  selector: 'input[mnjColorpicker]',\r\n  exportAs: 'mnjColorpickerInput',\r\n  providers: [\r\n    MNJ_COLORPICKER_VALUE_ACCESSOR,\r\n    MNJ_COLORPICKER_VALIDATORS,\r\n    { provide: MAT_INPUT_VALUE_ACCESSOR, useExisting: MnjColorpickerInput },\r\n  ],\r\n  host: {\r\n    'aria-haspopup': '_colorpicker ? \"dialog\" : null',\r\n    '[attr.aria-owns]': '(_colorpicker?.opened && _colorpicker.id) || null',\r\n    '[disabled]': 'disabled',\r\n    '(input)': '_onInput($event.target.value)',\r\n    '(change)': '_onChange()',\r\n    '(blur)': '_onBlur()',\r\n    '(keydown)': '_onKeydown($event)',\r\n  },\r\n})\r\nexport class MnjColorpickerInput implements ControlValueAccessor, OnDestroy, OnChanges, Validator {\r\n  /** The colorpicker that this input is associated with. */\r\n  @Input()\r\n  set mnjColorpicker(value: MnjColorpicker) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n\r\n    this._colorpicker = value;\r\n    this._colorpicker._registerInput(this);\r\n    this._colorpickerSubscription.unsubscribe();\r\n\r\n    this._colorpickerSubscription = this._colorpicker._selectedChanged.subscribe((selected: Color) => {\r\n      this.value = selected;\r\n      this._cvaOnChange(selected);\r\n      this._onTouched();\r\n      this.colorInput.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n      this.colorChange.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n    });\r\n\r\n    this._colorpickerConfigurationSubscription = this._colorpicker._configurationChanges.subscribe((_) =>\r\n      this._formatValue(this.value)\r\n    );\r\n  }\r\n  _colorpicker: MnjColorpicker;\r\n\r\n  /** The value of the input. */\r\n  @Input()\r\n  get value(): Color | null {\r\n    return this._value;\r\n  }\r\n  set value(value: Color | null) {\r\n    this._lastValueValid = !value || this._colorAdapter.isValid(value);\r\n    value = this._colorAdapter.getValidColorOrNull(value);\r\n    const oldColor = this.value;\r\n    this._value = value;\r\n    this._formatValue(value);\r\n\r\n    if (!this._colorAdapter.sameColor(oldColor, value)) {\r\n      this._valueChange.emit(value);\r\n    }\r\n  }\r\n  private _value: Color | null = null;\r\n\r\n  /** Whether the colorpicker-input is disabled. */\r\n  @Input()\r\n  get disabled(): boolean {\r\n    return !!this._disabled;\r\n  }\r\n  set disabled(value: boolean) {\r\n    const newValue = coerceBooleanProperty(value);\r\n    const element = this._elementRef.nativeElement;\r\n\r\n    if (this._disabled !== newValue) {\r\n      this._disabled = newValue;\r\n      this._stateChanges.next(undefined);\r\n    }\r\n\r\n    // We need to null check the `blur` method, because it's undefined during SSR.\r\n    if (newValue && element.blur) {\r\n      // Normally, native input elements automatically blur if they turn disabled. This behavior\r\n      // is problematic, because it would mean that it triggers another change detection cycle,\r\n      // which then causes a changed after checked error if the input element was focused before.\r\n      element.blur();\r\n    }\r\n  }\r\n  private _disabled: boolean;\r\n\r\n  /** Emits when a `change` event is fired on this `<input>`. */\r\n  @Output() readonly colorChange: EventEmitter<MnjColorpickerInputEvent> = new EventEmitter<MnjColorpickerInputEvent>();\r\n\r\n  /** Emits when an `input` event is fired on this `<input>`. */\r\n  @Output() readonly colorInput: EventEmitter<MnjColorpickerInputEvent> = new EventEmitter<MnjColorpickerInputEvent>();\r\n\r\n  /** Emits when the value changes (either due to user input or programmatic change). */\r\n  _valueChange = new EventEmitter<Color | null>();\r\n\r\n  /** Emits when the internal state has changed */\r\n  _stateChanges = new Subject<void>();\r\n\r\n  _onTouched = () => {};\r\n\r\n  private _cvaOnChange: (value: any) => void = () => {};\r\n\r\n  private _validatorOnChange = () => {};\r\n\r\n  private _colorpickerSubscription = Subscription.EMPTY;\r\n\r\n  private _colorpickerConfigurationSubscription = Subscription.EMPTY;\r\n\r\n  private _localeSubscription = Subscription.EMPTY;\r\n\r\n  /** The form control validator for whether the input parses. */\r\n  private _parseValidator: ValidatorFn = (): ValidationErrors | null => {\r\n    return this._lastValueValid ? null : { mnjColorpickerParse: { text: this._elementRef.nativeElement.value } };\r\n  };\r\n\r\n  /** The combined form control validator for this input. */\r\n  private _validator: ValidatorFn | null = this._parseValidator;\r\n\r\n  /** Whether the last value set on the input was valid. */\r\n  private _lastValueValid = false;\r\n\r\n  constructor(\r\n    private _elementRef: ElementRef<HTMLInputElement>,\r\n    public _colorAdapter: ColorAdapter,\r\n    @Inject(MNJ_COLOR_CONFIG_PROVIDER) private _config: MnjColorConfig,\r\n    @Optional() private _formField: MatFormField\r\n  ) {}\r\n\r\n  ngOnChanges() {\r\n    this._stateChanges.next(undefined);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this._colorpickerSubscription.unsubscribe();\r\n    this._colorpickerConfigurationSubscription.unsubscribe();\r\n    this._localeSubscription.unsubscribe();\r\n    this._valueChange.complete();\r\n    this._stateChanges.complete();\r\n  }\r\n\r\n  /** @docs-private */\r\n  registerOnValidatorChange(fn: () => void): void {\r\n    this._validatorOnChange = fn;\r\n  }\r\n\r\n  /** @docs-private */\r\n  validate(c: AbstractControl): ValidationErrors | null {\r\n    return this._validator ? this._validator(c) : null;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  writeValue(value: Color): void {\r\n    this.value = value;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  registerOnChange(fn: (value: any) => void): void {\r\n    this._cvaOnChange = fn;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  registerOnTouched(fn: () => void): void {\r\n    this._onTouched = fn;\r\n  }\r\n\r\n  // Implemented as part of ControlValueAccessor.\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  _onKeydown(event: KeyboardEvent) {\r\n    const isAltDownArrow = event.altKey && event.keyCode === DOWN_ARROW;\r\n\r\n    if (this._colorpicker && isAltDownArrow && !this._elementRef.nativeElement.readOnly) {\r\n      this._openPopup();\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  _onInput(value: string) {\r\n    const lastValueWasValid = this._lastValueValid;\r\n    let color = this._colorAdapter.parse(value);\r\n    this._lastValueValid = this._colorAdapter.isValid(color);\r\n    color = this._colorAdapter.getValidColorOrNull(color);\r\n\r\n    if (!this._colorAdapter.sameColor(color, this.value)) {\r\n      this._value = color;\r\n      this._cvaOnChange(color);\r\n      this._valueChange.emit(color);\r\n      this.colorInput.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n    } else {\r\n      // Call the CVA change handler for invalid values\r\n      // since this is what marks the control as dirty.\r\n      if (value && !this.value) {\r\n        this._cvaOnChange(color);\r\n      }\r\n\r\n      if (lastValueWasValid !== this._lastValueValid) {\r\n        this._validatorOnChange();\r\n      }\r\n    }\r\n  }\r\n\r\n  _onChange() {\r\n    this.colorChange.emit(new MnjColorpickerInputEvent(this, this._elementRef.nativeElement));\r\n  }\r\n\r\n  /**\r\n   * Gets the element that the colorpicker popup should be connected to.\r\n   * @return The element to connect the popup to.\r\n   */\r\n  getConnectedOverlayOrigin(): ElementRef {\r\n    return this._formField ? this._formField.getConnectedOverlayOrigin() : this._elementRef;\r\n  }\r\n\r\n  /** Returns the palette used by the input's form field, if any. */\r\n  getThemePalette(): ThemePalette {\r\n    return this._formField ? this._formField.color : undefined;\r\n  }\r\n\r\n  /** Gets the value at which the calendar should start. */\r\n  getStartValue(): Color | null {\r\n    return this.value;\r\n  }\r\n\r\n  /** Opens the associated colorpicker. */\r\n  protected _openPopup(): void {\r\n    if (this._colorpicker) {\r\n      this._colorpicker.open();\r\n    }\r\n  }\r\n\r\n  /** Handles blur events on the input. */\r\n  _onBlur() {\r\n    // Reformat the input only if we have a valid value.\r\n    if (this.value) {\r\n      this._formatValue(this.value);\r\n    }\r\n    this._onTouched();\r\n    this._stateChanges.next();\r\n  }\r\n\r\n  /** Formats a value and sets it on the input element. */\r\n  private _formatValue(value: Color | null) {\r\n    const showAlpha = (this._colorpicker && this._colorpicker.showAlpha) || this._config.showAlpha;\r\n    const displayFormat = (this._colorpicker && this._colorpicker.displayFormat) || this._config.displayFormat;\r\n    this._elementRef.nativeElement.value = value ? this._colorAdapter.format(value, displayFormat, showAlpha) : '';\r\n  }\r\n}\r\n","<button\n  #button\n  mat-icon-button\n  type=\"button\"\n  [attr.aria-haspopup]=\"colorpicker ? 'dialog' : null\"\n  [attr.aria-label]=\"_intl.openColorPickerLabel\"\n  [attr.tabindex]=\"disabled ? -1 : tabIndex\"\n  [disabled]=\"disabled\"\n  [disableRipple]=\"disableRipple\"\n  (click)=\"_open($event)\"\n>\n  <svg\n    *ngIf=\"!_customIcon\"\n    class=\"mnj-colorpicker-toggle-default-icon\"\n    viewBox=\"0 0 24 24\"\n    width=\"24px\"\n    height=\"24px\"\n    fill=\"currentColor\"\n    focusable=\"false\"\n  >\n    <path\n      d=\"M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z\"\n    />\n  </svg>\n\n  <ng-content select=\"[mnjColorpickerToggleIcon]\"></ng-content>\n</button>\n","import { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  AfterContentInit,\n  Attribute,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  Directive,\n  Input,\n  OnDestroy,\n  ViewChild,\n  ViewEncapsulation,\n} from '@angular/core';\nimport { MatButton } from '@angular/material/button';\nimport { merge, of, Subscription } from 'rxjs';\nimport { MnjColorpicker } from './colorpicker';\nimport { MnjColorpickerIntl } from './colorpicker-intl';\n\n/** Can be used to override the icon of a `matColorpickerToggle`. */\n@Directive({\n  selector: '[mnjColorpickerToggleIcon]',\n})\nexport class MnjColorpickerToggleIcon {}\n\n@Component({\n  selector: 'mnj-colorpicker-toggle',\n  templateUrl: 'colorpicker-toggle.html',\n  styleUrls: ['colorpicker-toggle.scss'],\n  exportAs: 'mnjColorpickerToggle',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    class: 'mnj-colorpicker-toggle',\n    // Always set the tabindex to -1 so that it doesn't overlap with any custom tabindex the\n    // consumer may have provided, while still being able to receive focus.\n    '[attr.tabindex]': 'disabled ? null : -1',\n    '[class.mnj-colorpicker-toggle-active]': 'colorpicker && colorpicker.opened',\n    '[class.mnj-accent]': 'colorpicker && colorpicker.color === \"accent\"',\n    '[class.mnj-warn]': 'colorpicker && colorpicker.color === \"warn\"',\n    // Used by the test harness to tie this toggle to its colorpicker.\n    '[attr.data-mnj-color-panel]': 'colorpicker ? colorpicker.id : null',\n    '(focus)': '_button.focus()',\n  },\n})\nexport class MnjColorpickerToggle implements AfterContentInit, OnDestroy {\n  private _stateChanges = Subscription.EMPTY;\n\n  /** Colorpicker instance that the button will toggle. */\n  @Input('for')\n  get colorpicker(): MnjColorpicker {\n    return this._colorpicker;\n  }\n\n  set colorpicker(value: MnjColorpicker) {\n    this._colorpicker = value;\n    this._watchStateChanges();\n  }\n\n  private _colorpicker: MnjColorpicker;\n\n  /** Tabindex for the toggle. */\n  @Input() tabIndex: number | null;\n\n  /** Whether the toggle button is disabled. */\n  @Input()\n  get disabled(): boolean {\n    if (this._disabled === undefined && this.colorpicker) {\n      return this.colorpicker.disabled;\n    }\n\n    return !!this._disabled;\n  }\n  set disabled(value: boolean) {\n    this._disabled = coerceBooleanProperty(value);\n  }\n  private _disabled: boolean;\n\n  /** Whether ripples on the toggle should be disabled. */\n  @Input() disableRipple: boolean;\n\n  /** Custom icon set by the consumer. */\n  @ContentChild(MnjColorpickerToggleIcon) _customIcon: MnjColorpickerToggleIcon;\n\n  /** Underlying button element. */\n  @ViewChild('button') _button: MatButton;\n\n  constructor(\n    public _intl: MnjColorpickerIntl,\n    private _changeDetectorRef: ChangeDetectorRef,\n    @Attribute('tabindex') defaultTabIndex: string\n  ) {\n    const parsedTabIndex = Number(defaultTabIndex);\n    this.tabIndex = parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\n  }\n\n  ngOnDestroy() {\n    this._stateChanges.unsubscribe();\n  }\n\n  ngAfterContentInit() {\n    this._watchStateChanges();\n  }\n\n  _open(event: Event): void {\n    if (this.colorpicker && !this.disabled) {\n      this.colorpicker.open();\n      event.stopPropagation();\n    }\n  }\n\n  private _watchStateChanges() {\n    const colorpickerStateChanged = this.colorpicker ? this.colorpicker._stateChanges : of();\n    const inputStateChanged =\n      this.colorpicker && this.colorpicker._colorpickerInput ? this.colorpicker._colorpickerInput._stateChanges : of();\n    const colorpickerToggled = this.colorpicker\n      ? merge(this.colorpicker.openedStream, this.colorpicker.closedStream)\n      : of();\n\n    this._stateChanges.unsubscribe();\n    this._stateChanges = merge(\n      this._intl.changes,\n      colorpickerStateChanged,\n      inputStateChanged,\n      colorpickerToggled\n    ).subscribe(() => this._changeDetectorRef.markForCheck());\n  }\n\n  static ngAcceptInputType_disabled: BooleanInput;\n}\n","import { A11yModule } from '@angular/cdk/a11y';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { CdkScrollableModule } from '@angular/cdk/scrolling';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MnjColorPanel, MnjColorPanelHeader } from './color-panel';\r\nimport { MnjColorpicker, MnjColorpickerContent, MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER } from './colorpicker';\r\nimport { MnjColorpickerInput } from './colorpicker-input';\r\nimport { MnjColorpickerIntl } from './colorpicker-intl';\r\nimport { MnjColorpickerToggle, MnjColorpickerToggleIcon } from './colorpicker-toggle';\r\nimport {\r\n  MnjAlphaSelector,\r\n  MnjGridSelector,\r\n  MnjHueSelector,\r\n  MnjInputSelector,\r\n  MnjPipetteSelector,\r\n  MnjPreviewSwatch,\r\n  MnjSaturationSelector,\r\n} from './selectors';\r\nimport { MnjArmoniesPickerView, MnjChromePickerView, MnjPalettePickerView, MnjScanPickerView } from './views';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, MatButtonModule, MatIconModule, PortalModule, A11yModule, OverlayModule, MatDialogModule],\r\n  declarations: [\r\n    MnjColorpickerToggle,\r\n    MnjColorpickerToggleIcon,\r\n    MnjColorpicker,\r\n    MnjColorpickerContent,\r\n    MnjColorpickerInput,\r\n    MnjColorPanel,\r\n    MnjColorPanelHeader,\r\n    MnjAlphaSelector,\r\n    MnjHueSelector,\r\n    MnjSaturationSelector,\r\n    MnjInputSelector,\r\n    MnjGridSelector,\r\n    MnjPipetteSelector,\r\n    MnjPreviewSwatch,\r\n    MnjChromePickerView,\r\n    MnjPalettePickerView,\r\n    MnjArmoniesPickerView,\r\n    MnjScanPickerView,\r\n  ],\r\n  providers: [MnjColorpickerIntl, MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER],\r\n  exports: [\r\n    CdkScrollableModule,\r\n    MnjColorpickerToggle,\r\n    MnjColorpickerToggleIcon,\r\n    MnjColorpicker,\r\n    MnjColorpickerContent,\r\n    MnjColorpickerInput,\r\n    MnjColorPanel,\r\n    MnjColorPanelHeader,\r\n    MnjAlphaSelector,\r\n    MnjHueSelector,\r\n    MnjSaturationSelector,\r\n    MnjInputSelector,\r\n    MnjGridSelector,\r\n    MnjPipetteSelector,\r\n    MnjPreviewSwatch,\r\n    MnjChromePickerView,\r\n    MnjPalettePickerView,\r\n    MnjArmoniesPickerView,\r\n    MnjScanPickerView,\r\n  ],\r\n})\r\nexport class MnjColorpickerModule {}\r\n"]}