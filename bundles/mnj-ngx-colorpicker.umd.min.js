!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/coercion"),require("@angular/cdk/keycodes"),require("rxjs"),require("@angular/common"),require("@angular/cdk/platform"),require("@angular/cdk/bidi"),require("rxjs/operators"),require("@angular/material/button"),require("@angular/cdk/a11y"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/material/core"),require("@angular/animations"),require("@angular/material/dialog"),require("@angular/forms"),require("@angular/material/input"),require("@angular/material/form-field"),require("@angular/cdk/scrolling"),require("@angular/material/icon")):"function"==typeof define&&define.amd?define("mnj-ngx-colorpicker",["exports","@angular/core","@angular/cdk/coercion","@angular/cdk/keycodes","rxjs","@angular/common","@angular/cdk/platform","@angular/cdk/bidi","rxjs/operators","@angular/material/button","@angular/cdk/a11y","@angular/cdk/overlay","@angular/cdk/portal","@angular/material/core","@angular/animations","@angular/material/dialog","@angular/forms","@angular/material/input","@angular/material/form-field","@angular/cdk/scrolling","@angular/material/icon"],t):t((e=e||self)["mnj-ngx-colorpicker"]={},e.ng.core,e.ng.cdk.coercion,e.ng.cdk.keycodes,e.rxjs,e.ng.common,e.ng.cdk.platform,e.ng.cdk.bidi,e.rxjs.operators,e.ng.material.button,e.ng.cdk.a11y,e.ng.cdk.overlay,e.ng.cdk.portal,e.ng.material.core,e.ng.animations,e.ng.material.dialog,e.ng.forms,e.ng.material.input,e.ng.material.formField,e.ng.cdk.scrolling,e.ng.material.icon)}(this,(function(e,t,n,r,o,i,a,l,c,s,u,p,h,d,m,f,g,_,v,b,C){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function w(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function k(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create;function j(e){var t=e.red/255,n=e.green/255,r=e.blue/255,o=Math.max(t,n,r),i=Math.min(t,n,r),a=o-i,l=0,c=0,s=(o+i)/2;if(a){switch(o){case t:l=(n-r)/a;break;case n:l=2+(r-t)/a;break;case r:l=4+(t-n)/a}c=a/(1-Math.abs(2*s-1))}return(l=Math.round(60*l))<0&&(l+=360),{hue:l,saturation:c=Math.round(100*c)||0,lightness:s=Math.round(100*s)||0}}function x(e){var t=e.red/255,n=e.green/255,r=e.blue/255,o=Math.max(t,n,r),i=o-Math.min(t,n,r),a=Math.round(100*o)||0,l=0,c=0;if(i){switch(o){case t:l=(n-r)/i;break;case n:l=2+(r-t)/i;break;case r:l=4+(t-n)/i}o&&(c=i/o)}return(l=Math.round(60*l)||0)<0&&(l+=360),{hue:l,saturation:c=Math.round(100*c)||0,value:a}}function P(e){var t=e.red,n=e.green,r=e.blue,o=x({red:t,green:n,blue:r}),i=o.hue,a=(o.saturation,o.value,t/255),l=n/255,c=r/255,s=Math.max(a,l,c),u=Math.min(a,l,c);return{hue:i,whiteness:Math.round(100*u)/100,blackness:Math.round(100*(1-s))/100}}function S(e){var t,n,r,o,i=e.red/255,a=e.green/255,l=e.blue/255;return 1===(o=1-Math.max(i,a,l))?(t=0,n=0,r=0):(t=Math.round((1-i-o)/(1-o)*100),n=Math.round((1-a-o)/(1-o)*100),r=Math.round((1-l-o)/(1-o)*100)),{cyan:t,magenta:n,yellow:r,black:o=Math.round(100*o)}}function F(e){var t=e.hue,n=e.saturation,r=e.lightness/100,o=n/100*(1-Math.abs(2*r-1)),i=t/60,a=o*(1-Math.abs(i%2-1)),l=r-o/2;return o=Math.round(255*(o+l))||0,a=Math.round(255*(a+l))||0,l=Math.round(255*l)||0,i>=0&&i<1?{red:o,green:a,blue:l}:i>=1&&i<2?{red:a,green:o,blue:l}:i>=2&&i<3?{red:l,green:o,blue:a}:i>=3&&i<4?{red:l,green:a,blue:o}:i>=4&&i<5?{red:a,green:l,blue:o}:i>=5&&i<6?{red:o,green:l,blue:a}:void 0}function A(e){var t=e.hue,n=e.saturation,r=e.lightness,o=Math.min(n/100,1),i=Math.min(r/100,1);if(0===i)return{hue:t,saturation:0,value:0};var a=i+o*(1-Math.abs(2*i-1))/2;return{hue:t,saturation:Math.round(2*(a-i)/a*100),value:Math.round(100*a)}}function E(e){var t=e.hue,n=e.saturation/100,r=e.value/100;if(0===r)return{hue:t,saturation:0,lightness:0};if(0===n&&1===r)return{hue:t,saturation:0,lightness:100};var o=r*(2-n)/2;return{hue:t,saturation:Math.round(r*n/(1-Math.abs(2*o-1))*100),lightness:Math.round(100*o)}}function R(e){var t=e.hue,n=e.saturation,r=e.value/100,o=n/100*r,i=t/60,a=o*(1-Math.abs(i%2-1)),l=r-o;return o=Math.round(255*(o+l))||0,a=Math.round(255*(a+l))||0,l=Math.round(255*l)||0,i>=0&&i<1?{red:o,green:a,blue:l}:i>=1&&i<2?{red:a,green:o,blue:l}:i>=2&&i<3?{red:l,green:o,blue:a}:i>=3&&i<4?{red:l,green:a,blue:o}:i>=4&&i<5?{red:a,green:l,blue:o}:i>=5&&i<6?{red:o,green:l,blue:a}:void 0}function O(e){var t,n,r=e.hue,o=e.whiteness,i=e.blackness,a=F({hue:r,saturation:1,lightness:.5}),l=o+i;l>1&&(t=Number((o/l).toFixed(2)),n=Number((i/l).toFixed(2)));var c=function(e,t,n){return 255*(e/255*(1-t-n)+t)};return{red:c(a.red,t,n),green:c(a.green,t,n),blue:c(a.blue,t,n)}}function I(e){var t=e.cyan,n=e.magenta,r=e.yellow,o=e.black;return{red:255-255*Math.min(1,t*(1-o)+o),green:255-255*Math.min(1,n*(1-o)+o),blue:255-255*Math.min(1,r*(1-o)+o)}}var D={AliceBlue:"#F0F8FF",AntiqueWhite:"#FAEBD7",Aqua:"#00FFFF",Aquamarine:"#7FFFD4",Azure:"#F0FFFF",Beige:"#F5F5DC",Bisque:"#FFE4C4",Black:"#000000",BlanchedAlmond:"#FFEBCD",Blue:"#0000FF",BlueViolet:"#8A2BE2",Brown:"#A52A2A",BurlyWood:"#DEB887",CadetBlue:"#5F9EA0",Chartreuse:"#7FFF00",Chocolate:"#D2691E",Coral:"#FF7F50",CornflowerBlue:"#6495ED",Cornsilk:"#FFF8DC",Crimson:"#DC143C",Cyan:"#00FFFF",DarkBlue:"#00008B",DarkCyan:"#008B8B",DarkGoldenRod:"#B8860B",DarkGray:"#A9A9A9",DarkGreen:"#006400",DarkGrey:"#A9A9A9",DarkKhaki:"#BDB76B",DarkMagenta:"#8B008B",DarkOliveGreen:"#556B2F",DarkOrchid:"#9932CC",DarkRed:"#8B0000",DarkSalmon:"#E9967A",DarkSeaGreen:"#8FBC8F",DarkSlateBlue:"#483D8B",DarkSlateGray:"#2F4F4F",DarkSlateGrey:"#2F4F4F",DarkTurquoise:"#00CED1",DarkViolet:"#9400D3",Darkorange:"#FF8C00",DeepPink:"#FF1493",DeepSkyBlue:"#00BFFF",DimGray:"#696969",DimGrey:"#696969",DodgerBlue:"#1E90FF",FireBrick:"#B22222",FloralWhite:"#FFFAF0",ForestGreen:"#228B22",Fuchsia:"#FF00FF",Gainsboro:"#DCDCDC",GhostWhite:"#F8F8FF",Gold:"#FFD700",GoldenRod:"#DAA520",Gray:"#808080",Green:"#008000",GreenYellow:"#ADFF2F",Grey:"#808080",HoneyDew:"#F0FFF0",HotPink:"#FF69B4",IndianRed:"#CD5C5C",Indigo:"#4B0082",Ivory:"#FFFFF0",Khaki:"#F0E68C",Lavender:"#E6E6FA",LavenderBlush:"#FFF0F5",LawnGreen:"#7CFC00",LemonChiffon:"#FFFACD",LightBlue:"#ADD8E6",LightCoral:"#F08080",LightCyan:"#E0FFFF",LightGoldenRodYellow:"#FAFAD2",LightGray:"#D3D3D3",LightGreen:"#90EE90",LightGrey:"#D3D3D3",LightPink:"#FFB6C1",LightSalmon:"#FFA07A",LightSeaGreen:"#20B2AA",LightSkyBlue:"#87CEFA",LightSlateGray:"#778899",LightSlateGrey:"#778899",LightSteelBlue:"#B0C4DE",LightYellow:"#FFFFE0",Lime:"#00FF00",LimeGreen:"#32CD32",Linen:"#FAF0E6",Magenta:"#FF00FF",Maroon:"#800000",MediumAquaMarine:"#66CDAA",MediumBlue:"#0000CD",MediumOrchid:"#BA55D3",MediumPurple:"#9370D8",MediumSeaGreen:"#3CB371",MediumSlateBlue:"#7B68EE",MediumSpringGreen:"#00FA9A",MediumTurquoise:"#48D1CC",MediumVioletRed:"#C71585",MidnightBlue:"#191970",MintCream:"#F5FFFA",MistyRose:"#FFE4E1",Moccasin:"#FFE4B5",NavajoWhite:"#FFDEAD",Navy:"#000080",OldLace:"#FDF5E6",Olive:"#808000",OliveDrab:"#6B8E23",Orange:"#FFA500",OrangeRed:"#FF4500",Orchid:"#DA70D6",PaleGoldenRod:"#EEE8AA",PaleGreen:"#98FB98",PaleTurquoise:"#AFEEEE",PaleVioletRed:"#D87093",PapayaWhip:"#FFEFD5",PeachPuff:"#FFDAB9",Peru:"#CD853F",Pink:"#FFC0CB",Plum:"#DDA0DD",PowderBlue:"#B0E0E6",Purple:"#800080",Red:"#FF0000",RosyBrown:"#BC8F8F",RoyalBlue:"#4169E1",SaddleBrown:"#8B4513",Salmon:"#FA8072",SandyBrown:"#F4A460",SeaGreen:"#2E8B57",SeaShell:"#FFF5EE",Sienna:"#A0522D",Silver:"#C0C0C0",SkyBlue:"#87CEEB",SlateBlue:"#6A5ACD",SlateGray:"#708090",SlateGrey:"#708090",Snow:"#FFFAFA",SpringGreen:"#00FF7F",SteelBlue:"#4682B4",Tan:"#D2B48C",Teal:"#008080",Thistle:"#D8BFD8",Tomato:"#FF6347",Turquoise:"#40E0D0",Violet:"#EE82EE",Wheat:"#F5DEB3",White:"#FFFFFF",WhiteSmoke:"#F5F5F5",Yellow:"#FFFF00",YellowGreen:"#9ACD32"};function M(e,t){var n=e.red,r=e.green,o=e.blue;void 0===t&&(t=1);var i=X(0,255,n),a=X(0,255,r),l=X(0,255,o),c=j({red:i,green:a,blue:l});return{red:i,green:a,blue:l,hue:c.hue,saturation:c.saturation,lightness:c.lightness,alpha:t}}function V(e,t){var n=e.hue,r=e.saturation,o=e.lightness;void 0===t&&(t=1);var i=X(0,359,n),a=X(0,100,r),l=X(0,100,o),c=F({hue:i,saturation:a,lightness:l});return{red:c.red,green:c.green,blue:c.blue,hue:i,saturation:a,lightness:l,alpha:t}}function B(e,t){var n=e.hue,r=e.saturation,o=e.value;void 0===t&&(t=1);var i=X(0,359,n),a=X(0,100,r),l=X(0,100,o),c=R({hue:i,saturation:a,value:l}),s=c.red,u=c.green,p=c.blue,h=E({hue:i,saturation:a,value:l});return{red:s,green:u,blue:p,hue:h.hue,saturation:h.saturation,lightness:h.lightness,alpha:t}}function T(e,t){var n=e.hue,r=e.whiteness,o=e.blackness;void 0===t&&(t=1);var i=X(0,359,n),a=O({hue:i,whiteness:X(0,100,r),blackness:X(0,100,o)}),l=j(a);return{red:a.red,green:a.green,blue:a.blue,hue:i,saturation:l.saturation,lightness:l.lightness,alpha:t}}function L(e,t){var n=e.cyan,r=e.magenta,o=e.yellow,i=e.black;void 0===t&&(t=1);var a=I({cyan:X(0,100,n),magenta:X(0,100,r),yellow:X(0,100,o),black:X(0,100,i)}),l=a.red,c=a.green,s=a.blue,u=j({red:l,green:c,blue:s});return{red:l,green:c,blue:s,hue:u.hue,saturation:u.saturation,lightness:u.lightness,alpha:t}}function G(e){if(!/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e))return null;var t=k(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r,o){return"#"+t+t+n+n+r+r+o+o})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)})),4),n=t[0],r=t[1],o=t[2],i=t[3],a=void 0===i?100:i,l=j({red:n,green:r,blue:o});return{red:n,green:r,blue:o,hue:l.hue,saturation:l.saturation,lightness:l.lightness,alpha:a/100}}function N(e){var t=/\((.*)\)/,n=function(e,t,n,r){var o;return void 0===r&&(r=!0),X(t,n,o=(e=e.replace(" ","")).includes("%")&&r?Number(e.replace("%","")):(o=Number(e))<1&&r?100*o:o)};if((e=e.toLowerCase().replace(/^\s+|\s+$/g,"")).startsWith("rgb")){if(!(y=e.match(t)))return;if((w=y[1].split(",")).length<3||w.length>4)return;var r=k(w.map((function(e,t){return n(e,0,t<3?255:1,!1)})),4),o=r[0],i=r[1],a=r[2],l=r[3];return M({red:o,green:i,blue:a},void 0===l?1:l)}if(e.startsWith("hsl")){if(!(y=e.match(t)))return;if((w=y[1].split(",")).length<3||w.length>4)return;var c=k(w,4),s=c[0],u=c[1],p=c[2],h=c[3],d=void 0===h?"1":h;return V({hue:n(s,0,359,!1),saturation:n(u,0,100),lightness:n(p,0,100)},n(d,0,1))}if(e.startsWith("hsv")){if(!(y=e.match(t)))return;if((w=y[1].split(",")).length<3||w.length>4)return;var m=k(w,4),f=(s=m[0],u=m[1],m[2]),g=m[3];d=void 0===g?"1":g;return B({hue:n(s,0,359,!1),saturation:n(u,0,100),value:n(f,0,100)},n(d,0,1))}if(e.startsWith("hwb")){if(!(y=e.match(t)))return;if((w=y[1].split(",")).length<3||w.length>4)return;var _=k(w,4),v=(s=_[0],_[1]),b=_[2],C=_[3];d=void 0===C?"1":C;return T({hue:n(s,0,359,!1),whiteness:n(v,0,100),blackness:n(b,0,100)},n(d,0,1))}if(e.startsWith("cmyk")){var y,w;if(!(y=e.match(t)))return;if((w=y[1].split(",")).length<4||w.length>5)return;var j=k(w,5),x=j[0],P=j[1],S=j[2],F=j[3],A=j[4];d=void 0===A?"1":A;return L({cyan:n(x,0,100),magenta:n(P,0,100),yellow:n(S,0,100),black:n(F,0,100)},n(d,0,1))}var E=G(e);if(E)return E;var R=Object.keys(D).find((function(t){return t.toLowerCase()===e.toLowerCase()}));return R?G(D[R]):null}function z(e,t){e=100*J(e);var n=100-t.lightness==5?0:(100-t.lightness)%10,r=t.lightness+e+n;return V({hue:t.hue,saturation:t.saturation,lightness:r})}function W(e){for(var t=Q(e),n=[],r=[50,100,200,300,400,500,600,700,800,900],o=0;o<r.length;){var i=(t-r[o])/10,a={title:""+r[o],color:i?z(i,e):e,active:r[o]===t};n.push(a),o++}return n}function H(e){return Z(180,e)}function U(e){return[Z(60,e),Z(210,e)]}function q(e){return[Z(30,e),Z(-30,e)]}function Y(e){return[Z(120,e),Z(-120,e)]}function K(e){return[Z(30,e),Z(180,e),Z(210,e)]}function Z(e,t){return V({hue:(t.hue+360+e)%360,saturation:t.saturation,lightness:t.lightness})}function Q(e){var t=100-e.lightness;return t<=5?50:t>=90?900:t=100*Math.trunc(t/10)}function X(e,t,n){return Math.max(Math.min(n,t),e)}function J(e){return(e=Math.max(Math.min(e,100),-100))<-1||e>1?Math.trunc(e)/100:e}var $=function(){function e(){}return e.prototype.isColorInstance=function(e){return e&&void 0!==e.red&&void 0!==e.green&&void 0!==e.blue&&void 0!==e.hue&&void 0!==e.saturation&&void 0!==e.lightness&&void 0!==e.alpha},e.prototype.parse=function(e){return N(e)},e.prototype.deserialize=function(e){if("string"==typeof e)return e?N(e):null},e.prototype.sameColor=function(e,t){if(e&&t){var n=this.isValid(e),r=this.isValid(t);if(n&&r){var o=e.alpha===t.alpha,i=e.hue===t.hue&&e.saturation===t.saturation&&e.lightness===t.lightness;return o&&i&&!this.compareColor(e,t)}return n===r}return e===t},e.prototype.compareColor=function(e,t){var n=(e.red-t.red)/2,r=e.red-t.red,o=e.green-t.green,i=e.blue-t.blue;return Math.sqrt((2+n/256)*Math.pow(r,2)+4*Math.pow(o,2)+(2+(255-r)/256)*Math.pow(i,2))},e.prototype.getValidColorOrNull=function(e){return this.isColorInstance(e)&&this.isValid(e)?e:null},e.prototype.isValid=function(e){return e&&e.red<=255&&e.red>=0&&e.green<=255&&e.green>=0&&e.blue<=255&&e.blue>=0&&e.hue<360&&e.hue>=0&&e.saturation<=100&&e.saturation>=0&&e.lightness<=100&&e.lightness>=0&&e.alpha<=1&&e.alpha>=0},e.prototype.format=function(e,t,n){switch(void 0===n&&(n=!1),t){case"HEX":return this.toHexString(e,n);case"RGB":return this.toRgbString(e,n);case"HSL":return this.toHslString(e,n);case"HWB":return this.toHwbString(e,n);case"CMYK":return this.toCmykString(e)}},e.prototype.toRgbString=function(e,t){void 0===t&&(t=!1);var n=e.red,r=e.green,o=e.blue,i=e.alpha;return t?"rgba("+n+", "+r+", "+o+", "+i+")":"rgb("+n+", "+r+", "+o+")"},e.prototype.toHwbString=function(e,t){void 0===t&&(t=!1);var n=P(e),r=n.hue,o=n.whiteness,i=n.blackness;return t?"hwba("+r+", "+Math.round(100*o)+"%, "+Math.round(100*i)+"%, "+e.alpha+")":"hwb("+r+", "+Math.round(100*o)+"%, "+Math.round(100*i)+"%)"},e.prototype.toHwbStringDecimal=function(e,t){void 0===t&&(t=!1);var n=P(e),r=n.hue,o=n.whiteness,i=n.blackness;return t?"hwba("+r+", "+o+", "+i+", "+e.alpha+")":"hwb("+r+", "+o+", "+i+")"},e.prototype.toHslString=function(e,t){void 0===t&&(t=!1);var n=e.hue,r=e.saturation,o=e.lightness,i=e.alpha;return t?"hsla("+n+", "+r+"%, "+o+"%, "+i+")":"hsl("+n+", "+r+"%, "+o+"%)"},e.prototype.toHslStringDecimal=function(e,t){void 0===t&&(t=!1);var n=e.hue,r=e.saturation,o=e.lightness;e.alpha;return t?"hsla("+n+", "+r+"%, "+o+"%, "+e.alpha+")":"hsl("+n+", "+r+", "+o+", "+e.alpha+")"},e.prototype.toCmykString=function(e){var t=S(e);return"cmyk("+t.cyan+"%, "+t.magenta+"%, "+t.yellow+"%, "+t.black+"%)"},e.prototype.toCmykStringDecimal=function(e){var t=S(e);return"cmyk("+t.cyan+", "+t.magenta+", "+t.yellow+", "+t.black+")"},e.prototype.toHexString=function(e,t){return void 0===t&&(t=!1),"#"+(t?[e.red,e.green,e.blue,100*e.alpha].map((function(e){var t=Math.round(e).toString(16);return 1===t.length?"0"+t:t})).join(""):[e.red,e.green,e.blue].map((function(e){var t=Math.round(e).toString(16);return 1===t.length?"0"+t:t})).join(""))},e}();$.ɵfac=function(e){return new(e||$)},$.ɵprov=t.ɵɵdefineInjectable({token:$,factory:$.ɵfac,providedIn:"root"});var ee={red:0,green:0,blue:0,hue:0,saturation:0,lightness:0,alpha:1};function te(){return{showAlpha:!1,defaultColor:ee,displayFormat:"HEX",defaultPalette:Object.keys(D).map((function(e){return{title:e,color:G(D[e]),active:!1}}))}}var ne=new t.InjectionToken("mnj-color-default-options",{providedIn:"root",factory:te}),re=function(){this.activeColorChange=new t.EventEmitter};re.ɵfac=function(e){return new(e||re)},re.ɵdir=t.ɵɵdefineDirective({type:re});var oe=function(){function e(e){this._colorAdapter=e,this.activeColorChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"activeColor",{get:function(){return this._activeColor},set:function(e){var t=this._activeColor;this._colorAdapter.isValid(e)&&!this._colorAdapter.sameColor(t,e)&&(this._activeColor=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._colorAdapter.sameColor(this.selected,e)||(this._selected=this._colorAdapter.getValidColorOrNull(e))},enumerable:!1,configurable:!0}),e.prototype.changeColor=function(e){this.activeColor=e,this.activeColorChange.emit(this.activeColor)},e}();function ie(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",4),t.ɵɵelement(1,"div",5),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext(2);t.ɵɵstyleMap(r.thumbSize())}}function ae(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"li",2),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(r);var e=n.$implicit;return t.ɵɵnextContext().selectColor(e)})),t.ɵɵtemplate(1,ie,2,2,"div",3),t.ɵɵelementEnd()}if(2&e){var o=n.$implicit,i=t.ɵɵnextContext();t.ɵɵstyleMap(i.cellSize()),t.ɵɵstyleProp("background",i.cssColor(o.color)),t.ɵɵproperty("title",o.title),t.ɵɵattribute("tabIndex",o.active?0:-1)("aria-label",o.title)("aria-selected",o.active),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.active)}}oe.ɵfac=function(e){return new(e||oe)(t.ɵɵdirectiveInject($))},oe.ɵdir=t.ɵɵdefineDirective({type:oe,inputs:{activeColor:"activeColor",selected:"selected"},outputs:{activeColorChange:"activeColorChange"}});var le=function(){function e(e,n,r){this.colorAdapter=e,this._elementRef=n,this._changeDetectorRef=r,this.colorSelected=new t.EventEmitter,this.grid=[]}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this.colorAdapter.sameColor(this.color,e)||(this._color=e,this._buildPalette())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paletteGeneratorFn",{get:function(){return this._paletteGeneratorFn},set:function(e){this._paletteGeneratorFn=e,this._buildPalette()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._columns||10},set:function(e){e=n.coerceNumberProperty(e),this._columns!==e&&(this._columns=e,this._calculateCellSize())},enumerable:!1,configurable:!0}),e.prototype.cssColor=function(e){return this.colorAdapter.toRgbString(e)},e.prototype.cellSize=function(){return{width:this._cellSize+"px",height:this._cellSize+"px"}},e.prototype.thumbSize=function(){return{width:this._thumbSize+"px",height:this._thumbSize+"px"}},e.prototype.gridStyle=function(){return{gridTemplateColumns:"repeat("+this.columns+", auto)",gridGap:.25*this._cellSize+"px",padding:.25*this._cellSize/2+"px 0px"}},e.prototype.ngAfterViewInit=function(){this._calculateCellSize(),this._changeDetectorRef.markForCheck()},e.prototype._buildPalette=function(){this.paletteGeneratorFn&&this.color&&(this.grid=this.paletteGeneratorFn(this.color),this._selectedIndex=this.grid.findIndex((function(e){return e.active})),this._calculateCellSize(),this._changeDetectorRef.markForCheck())},e.prototype._calculateCellSize=function(){if(this._elementRef){var e=this._elementRef.nativeElement.getBoundingClientRect().width,t=this.columns+.25*this.columns+1,n=Math.trunc(e/t);this._cellSize=n%2==0?n:n-1;var r=Math.trunc(.67*this._cellSize);this._thumbSize=r%2==0?r:r-1}},e.prototype.selectColor=function(e){var t=e.color;this.colorSelected.emit(t)},e.prototype._handleKeydownEvent=function(e){var t=this.grid,n=this._selectedIndex;switch(e.keyCode){case r.LEFT_ARROW:n--;break;case r.RIGHT_ARROW:n++;break;case r.UP_ARROW:n-=this.columns;break;case r.DOWN_ARROW:n+=this.columns;break;case r.PAGE_UP:case r.HOME:n=0;break;case r.PAGE_DOWN:case r.END:n=t.length-1;break;case r.SPACE:return e.preventDefault(),void this.selectColor(t[n]);default:return}n=X(0,t.length-1,n);var o=Array.from(this._elementRef.nativeElement.querySelectorAll(".mnj-grid-selector__row--cell"));n!==this._selectedIndex&&(o[n].focus(),this._selectedIndex=n)},e}();le.ɵfac=function(e){return new(e||le)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},le.ɵcmp=t.ɵɵdefineComponent({type:le,selectors:[["mnj-grid-selector"]],hostAttrs:["role","grid",1,"mnj-grid-selector"],hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n._handleKeydownEvent(e)}))},inputs:{color:"color",paletteGeneratorFn:"paletteGeneratorFn",columns:"columns"},outputs:{colorSelected:"colorSelected"},exportAs:["mnjGridSelector"],decls:2,vars:3,consts:[[1,"mnj-grid-selector__row"],["class","mnj-grid-selector__row--cell",3,"title","background","style","click",4,"ngFor","ngForOf"],[1,"mnj-grid-selector__row--cell",3,"title","click"],["class","mnj-colorpicker-selector__thumb",3,"style",4,"ngIf"],[1,"mnj-colorpicker-selector__thumb"],[1,"mnj-colorpicker-selector__thumb__inner"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ul",0),t.ɵɵtemplate(1,ae,2,9,"li",1),t.ɵɵelementEnd()),2&e&&(t.ɵɵstyleMap(n.gridStyle()),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",n.grid))},directives:[i.NgForOf,i.NgIf],styles:[".mnj-grid-selector{display:block;margin:2px 0 12px}.mnj-grid-selector__row{display:-ms-grid;display:grid;justify-content:space-evenly;list-style:none;margin:0}.mnj-grid-selector__row--cell{align-items:center;border-radius:100%;cursor:pointer;display:flex;justify-content:center}.mnj-grid-selector__row--cell:focus,.mnj-grid-selector__row--cell:hover{outline:none;transform:scale(1.5);z-index:1}.mnj-grid-selector .mnj-colorpicker-selector__thumb{position:relative;transform:none}.mnj-grid-selector .mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__inner{position:relative}.mnj-grid-selector .mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__inner:after{border:none;position:relative}"],encapsulation:2,changeDetection:0});var ce=function(e){function t(t){var n=e.call(this,t)||this;return n._colorAdapter=t,n.complementaryPaletteFn=function(e){return W(H(e))},n.splitComplementaryPaletteFn=function(e){return W(U(e)[0])},n.splitComplementaryPaletteFn1=function(e){return W(U(e)[1])},n.analogous1PaletteFn=function(e){return W(q(e)[0])},n.analogous2PaletteFn=function(e){return W(q(e)[1])},n.triadic1PaletteFn=function(e){return W(Y(e)[0])},n.triadic2PaletteFn=function(e){return W(Y(e)[1])},n.tetradic1PaletteFn=function(e){return W(K(e)[0])},n.tetradic2PaletteFn=function(e){return W(K(e)[1])},n.tetradic3PaletteFn=function(e){return W(K(e)[2])},n}return w(t,e),t}(oe);function se(e){var t=e instanceof MouseEvent?e:e.touches[0];return{x:t.clientX,y:t.clientY}}function ue(e,t){return!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function pe(e){var t=n.coerceElement(e).getBoundingClientRect();return{top:t.top,left:t.left,right:t.right,bottom:t.bottom,width:t.width,height:t.height}}function he(e,t){var n=(e.x-t.left)/t.width,r=(e.y-t.top)/t.height;return{x:X(0,1,n),y:X(0,1,r)}}ce.ɵfac=function(e){return new(e||ce)(t.ɵɵdirectiveInject($))},ce.ɵcmp=t.ɵɵdefineComponent({type:ce,selectors:[["mnj-armonies-picker-view"]],hostAttrs:[1,"mnj-armonies-picker-view"],exportAs:["mnjArmoniesPickerView"],features:[t.ɵɵProvidersFeature([{provide:re,useExisting:ce}]),t.ɵɵInheritDefinitionFeature],decls:20,vars:20,consts:[[3,"color","paletteGeneratorFn","colorSelected"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"label"),t.ɵɵtext(1,"Complementary:"),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"label"),t.ɵɵtext(4,"Split Complementary:"),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"label"),t.ɵɵtext(8,"Analogous:"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"label"),t.ɵɵtext(12,"Triadic:"),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(15,"label"),t.ɵɵtext(16,"Tetradic:"),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(19,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.complementaryPaletteFn),t.ɵɵadvance(3),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.splitComplementaryPaletteFn),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.splitComplementaryPaletteFn1),t.ɵɵadvance(3),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.analogous1PaletteFn),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.analogous2PaletteFn),t.ɵɵadvance(3),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.triadic1PaletteFn),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.triadic2PaletteFn),t.ɵɵadvance(3),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.tetradic1PaletteFn),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.tetradic2PaletteFn),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.tetradic3PaletteFn))},directives:[le],styles:[".mnj-armonies-picker-view{display:flex;flex-flow:column}.mnj-armonies-picker-view label{margin-bottom:10px;margin-top:10px}.mnj-armonies-picker-view .mnj-grid-selector__row--cell{height:20px;width:20px}.mnj-armonies-picker-view .mnj-grid-selector__thumb{height:16px;width:16px}"],encapsulation:2,changeDetection:0});var de=a.normalizePassiveListenerOptions({passive:!0}),me=a.normalizePassiveListenerOptions({passive:!1}),fe=a.normalizePassiveListenerOptions({passive:!1,capture:!0}),ge=function(){function e(e,t,n,r,o){var i=this;this.colorAdapter=e,this._document=t,this._ngZone=n,this._elementRef=r,this._dir=o,this.thumbPosition={x:0,y:0},this._globalListeners=new Map,this._clearGlobalListeners=function(){i._globalListeners.forEach((function(e,t){i._document.removeEventListener(t,e.handler,e.options)})),i._globalListeners.clear()},this._pointerDown=function(e){var t=se(e);if(!ue(i.cachedPointerPos,t)){i.cachedContainerSize=pe(i._elementRef),i.cachedPointerPos=t,i.calculateColorFromPosition(i.cachedContainerSize,t);var n=e.type.startsWith("touch"),r=n?"touchmove":"mousemove",o=n?"touchend":"mouseup";i._clearGlobalListeners(),i._globalListeners.set(r,{handler:i.pointerMove,options:fe}).set(o,{handler:i._clearGlobalListeners,options:!0}),i.addGlobalListeners()}},this.pointerMove=function(e){var t=se(e);ue(i.cachedPointerPos,t)||(i.cachedPointerPos=t,i.calculateColorFromPosition(i.cachedContainerSize,t))}}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this.colorAdapter.sameColor(this._color,e)||(this._color=e,this._setColor(e))},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.attachListeners(),this.cachedContainerSize=pe(this._elementRef),this._setColor(this.color)},e.prototype.ngOnDestroy=function(){this._clearGlobalListeners()},e.prototype.attachListeners=function(){var e=this,t=n.coerceElement(this._elementRef);this._ngZone.runOutsideAngular((function(){t.addEventListener("mousedown",e._pointerDown,me),t.addEventListener("touchstart",e._pointerDown,de)}))},e.prototype.addGlobalListeners=function(){var e=this;this._ngZone.runOutsideAngular((function(){e._globalListeners.forEach((function(t,n){e._document.addEventListener(n,t.handler,t.options)}))}))},e.prototype._isRtl=function(){return this._dir&&"rtl"===this._dir.value},e}();ge.ɵfac=function(e){return new(e||ge)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(i.DOCUMENT),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(l.Directionality))},ge.ɵdir=t.ɵɵdefineDirective({type:ge,inputs:{color:"color"}});var _e=function(e){function n(n,r,o,i,a,l){var c=e.call(this,n,r,o,i,l)||this;return c.colorAdapter=n,c._document=r,c._ngZone=o,c._elementRef=i,c._changeDetectorRef=a,c._dir=l,c.satChange=new t.EventEmitter,c}return w(n,e),Object.defineProperty(n.prototype,"satThumbPos",{get:function(){return{left:this.thumbPosition.x+"%",top:this.thumbPosition.y+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"satBackgroundColor",{get:function(){return{"background-color":"hsl("+this.color.hue+", 100%, 50%)"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"satThumbBackgroundColor",{get:function(){return{"background-color":this.colorAdapter.format(this.color,"RGB")}},enumerable:!1,configurable:!0}),n.prototype._setColor=function(e){if(this._elementRef){var t=A(e),n=t.saturation,r=t.value,o=X(0,100,n),i=X(0,100,100-r);this._isRtl()&&(o=100-o),this.thumbPosition={x:o,y:i}}this._changeDetectorRef.markForCheck()},n.prototype.calculateColorFromPosition=function(e,t){var n=this;this._ngZone.run((function(){var r=he(t,e),o=100*r.x,i=100*r.y;n._isRtl()&&(o=100-o),n.thumbPosition={x:o,y:i};var a=Math.round(o)||0,l=Math.round(100-i)||0;a=X(0,100,a),l=X(0,100,l);var c=B({hue:n.color.hue,saturation:a,value:l});n.satChange.emit(c)}))},n.prototype._handleKeydownEvent=function(e){var t=this.color,n=t.hue,o=t.saturation,i=t.lightness,a=this._isRtl(),l=o,c=i;switch(e.keyCode){case r.UP_ARROW:c++;break;case r.LEFT_ARROW:l+=a?1:-1;break;case r.DOWN_ARROW:c--;break;case r.RIGHT_ARROW:l+=a?-1:1;break;case r.PAGE_UP:c-=10;break;case r.PAGE_DOWN:c+=10;break;case r.HOME:l=0,c=0;break;case r.END:l=100,c=50;break;default:return}var s=V({hue:n,saturation:l=X(0,100,l),lightness:c=X(0,100,c)});this.satChange.emit(s)},n}(ge);_e.ɵfac=function(e){return new(e||_e)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(i.DOCUMENT),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(l.Directionality))},_e.ɵcmp=t.ɵɵdefineComponent({type:_e,selectors:[["mnj-saturation-selector"]],hostAttrs:[1,"mnj-colorpicker-selector","mnj-saturation-selector"],hostVars:3,hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n._handleKeydownEvent(e)})),2&e&&(t.ɵɵattribute("tabindex",0),t.ɵɵclassProp("mnj-saturation-selector--rtl",n._isRtl()))},outputs:{satChange:"satChange"},features:[t.ɵɵProvidersFeature([{provide:ge,useExisting:_e}]),t.ɵɵInheritDefinitionFeature],decls:6,vars:3,consts:[[1,"mnj-saturation-selector__mask"],[1,"mnj-saturation-selector__mask--fill",3,"ngStyle"],[1,"mnj-saturation-selector__mask--saturation"],[1,"mnj-saturation-selector__mask--value"],[1,"mnj-colorpicker-selector__thumb",3,"ngStyle"],[1,"mnj-colorpicker-selector__thumb__inner",3,"ngStyle"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelement(1,"div",1),t.ɵɵelement(2,"div",2),t.ɵɵelement(3,"div",3),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",4),t.ɵɵelement(5,"div",5),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngStyle",n.satBackgroundColor),t.ɵɵadvance(3),t.ɵɵproperty("ngStyle",n.satThumbPos),t.ɵɵadvance(1),t.ɵɵproperty("ngStyle",n.satThumbBackgroundColor))},directives:[i.NgStyle],styles:[".mnj-saturation-selector{min-height:80px}.mnj-saturation-selector__mask{border-radius:2px;height:100%;overflow:hidden;position:relative;width:100%}.mnj-saturation-selector__mask--fill,.mnj-saturation-selector__mask--saturation,.mnj-saturation-selector__mask--value{height:100%;position:absolute;width:100%}.mnj-saturation-selector__mask--saturation{background-image:linear-gradient(90deg,#fff,transparent)}.mnj-saturation-selector__mask--value{background-image:linear-gradient(0deg,#000,transparent)}.mnj-saturation-selector__mask--rtl .mnj-saturation-selector__mask--saturation{background-image:linear-gradient(270deg,#fff,transparent)}",'.mnj-colorpicker-selector{border-radius:2px;cursor:pointer;display:block;height:8px;margin:2px 0 12px;position:relative}.mnj-colorpicker-selector:focus{outline:none}.mnj-colorpicker-selector__thumb{border:2px solid;border-radius:100%;box-sizing:border-box;height:18px;pointer-events:none;position:absolute;transform:translate(-50%,-50%);width:18px}.mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__thumb__inner{border:2px solid;border-radius:100%;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;top:0;transition:box-shadow .4s cubic-bezier(.25,.8,.25,1);width:100%}.mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__thumb__inner:after{border:1px solid;border-radius:100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%}'],encapsulation:2,changeDetection:0});var ve=function(e){function n(n,r,o,i,a,l){var c=e.call(this,n,r,o,i,l)||this;return c.colorAdapter=n,c._document=r,c._ngZone=o,c._elementRef=i,c._changeDetectorRef=a,c._dir=l,c.hueChange=new t.EventEmitter,c}return w(n,e),Object.defineProperty(n.prototype,"hueThumbPos",{get:function(){return{left:this.thumbPosition.x+"%",top:"50%"}},enumerable:!1,configurable:!0}),n.prototype._setColor=function(e){if(this._elementRef){var t=X(0,100,(e.hue||0)/360*100);this._isRtl()&&(t=100-t),this.thumbPosition={x:t,y:50}}this._changeDetectorRef.markForCheck()},n.prototype.calculateColorFromPosition=function(e,t){var n=this;this._ngZone.run((function(){var r=he(t,e).x,o=Math.round(100*r);n._isRtl()&&(o=100-o),n.thumbPosition={x:o,y:50};var i=Math.round(360*r);i=X(0,359,i);var a=n.color,l=V({hue:i,saturation:a.saturation,lightness:a.lightness});n.hueChange.emit(l)}))},n.prototype._handleKeydownEvent=function(e){var t=this.color,n=t.hue,o=t.saturation,i=t.lightness,a=t.alpha,l=this._isRtl(),c=n;switch(e.keyCode){case r.UP_ARROW:case r.LEFT_ARROW:c+=l?1:-1;break;case r.DOWN_ARROW:case r.RIGHT_ARROW:c+=l?-1:1;break;case r.HOME:c=0;break;case r.END:c=359;break;case r.PAGE_UP:c+=l?60:-60;break;case r.PAGE_DOWN:c+=l?-60:60;break;default:return}var s=V({hue:c=(c+360)%360,saturation:o,lightness:i},a);this.hueChange.emit(s)},n}(ge);ve.ɵfac=function(e){return new(e||ve)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(i.DOCUMENT),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(l.Directionality))},ve.ɵcmp=t.ɵɵdefineComponent({type:ve,selectors:[["mnj-hue-selector"]],hostAttrs:[1,"mnj-colorpicker-selector","mnj-hue-selector"],hostVars:1,hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n._handleKeydownEvent(e)})),2&e&&t.ɵɵattribute("tabindex",0)},outputs:{hueChange:"hueChange"},features:[t.ɵɵProvidersFeature([{provide:ge,useExisting:ve}]),t.ɵɵInheritDefinitionFeature],decls:2,vars:1,consts:[[1,"mnj-colorpicker-selector__thumb",3,"ngStyle"],[1,"mnj-colorpicker-selector__thumb__inner"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelement(1,"div",1),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngStyle",n.hueThumbPos)},directives:[i.NgStyle],styles:[".mnj-hue-selector{background:linear-gradient(90deg,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}",'.mnj-colorpicker-selector{border-radius:2px;cursor:pointer;display:block;height:8px;margin:2px 0 12px;position:relative}.mnj-colorpicker-selector:focus{outline:none}.mnj-colorpicker-selector__thumb{border:2px solid;border-radius:100%;box-sizing:border-box;height:18px;pointer-events:none;position:absolute;transform:translate(-50%,-50%);width:18px}.mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__thumb__inner{border:2px solid;border-radius:100%;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;top:0;transition:box-shadow .4s cubic-bezier(.25,.8,.25,1);width:100%}.mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__thumb__inner:after{border:1px solid;border-radius:100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%}'],encapsulation:2,changeDetection:0});var be=function(){function e(e){this.colorAdapter=e}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this.colorAdapter.sameColor(this.color,e)||(this._color=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cssBackground",{get:function(){return this.colorAdapter.toRgbString(this.color,!0)},enumerable:!1,configurable:!0}),e}();be.ɵfac=function(e){return new(e||be)(t.ɵɵdirectiveInject($))},be.ɵcmp=t.ɵɵdefineComponent({type:be,selectors:[["mnj-preview-swatch"]],hostAttrs:[1,"mnj-preview-swatch"],inputs:{color:"color"},decls:3,vars:2,consts:[[1,"swatch__container"],[1,"swatch__container--alpha-layer"],[1,"swatch__container--color-layer"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelement(1,"div",1),t.ɵɵelement(2,"div",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵstyleProp("background",n.cssBackground))},styles:['.mnj-preview-swatch .swatch__container{cursor:default}.mnj-preview-swatch .swatch__container,.mnj-preview-swatch .swatch__container--alpha-layer,.mnj-preview-swatch .swatch__container--color-layer{border-radius:50%;height:24px;width:24px}.mnj-preview-swatch .swatch__container--alpha-layer{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAI0lEQVQoU2PcvXv3TAYk4Orqmo7MZ6SDAmT7QGx0KxlprwAAw9kbMStVZ6AAAAAASUVORK5CYII=") repeat;background-position:0 0}.mnj-preview-swatch .swatch__container--color-layer{transform:translateY(-24px)}'],encapsulation:2,changeDetection:0});var Ce=["colorInput"],ye=function(){function e(e){this.colorAdapter=e,this._colorFormat="HEX",this.inputChange=new t.EventEmitter,this._formats=["HEX","RGB","HSL","HWB","CMYK"],this._selectedIndex=0}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this.colorAdapter.sameColor(this.color,e)||(this._color=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorFormat",{set:function(e){e!==this._colorFormat&&(this._colorFormat=e,this._selectedIndex=this._formats.indexOf(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorString",{get:function(){return this.colorAdapter.format(this.color,this._colorFormat,1!==this.color.alpha)},enumerable:!1,configurable:!0}),e.prototype.changeColor=function(e){var t=e.target.value,n=this.colorAdapter.parse(t);this.colorAdapter.isValid(n)&&this.inputChange.emit(n)},e.prototype.nextFormat=function(){this._selectedIndex=(this._selectedIndex+this._formats.length+1)%this._formats.length,this.colorFormat=this._formats[this._selectedIndex]},e.prototype.previousFormat=function(){this._selectedIndex=(this._selectedIndex+this._formats.length-1)%this._formats.length,this.colorFormat=this._formats[this._selectedIndex]},e.prototype._handleKeydownEvent=function(e){switch(e.keyCode){case r.UP_ARROW:case r.LEFT_ARROW:this.previousFormat();break;case r.DOWN_ARROW:case r.RIGHT_ARROW:this.nextFormat();break;default:return}},e}();ye.ɵfac=function(e){return new(e||ye)(t.ɵɵdirectiveInject($))},ye.ɵcmp=t.ɵɵdefineComponent({type:ye,selectors:[["mnj-input-selector"]],viewQuery:function(e,n){var r;(1&e&&t.ɵɵviewQuery(Ce,!0),2&e)&&(t.ɵɵqueryRefresh(r=t.ɵɵloadQuery())&&(n.colorInput=r.first))},hostAttrs:[1,"mnj-input-selector"],hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n._handleKeydownEvent(e)}))},inputs:{color:"color",colorFormat:"colorFormat"},outputs:{inputChange:"inputChange"},decls:6,vars:1,consts:[[1,"mnj-input-selector__container"],["type","text","autocorrect","off","autocomplete","off","spellcheck","false","aria-label","Color code",1,"color-input",3,"value","change"],["colorInput",""],[1,"mnj-input-selector__container__switch-buttons"],[1,"switch-buttons--prev",3,"click"],[1,"switch-buttons--next",3,"click"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"input",1,2),t.ɵɵlistener("change",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",3),t.ɵɵelementStart(4,"span",4),t.ɵɵlistener("click",(function(){return n.previousFormat()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"span",5),t.ɵɵlistener("click",(function(){return n.nextFormat()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("value",n.colorString))},styles:['.mnj-input-selector{width:100%}.mnj-input-selector__container{display:flex;grid-gap:5px}.mnj-input-selector__container .color-input{border:none;border-bottom:1px solid;flex:1 0 auto;font-size:inherit;height:24px;padding:6px 8px;text-transform:uppercase}.mnj-input-selector__container .color-input:focus{border-bottom:1px solid;outline:none}.mnj-input-selector__container__switch-buttons{display:flex;flex-flow:column nowrap}.mnj-input-selector__container__switch-buttons .switch-buttons--next,.mnj-input-selector__container__switch-buttons .switch-buttons--prev{height:10px;position:relative;width:10px}.mnj-input-selector__container__switch-buttons .switch-buttons--next:after,.mnj-input-selector__container__switch-buttons .switch-buttons--prev:after{border:solid;border-width:2px 0 0;bottom:0;content:"";left:0;position:absolute;right:0;top:0}[dir=rtl] .mnj-input-selector__container__switch-buttons .switch-buttons--next,[dir=rtl] .mnj-input-selector__container__switch-buttons .switch-buttons--prev{transform:rotate(180deg)}.mnj-input-selector__container__switch-buttons .switch-buttons--prev:after{border-left-width:2px;transform:translateY(4px) rotate(45deg)}.mnj-input-selector__container__switch-buttons .switch-buttons--next:after{border-right-width:2px;transform:translateY(4px) rotate(135deg)}'],encapsulation:2,changeDetection:0});var we=function(e){function n(n,r,o,i,a,l){var c=e.call(this,n,r,o,i,l)||this;return c.colorAdapter=n,c._document=r,c._ngZone=o,c._elementRef=i,c._changeDetectorRef=a,c._dir=l,c.alphaChange=new t.EventEmitter,c}return w(n,e),Object.defineProperty(n.prototype,"alphaThumbPos",{get:function(){return{left:this.thumbPosition.x+"%",top:"50%"}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"gradient",{get:function(){var e=this.color,t=e.red,n=e.green,r=e.blue;return{backgroundImage:"linear-gradient("+(this._isRtl()?"to left":"to right")+", rgba("+t+", "+n+", "+r+", 0) 0%, rgb("+t+", "+n+", "+r+") 100%)"}},enumerable:!1,configurable:!0}),n.prototype._setColor=function(e){if(this._elementRef){var t=X(0,100,100*e.alpha);this._isRtl()&&(t=100-t),this.thumbPosition={x:t,y:50}}this._changeDetectorRef.markForCheck()},n.prototype.calculateColorFromPosition=function(e,t){var n=this;this._ngZone.run((function(){var r=he(t,e).x,o=Math.round(100*r);n._isRtl()&&(o=100-o),n.thumbPosition={x:o,y:50};var i=Math.round(o)/100,a=Object.assign({},n.color);a.alpha=i,n.alphaChange.emit(a)}))},n.prototype._handleKeydownEvent=function(e){var t=this.color.alpha,n=this._isRtl(),o=t;switch(e.keyCode){case r.UP_ARROW:case r.LEFT_ARROW:o+=n?.01:-.01;break;case r.DOWN_ARROW:case r.RIGHT_ARROW:o+=n?-.01:.01;break;case r.HOME:o=0;break;case r.END:o=1;break;case r.PAGE_UP:o+=n?.1:-.1;break;case r.PAGE_DOWN:o+=n?-.1:.1;break;default:return}o=X(0,1,o);var i=Object.assign(Object.assign({},this.color),{alpha:o});this.alphaChange.emit(i)},n}(ge);function ke(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mnj-alpha-selector",7),t.ɵɵlistener("alphaChange",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().changeColor(e)})),t.ɵɵelementEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("color",o.activeColor)}}we.ɵfac=function(e){return new(e||we)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(i.DOCUMENT),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(l.Directionality))},we.ɵcmp=t.ɵɵdefineComponent({type:we,selectors:[["mnj-alpha-selector"]],hostAttrs:[1,"mnj-colorpicker-selector","mnj-alpha-selector"],hostVars:1,hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n._handleKeydownEvent(e)})),2&e&&t.ɵɵattribute("tabindex",0)},outputs:{alphaChange:"alphaChange"},features:[t.ɵɵProvidersFeature([{provide:ge,useExisting:we}]),t.ɵɵInheritDefinitionFeature],decls:3,vars:2,consts:[[1,"mnj-alpha-selector__gradient",3,"ngStyle"],[1,"mnj-colorpicker-selector__thumb",3,"ngStyle"],[1,"mnj-colorpicker-selector__thumb__inner"]],template:function(e,n){1&e&&(t.ɵɵelement(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelement(2,"div",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("ngStyle",n.gradient),t.ɵɵadvance(1),t.ɵɵproperty("ngStyle",n.alphaThumbPos))},directives:[i.NgStyle],styles:['.mnj-alpha-selector{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAI0lEQVQoU2PcvXv3TAYk4Orqmo7MZ6SDAmT7QGx0KxlprwAAw9kbMStVZ6AAAAAASUVORK5CYII=") repeat 0}.mnj-alpha-selector__gradient{border-radius:2px;height:100%}','.mnj-colorpicker-selector{border-radius:2px;cursor:pointer;display:block;height:8px;margin:2px 0 12px;position:relative}.mnj-colorpicker-selector:focus{outline:none}.mnj-colorpicker-selector__thumb{border:2px solid;border-radius:100%;box-sizing:border-box;height:18px;pointer-events:none;position:absolute;transform:translate(-50%,-50%);width:18px}.mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__thumb__inner{border:2px solid;border-radius:100%;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;top:0;transition:box-shadow .4s cubic-bezier(.25,.8,.25,1);width:100%}.mnj-colorpicker-selector__thumb .mnj-colorpicker-selector__thumb__inner:after{border:1px solid;border-radius:100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%}'],encapsulation:2,changeDetection:0});var je=function(e){function t(t){var n=e.call(this,t)||this;return n._colorAdapter=t,n.colorShadesFn=function(e){return W(e)},n}return w(t,e),t}(oe);je.ɵfac=function(e){return new(e||je)(t.ɵɵdirectiveInject($))},je.ɵcmp=t.ɵɵdefineComponent({type:je,selectors:[["mnj-chrome-picker-view"]],hostAttrs:[1,"mnj-chrome-picker-view"],inputs:{showAlpha:"showAlpha"},exportAs:["mnjChromePickerView"],features:[t.ɵɵProvidersFeature([{provide:re,useExisting:je}]),t.ɵɵInheritDefinitionFeature],decls:7,vars:7,consts:[["cdkFocusInitial","",3,"color","paletteGeneratorFn","colorSelected"],[3,"color","satChange"],[3,"color","hueChange"],[3,"color","alphaChange",4,"ngIf"],[1,"controls-container"],[3,"color"],[1,"controls-container--input",3,"color","inputChange"],[3,"color","alphaChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(1,"mnj-saturation-selector",1),t.ɵɵlistener("satChange",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"mnj-hue-selector",2),t.ɵɵlistener("hueChange",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵtemplate(3,ke,1,1,"mnj-alpha-selector",3),t.ɵɵelementStart(4,"div",4),t.ɵɵelement(5,"mnj-preview-swatch",5),t.ɵɵelementStart(6,"mnj-input-selector",6),t.ɵɵlistener("inputChange",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.colorShadesFn),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showAlpha),t.ɵɵadvance(2),t.ɵɵproperty("color",n.activeColor),t.ɵɵadvance(1),t.ɵɵproperty("color",n.activeColor))},directives:[le,_e,ve,i.NgIf,be,ye,we],styles:[".mnj-chrome-picker-view .controls-container{display:flex}.mnj-chrome-picker-view .controls-container--input{flex:1;margin-left:15px}.mnj-chrome-picker-view{display:flex;flex-direction:column;height:100%}.mnj-chrome-picker-view .mnj-saturation-selector{flex:1 0 auto}"],encapsulation:2,changeDetection:0});var xe=function(){function e(e){var n=this;this._colorAdapter=e,this.paletteFn=function(){return n.palette},this.activeColorChange=new t.EventEmitter}return Object.defineProperty(e.prototype,"activeColor",{get:function(){return this._activeColor},set:function(e){var t=this._activeColor;this._colorAdapter.isValid(e)&&!this._colorAdapter.sameColor(t,e)&&(this._activeColor=e,this._selectColorInPalette())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._colorAdapter.sameColor(this.selected,e)||(this._selected=this._colorAdapter.getValidColorOrNull(e),this._selectColorInPalette())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette},set:function(e){this._palette=e,this._selectColorInPalette()},enumerable:!1,configurable:!0}),e.prototype.changeColor=function(e){this.activeColor=e,this.activeColorChange.emit(this.activeColor)},e.prototype._selectColorInPalette=function(){var e=this;if(this.palette&&this.activeColor){var t=this.palette.findIndex((function(e){return!0===e.active}));t>=0&&(this._palette[t].active=!1);var n=this.palette.findIndex((function(t){return e._colorAdapter.sameColor(t.color,e.activeColor)}));n=Math.max(0,n),this._palette[n].active=!0}},e}();xe.ɵfac=function(e){return new(e||xe)(t.ɵɵdirectiveInject($))},xe.ɵcmp=t.ɵɵdefineComponent({type:xe,selectors:[["mnj-palette-picker-view"]],hostAttrs:[1,"mnj-palette-picker-view"],inputs:{activeColor:"activeColor",selected:"selected",palette:"palette"},outputs:{activeColorChange:"activeColorChange"},exportAs:["mnjPalettePickerView"],features:[t.ɵɵProvidersFeature([{provide:re,useExisting:xe}])],decls:1,vars:2,consts:[["columns","6",3,"color","paletteGeneratorFn","colorSelected"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"mnj-grid-selector",0),t.ɵɵlistener("colorSelected",(function(e){return n.changeColor(e)})),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("color",n.activeColor)("paletteGeneratorFn",n.paletteFn)},directives:[le],styles:[".mnj-palette-picker-view{display:block}"],encapsulation:2,changeDetection:0});var Pe=function(){this.changes=new o.Subject,this.pickerView="Color Picker",this.armoniesView="Color Armonies",this.paletteView="Color Palette",this.scanView="Color Scan",this.uploadPhotoToScan="Click or drop a picture to scan",this.switchToPickerView="Choose color",this.switchToArmoniesView="Choose armonie",this.switchToPaletteView="Choose from palette",this.switchToScanView="Choose from a picture",this.openColorPickerLabel="Open Color Picker"};Pe.ɵfac=function(e){return new(e||Pe)},Pe.ɵprov=t.ɵɵdefineInjectable({token:Pe,factory:Pe.ɵfac,providedIn:"root"});var Se=["imageCanvas"];function Fe(e,n){if(1&e&&t.ɵɵelement(0,"div",7),2&e){var r=n.$implicit,o=n.index,i=t.ɵɵnextContext(2);t.ɵɵstyleProp("background",i.getPixelBackground(r)),t.ɵɵclassProp("mnj-pipette-selector__swatch-container--cell--active",o===i._swatchMiddle)}}function Ae(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",4),t.ɵɵelementStart(1,"div",5),t.ɵɵtemplate(2,Fe,1,4,"div",6),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngStyle",r.swatchGridPos),t.ɵɵadvance(1),t.ɵɵproperty("ngStyle",r.swatchGridStyle),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.pipetteSwatchPalette)}}var Ee=function(){function e(e,n,r,o,i){var a=this;this.colorAdapter=e,this._document=n,this._ngZone=r,this._elementRef=o,this._changeDetectorRef=i,this.pipetteColorChange=new t.EventEmitter,this._showPipetteSwatch=!1,this.thumbPosition={x:0,y:0},this.swatchPosition="bottom-right",this._globalListeners=new Map,this.pipetteSwatchPalette=[],this._clearGlobalListeners=function(){a.showPipetteSwatch=!1,a._globalListeners.forEach((function(e,t){a._document.removeEventListener(t,e.handler,e.options)})),a._globalListeners.clear()},this._pointerDown=function(e){var t=se(e);if(!ue(a.cachedPointerPos,t)){a.cachedContainerSize=pe(a._elementRef),a.calculateColorFromPosition(a.cachedContainerSize,t);var n=e.type.startsWith("touch"),r=n?"touchmove":"mousemove",o=n?"touchend":"mouseup";a._clearGlobalListeners(),a._globalListeners.set(r,{handler:a.pointerMove,options:fe}).set(o,{handler:a._clearGlobalListeners,options:!0}),a.showPipetteSwatch=!0,a.addGlobalListeners()}},this.pointerMove=function(e){var t=se(e);ue(a.cachedPointerPos,t)||a.calculateColorFromPosition(a.cachedContainerSize,t)},this.swatchCells=9}return Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(e){this._image=e,this._paintCanvas()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"swatchCells",{set:function(e){(e=(e=n.coerceNumberProperty(e))%2==1?e:e-1)!==this._swatchCells&&(this._swatchCells=e,this._swatchMiddle=Math.floor(Math.pow(e,2)/2))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasThumbPos",{get:function(){return{left:this.thumbPosition.x+"%",top:this.thumbPosition.y+"%"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"swatchGridStyle",{get:function(){return{gridTemplateColumns:"repeat("+this._swatchCells+", 10px)",gridTemplateRows:"repeat("+this._swatchCells+", 10px)"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"swatchGridPos",{get:function(){var e,t=4*this._swatchCells/3;switch(this.swatchPosition){case"bottom-right":e=t+"%, "+t+"%";break;case"top-right":e=t+"%, "+(-100-t)+"%";break;case"top-left":e=-100-t+"%, "+(-100-t)+"%";break;case"bottom-left":e=-100-t+"%, "+t+"%"}return{left:this.thumbPosition.x+"%",top:this.thumbPosition.y+"%",transform:"translate("+e+")",width:10*this._swatchCells+1+"px"}},enumerable:!1,configurable:!0}),e.prototype.getPixelBackground=function(e){return"rgba("+e.red+", "+e.green+", "+e.blue+", "+e.alpha+")"},Object.defineProperty(e.prototype,"showPipetteSwatch",{get:function(){return this._showPipetteSwatch&&!!this.image},set:function(e){e=n.coerceBooleanProperty(e),this._showPipetteSwatch!==e&&(this._showPipetteSwatch=e,this._changeDetectorRef.detectChanges())},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;this.attachListeners(),this._image&&this._ngZone.onStable.pipe(c.take(1)).subscribe((function(){return e._paintCanvas()}))},e.prototype.ngOnDestroy=function(){this._clearGlobalListeners()},e.prototype.attachListeners=function(){var e=this,t=n.coerceElement(this._elementRef);this._ngZone.runOutsideAngular((function(){t.addEventListener("mousedown",e._pointerDown,me),t.addEventListener("touchstart",e._pointerDown,de)}))},e.prototype.addGlobalListeners=function(){var e=this;this._ngZone.runOutsideAngular((function(){e._globalListeners.forEach((function(t,n){e._document.addEventListener(n,t.handler,t.options)}))}))},e.prototype._paintCanvas=function(){if(this.image&&this.canvas){var e=n.coerceElement(this.canvas),t=this.image,r=t.width,o=t.height,i=n.coerceElement(this._elementRef).getBoundingClientRect(),a=i.width,l=i.height,c=e.getContext("2d");c.clearRect(0,0,e.height,e.width);var s=Math.floor(a),u=Math.floor(l),p=this._fitImage(s,u,r,o),h=p.offsetX,d=p.offsetY,m=p.width,f=p.height;e.width=s,e.height=u,c.drawImage(this.image,h,d,m,f),this._changeDetectorRef.markForCheck()}},e.prototype.calculateColorFromPosition=function(e,t){var n=this;this._ngZone.run((function(){var r=he(t,e),o=100*r.x,i=100*r.y;n.thumbPosition={x:o,y:i},n.swatchPosition=n._getSwatchPosition(t,e);var a=t.x-e.left,l=t.y-e.top,c=n.canvas.nativeElement.getContext("2d"),s=n._swatchCells/2-1,u=c.getImageData(a-s,l-s,n._swatchCells,n._swatchCells);n.pipetteSwatchPalette=[];for(var p=0;p<u.data.length;p+=4)n.pipetteSwatchPalette.push({red:u.data[p],green:u.data[p+1],blue:u.data[p+2],alpha:u.data[p+3]/255});var h=n.pipetteSwatchPalette[n._swatchMiddle],d=M({red:h.red,green:h.green,blue:h.blue},h.alpha);n.pipetteColorChange.emit(d),n._changeDetectorRef.markForCheck()}))},e.prototype._fitImage=function(e,t,n,r,o,i,a){void 0===o&&(o=1),void 0===i&&(i=.5),void 0===a&&(a=.5);var l=n/r,c=e*o,s=t*o;return l>e/t?s=c/l:c=s*l,{width:c,height:s,offsetX:(e-c)*i,offsetY:(t-s)*a}},e.prototype._getSwatchPosition=function(e,t){var n=e.x,r=e.y,o=t.right,i=t.bottom,a=n+10*this._swatchCells+1,l=r+10*this._swatchCells+1>i,c=a>o;return l||c?l&&c?"top-left":l&&!c?"top-right":!l&&c?"bottom-left":void 0:"bottom-right"},e}();function Re(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",4),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(r),t.ɵɵnextContext(),t.ɵɵreference(2).click()}))("drop",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().uploadFile(e)}))("dragover",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext()._allowDrop(e)})),t.ɵɵelementStart(1,"span",5),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵtextInterpolate(o.uploadPhotoToScanLabel)}}function Oe(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementContainerStart(0),t.ɵɵelementStart(1,"mnj-pipette-selector",6),t.ɵɵlistener("pipetteColorChange",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().changeColor(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"button",7),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(r),t.ɵɵnextContext(),t.ɵɵreference(2).click()})),t.ɵɵnamespaceSVG(),t.ɵɵelementStart(3,"svg",8),t.ɵɵelement(4,"path",9),t.ɵɵelement(5,"path",10),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵnamespaceHTML(),t.ɵɵelementStart(6,"div",11),t.ɵɵelement(7,"mnj-preview-swatch",12),t.ɵɵelement(8,"mnj-input-selector",13),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("image",o._loadedImage),t.ɵɵadvance(6),t.ɵɵproperty("color",o.activeColor),t.ɵɵadvance(1),t.ɵɵproperty("color",o.activeColor)}}Ee.ɵfac=function(e){return new(e||Ee)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(i.DOCUMENT),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},Ee.ɵcmp=t.ɵɵdefineComponent({type:Ee,selectors:[["mnj-pipette-selector"]],viewQuery:function(e,n){var r;(1&e&&t.ɵɵviewQuery(Se,!0),2&e)&&(t.ɵɵqueryRefresh(r=t.ɵɵloadQuery())&&(n.canvas=r.first))},hostAttrs:[1,"mnj-pipette-selector"],inputs:{image:"image",swatchCells:"swatchCells"},outputs:{pipetteColorChange:"pipetteColorChange"},features:[t.ɵɵProvidersFeature([{provide:ge,useExisting:Ee}])],decls:5,vars:2,consts:[["imageCanvas",""],["class","mnj-pipette-selector__swatch-container",3,"ngStyle",4,"ngIf"],[1,"mnj-colorpicker-selector__thumb",3,"ngStyle"],[1,"mnj-colorpicker-selector__thumb__inner"],[1,"mnj-pipette-selector__swatch-container",3,"ngStyle"],[1,"mnj-pipette-selector__swatch-container__grid",3,"ngStyle"],["class","mnj-pipette-selector__swatch-container--cell",3,"background","mnj-pipette-selector__swatch-container--cell--active",4,"ngFor","ngForOf"],[1,"mnj-pipette-selector__swatch-container--cell"]],template:function(e,n){1&e&&(t.ɵɵelement(0,"canvas",null,0),t.ɵɵtemplate(2,Ae,3,3,"div",1),t.ɵɵelementStart(3,"div",2),t.ɵɵelement(4,"div",3),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.showPipetteSwatch),t.ɵɵadvance(1),t.ɵɵproperty("ngStyle",n.canvasThumbPos))},directives:[i.NgIf,i.NgStyle,i.NgForOf],styles:[".mnj-pipette-selector{cursor:pointer;display:block;margin-bottom:12px;position:relative}.mnj-pipette-selector__swatch-container{-webkit-clip-path:circle(49% at 50% 50%);clip-path:circle(49% at 50% 50%);position:absolute;transition:transform .4s cubic-bezier(.25,.8,.25,1);z-index:1}.mnj-pipette-selector__swatch-container__grid{border-bottom:1px solid #000;border-right:1px solid #000;display:-ms-grid;display:grid}.mnj-pipette-selector__swatch-container--cell{border-left:1px solid #000;border-top:1px solid #000}.mnj-pipette-selector__swatch-container--cell--active{border:1px solid red;height:11px;width:11px;z-index:1}"],encapsulation:2,changeDetection:0});var Ie=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o._colorAdapter=t,o._intl=n,o.changeDetectorRef=r,o}return w(t,e),Object.defineProperty(t.prototype,"uploadPhotoToScanLabel",{get:function(){return this._intl.uploadPhotoToScan},enumerable:!1,configurable:!0}),t.prototype.ngOnDestroy=function(){this._loadedImage&&URL.revokeObjectURL(this._loadedImage.src)},t.prototype.uploadFile=function(e){var t=this;e.preventDefault(),e.stopPropagation();var n="drop"===e.type?e.dataTransfer.files:e.target.files;if(n&&n.length){var r=n[0];if(!r.type.match("image.*"))return;var o=new Image;o.onload=function(){t._loadedImage=o,t.changeDetectorRef.markForCheck()},o.src=URL.createObjectURL(r)}},t.prototype._allowDrop=function(e){e.preventDefault()},t}(oe);function De(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mnj-chrome-picker-view",7),t.ɵɵlistener("activeColorChange",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().activeColor=e})),t.ɵɵelementEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("activeColor",o.activeColor)("selected",o.selected)("showAlpha",o.showAlpha)}}function Me(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mnj-armonies-picker-view",8),t.ɵɵlistener("activeColorChange",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().activeColor=e})),t.ɵɵelementEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("activeColor",o.activeColor)("selected",o.selected)}}function Ve(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mnj-palette-picker-view",9),t.ɵɵlistener("activeColorChange",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().activeColor=e})),t.ɵɵelementEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("activeColor",o.activeColor)("palette",o.palette)("selected",o.selected)}}function Be(e,n){if(1&e){var r=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mnj-scan-picker-view",8),t.ɵɵlistener("activeColorChange",(function(e){return t.ɵɵrestoreView(r),t.ɵɵnextContext().activeColor=e})),t.ɵɵelementEnd()}if(2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("activeColor",o.activeColor)("selected",o.selected)}}Ie.ɵfac=function(e){return new(e||Ie)(t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(Pe),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},Ie.ɵcmp=t.ɵɵdefineComponent({type:Ie,selectors:[["mnj-scan-picker-view"]],hostAttrs:[1,"mnj-scan-picker-view"],exportAs:["mnjScanPickerView"],features:[t.ɵɵProvidersFeature([{provide:re,useExisting:Ie}]),t.ɵɵInheritDefinitionFeature],decls:4,vars:2,consts:[["class","upload-control",3,"click","drop","dragover",4,"ngIf"],["type","file","accept","image/*",1,"upload-control--fileInput",3,"change"],["fileInput",""],[4,"ngIf"],[1,"upload-control",3,"click","drop","dragover"],[1,"mat-body"],[3,"image","pipetteColorChange"],["mat-mini-fab","","color","primary",1,"upload-control--fab",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 0 24 24","width","24"],["d","M0 0h24v24H0z","fill","none"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],[1,"controls-container"],[3,"color"],[1,"controls-container--input",3,"color"]],template:function(e,n){1&e&&(t.ɵɵtemplate(0,Re,3,1,"div",0),t.ɵɵelementStart(1,"input",1,2),t.ɵɵlistener("change",(function(e){return n.uploadFile(e)})),t.ɵɵelementEnd(),t.ɵɵtemplate(3,Oe,9,3,"ng-container",3)),2&e&&(t.ɵɵproperty("ngIf",!n._loadedImage),t.ɵɵadvance(3),t.ɵɵproperty("ngIf",n._loadedImage))},directives:[i.NgIf,Ee,s.MatButton,be,ye],styles:[".mnj-scan-picker-view .controls-container{display:flex}.mnj-scan-picker-view .controls-container--input{flex:1;margin-left:15px}.mnj-scan-picker-view{display:block;flex-direction:column;height:100%;position:relative}.mnj-scan-picker-view .mnj-pipette-selector{height:calc(100% - 40px)}.mnj-scan-picker-view .upload-control{align-items:center;border:2px dashed;border-radius:4px;display:flex;height:100%;justify-content:center}.mnj-scan-picker-view .upload-control--fileInput{display:none}.mnj-scan-picker-view .upload-control--fab{position:absolute;right:-8px;top:-8px}"],encapsulation:2,changeDetection:0});var Te=function(){function e(e,t,n){this._intl=e,this.colorPanel=t,this._views=["picker","armonies","palette","scan"],this.colorPanel.stateChanges.subscribe((function(){return n.markForCheck()}))}return Object.defineProperty(e.prototype,"pickerButtonText",{get:function(){switch(this.colorPanel.currentView){case"picker":return this._intl.pickerView;case"armonies":return this._intl.armoniesView;case"palette":return this._intl.paletteView;case"scan":return this._intl.scanView}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pickerViewButtonLabel",{get:function(){switch(this.colorPanel.currentView){case"picker":return this._intl.switchToArmoniesView;case"armonies":return this._intl.switchToPaletteView;case"palette":return this._intl.switchToScanView;case"scan":return this._intl.switchToPickerView}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"prevButtonLabel",{get:function(){switch(this.colorPanel.currentView){case"picker":return this._intl.switchToScanView;case"armonies":return this._intl.switchToPickerView;case"palette":return this._intl.switchToArmoniesView;case"scan":return this._intl.switchToPaletteView}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextButtonLabel",{get:function(){switch(this.colorPanel.currentView){case"picker":return this._intl.switchToArmoniesView;case"armonies":return this._intl.switchToPaletteView;case"palette":return this._intl.switchToScanView;case"scan":return this._intl.switchToPickerView}},enumerable:!1,configurable:!0}),e.prototype.previousClicked=function(){var e=this,t=this._views.findIndex((function(t){return t===e.colorPanel.currentView}));t=(t+4-1)%4,this.colorPanel.currentView=this._views[t]},e.prototype.nextClicked=function(){var e=this,t=this._views.findIndex((function(t){return t===e.colorPanel.currentView}));t=(t+4+1)%4,this.colorPanel.currentView=this._views[t]},e.prototype.previousEnabled=function(){return"picker"!==this.colorPanel.currentView},e.prototype.nextEnabled=function(){return"scan"!==this.colorPanel.currentView},e}();Te.ɵfac=function(e){return new(e||Te)(t.ɵɵdirectiveInject(Pe),t.ɵɵdirectiveInject(t.forwardRef((function(){return Le}))),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},Te.ɵcmp=t.ɵɵdefineComponent({type:Te,selectors:[["mnj-color-panel-header"]],exportAs:["mnjColorPanelHeader"],decls:8,vars:8,consts:[[1,"mnj-color-panel-header"],[1,"mnj-color-panel-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mnj-color-panel-picker-button",3,"click"],[1,"mnj-color-panel-arrow"],[1,"mnj-color-panel-spacer"],["mat-icon-button","","type","button",1,"mnj-color-panel-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mnj-color-panel-next-button",3,"disabled","click"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"button",2),t.ɵɵlistener("click",(function(){return n.nextClicked()})),t.ɵɵtext(3),t.ɵɵelement(4,"div",3),t.ɵɵelementEnd(),t.ɵɵelement(5,"div",4),t.ɵɵelementStart(6,"button",5),t.ɵɵlistener("click",(function(){return n.previousClicked()})),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"button",6),t.ɵɵlistener("click",(function(){return n.nextClicked()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵattribute("aria-label",n.pickerViewButtonLabel),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",n.pickerButtonText," "),t.ɵɵadvance(1),t.ɵɵclassProp("mnj-color-panel-invert","scan"===n.colorPanel.currentView),t.ɵɵadvance(2),t.ɵɵproperty("disabled",!n.previousEnabled()),t.ɵɵattribute("aria-label",n.prevButtonLabel),t.ɵɵadvance(1),t.ɵɵproperty("disabled",!n.nextEnabled()),t.ɵɵattribute("aria-label",n.nextButtonLabel))},directives:[s.MatButton,u.CdkAriaLive],encapsulation:2,changeDetection:0});var Le=function(){function e(e,n,r,i){var a=this;this._colorAdapter=n,this._config=r,this._changeDetectorRef=i,this.selectedChange=new t.EventEmitter,this._userSelection=new t.EventEmitter,this.stateChanges=new o.Subject,this._intlChanges=e.changes.subscribe((function(){i.markForCheck(),a.stateChanges.next()}))}return Object.defineProperty(e.prototype,"startColor",{get:function(){return this._startColor},set:function(e){this._startColor=this._colorAdapter.getValidColorOrNull(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"palette",{get:function(){return this._palette||this._config.defaultPalette},set:function(e){this._palette=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showAlpha",{get:function(){return this._showAlpha||this._config.showAlpha},set:function(e){this._showAlpha=n.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=this._colorAdapter.getValidColorOrNull(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeColor",{get:function(){return this._activeColor},set:function(e){this._activeColor=e,this.stateChanges.next(),this._changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentView",{get:function(){return this._currentView},set:function(e){this._currentView=e,this._changeDetectorRef.markForCheck()},enumerable:!1,configurable:!0}),e.prototype.ngAfterContentInit=function(){this._currentView=this.startView||"picker",this.activeColor=this.selected||this.startColor||this._config.defaultColor},e.prototype.ngOnDestroy=function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()},e.prototype._selectColor=function(){var e=this._getCurrentViewComponent().activeColor;this._colorAdapter.sameColor(e,this.selected)||this.selectedChange.emit(e),this._userSelection.emit(e)},e.prototype._handleKeydownEvent=function(e){switch(e.keyCode){case r.ENTER:return void this._selectColor();default:return}},e.prototype._getCurrentViewComponent=function(){return this.currentPicker},e}();Le.ɵfac=function(e){return new(e||Le)(t.ɵɵdirectiveInject(Pe),t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(ne),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},Le.ɵcmp=t.ɵɵdefineComponent({type:Le,selectors:[["mnj-color-panel"]],viewQuery:function(e,n){var r;(1&e&&t.ɵɵviewQuery(re,!0),2&e)&&(t.ɵɵqueryRefresh(r=t.ɵɵloadQuery())&&(n.currentPicker=r.first))},hostAttrs:[1,"mnj-color-panel"],hostBindings:function(e,n){1&e&&t.ɵɵlistener("keydown",(function(e){return n._handleKeydownEvent(e)}))},inputs:{color:"color",startView:"startView",startColor:"startColor",palette:"palette",showAlpha:"showAlpha",selected:"selected",activeColor:"activeColor"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection"},exportAs:["mnjColorPanel"],decls:9,vars:6,consts:[["cdkFocusInitial",""],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mnj-color-panel-content",3,"ngSwitch"],[3,"activeColor","selected","showAlpha","activeColorChange",4,"ngSwitchCase"],[3,"activeColor","selected","activeColorChange",4,"ngSwitchCase"],[3,"activeColor","palette","selected","activeColorChange",4,"ngSwitchCase"],[1,"mnj-color-panel-footer"],["mat-button","",3,"color","click"],[3,"activeColor","selected","showAlpha","activeColorChange"],[3,"activeColor","selected","activeColorChange"],[3,"activeColor","palette","selected","activeColorChange"]],template:function(e,n){1&e&&(t.ɵɵelement(0,"mnj-color-panel-header",0),t.ɵɵelementStart(1,"div",1),t.ɵɵtemplate(2,De,1,3,"mnj-chrome-picker-view",2),t.ɵɵtemplate(3,Me,1,2,"mnj-armonies-picker-view",3),t.ɵɵtemplate(4,Ve,1,3,"mnj-palette-picker-view",4),t.ɵɵtemplate(5,Be,1,2,"mnj-scan-picker-view",3),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",5),t.ɵɵelementStart(7,"button",6),t.ɵɵlistener("click",(function(){return n._selectColor()})),t.ɵɵtext(8,"Save"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngSwitch",n.currentView),t.ɵɵadvance(1),t.ɵɵproperty("ngSwitchCase","picker"),t.ɵɵadvance(1),t.ɵɵproperty("ngSwitchCase","armonies"),t.ɵɵadvance(1),t.ɵɵproperty("ngSwitchCase","palette"),t.ɵɵadvance(1),t.ɵɵproperty("ngSwitchCase","scan"),t.ɵɵadvance(2),t.ɵɵproperty("color",n.color))},directives:[Te,u.CdkMonitorFocus,i.NgSwitch,i.NgSwitchCase,s.MatButton,je,ce,xe,Ie],styles:['.mnj-color-panel{display:flex;flex-direction:column}.mnj-color-panel-header{padding:9px 16px 0}.mnj-color-panel-content{flex:1 0 0;outline:none;overflow-y:auto;padding:9px 16px}.mnj-color-panel-footer{display:flex;justify-content:flex-end;padding:0 16px 9px}.mnj-color-panel-controls{display:flex;margin:5% calc(4.71429% - 16px)}.mnj-color-panel-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mnj-color-panel-spacer{flex:1 1 auto}.mnj-color-panel-picker-button{min-width:0}.mnj-color-panel-arrow{border-left:5px solid transparent;border-right:5px solid transparent;border-top-style:solid;border-top-width:5px;display:inline-block;height:0;margin:0 0 0 5px;vertical-align:middle;width:0}.mnj-color-panel-arrow.mnj-color-panel-invert{transform:rotate(180deg)}[dir=rtl] .mnj-color-panel-arrow{margin:0 5px 0 0}.mnj-color-panel-next-button,.mnj-color-panel-previous-button{position:relative}.mnj-color-panel-next-button:after,.mnj-color-panel-previous-button:after{border:solid;border-width:2px 0 0;bottom:0;content:"";left:0;margin:15.5px;position:absolute;right:0;top:0}[dir=rtl] .mnj-color-panel-next-button,[dir=rtl] .mnj-color-panel-previous-button{transform:rotate(180deg)}.mnj-color-panel-previous-button:after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mnj-color-panel-next-button:after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}'],encapsulation:2,changeDetection:0});var Ge={transformPanel:m.trigger("transformPanel",[m.state("void",m.style({opacity:0,transform:"scale(1, 0.8)"})),m.transition("void => enter",m.animate("120ms cubic-bezier(0, 0, 0.2, 1)",m.style({opacity:1,transform:"scale(1, 1)"}))),m.transition("* => void",m.animate("100ms linear",m.style({opacity:0})))]),fadeInColorPanel:m.trigger("fadeInColorPanel",[m.state("void",m.style({opacity:0})),m.state("enter",m.style({opacity:1})),m.transition("void => *",m.animate("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Ne=0,ze=new t.InjectionToken("mnj-colorpicker-scroll-strategy");function We(e){return function(){return e.scrollStrategies.reposition()}}var He={provide:ze,deps:[p.Overlay],useFactory:We},Ue=function(e){this._elementRef=e},qe=function(e){function t(t,n){var r=e.call(this,t)||this;return r._changeDetectorRef=n,r._animationState="enter",r._animationDone=new o.Subject,r._subscriptions=new o.Subscription,r}return w(t,e),t.prototype.ngAfterViewInit=function(){var e=this;this._subscriptions.add(this.colorpicker._stateChanges.subscribe((function(){e._changeDetectorRef.markForCheck()})))},t.prototype.ngOnDestroy=function(){this._subscriptions.unsubscribe(),this._animationDone.complete()},t.prototype._handleUserSelection=function(e){this.colorpicker.select(e),this.colorpicker.close()},t.prototype._startExitAnimation=function(){this._animationState="void",this._changeDetectorRef.markForCheck()},t.prototype._getSelected=function(){return this.colorpicker._selectedColor},t}(d.mixinColor(Ue));qe.ɵfac=function(e){return new(e||qe)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},qe.ɵcmp=t.ɵɵdefineComponent({type:qe,selectors:[["mnj-colorpicker-content"]],hostAttrs:[1,"mnj-colorpicker-content"],hostVars:3,hostBindings:function(e,n){1&e&&t.ɵɵsyntheticHostListener("@transformPanel.done",(function(){return n._animationDone.next()})),2&e&&(t.ɵɵsyntheticHostProperty("@transformPanel",n._animationState),t.ɵɵclassProp("mnj-colorpicker-content-touch",n.colorpicker.touchUi))},inputs:{color:"color"},exportAs:["mnjColorpickerContent"],features:[t.ɵɵInheritDefinitionFeature],decls:1,vars:9,consts:[["cdkTrapFocus","",3,"id","ngClass","color","startView","startColor","showAlpha","palette","selected","_userSelection"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"mnj-color-panel",0),t.ɵɵlistener("_userSelection",(function(e){return n._handleUserSelection(e)})),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("id",n.colorpicker.id)("ngClass",n.colorpicker.panelClass)("color",n.colorpicker.color)("startView",n.colorpicker.startView)("startColor",n.colorpicker.startColor)("showAlpha",n.colorpicker.showAlpha)("palette",n.colorpicker.palette)("selected",n._getSelected())("@fadeInColorPanel","enter")},directives:[Le,u.CdkTrapFocus,i.NgClass],styles:[".mnj-colorpicker-content{border-radius:4px;display:flex;flex-direction:column}.mnj-colorpicker-content .mnj-color-panel{height:400px;width:350px}.mnj-colorpicker-content-touch{display:flex;flex-direction:column;margin:-24px;max-height:80vh;overflow:auto}.mnj-colorpicker-content-touch .mnj-color-panel{max-height:788px;max-width:750px;min-height:312px;min-width:250px}@media (orientation:landscape){.mnj-colorpicker-content-touch .mnj-color-panel{height:80vh;width:64vh}}@media (orientation:portrait){.mnj-colorpicker-content-touch .mnj-color-panel{height:100vw;width:80vw}}"],encapsulation:2,data:{animation:[Ge.transformPanel,Ge.fadeInColorPanel]},changeDetection:0});var Ye=function(){function e(e,n,r,i,a,l,c,s){this._dialog=e,this._overlay=n,this._ngZone=r,this._viewContainerRef=i,this._colorAdapter=l,this._dir=c,this._document=s,this._inputStateChanges=o.Subscription.EMPTY,this._touchUi=!1,this.openedStream=new t.EventEmitter,this.closedStream=new t.EventEmitter,this._opened=!1,this.id="mnj-colorpicker-"+Ne++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._stateChanges=new o.Subject,this._configurationChanges=new o.Subject,this._selectedChanged=new o.Subject,this._scrollStrategy=a}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color||(this._colorpickerInput?this._colorpickerInput.getThemePalette():void 0)},set:function(e){this._color=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startColor",{get:function(){return this._startColor},set:function(e){this._colorAdapter.isValid(e)&&(this._startColor=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showAlpha",{get:function(){return this._showAlpha},set:function(e){(e=n.coerceBooleanProperty(e))!==this._showAlpha&&(this._showAlpha=e,this._configurationChanges.next(void 0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayFormat",{get:function(){return this._displayFormat},set:function(e){e!==this._displayFormat&&(this._displayFormat=e,this._configurationChanges.next(void 0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"touchUi",{get:function(){return this._touchUi},set:function(e){this._touchUi=n.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled&&this._colorpickerInput?this._colorpickerInput.disabled:!!this._disabled},set:function(e){var t=n.coerceBooleanProperty(e);t!==this._disabled&&(this._disabled=t,this._stateChanges.next(t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xPosition",{get:function(){return this._xPosition||"start"},set:function(e){var t=!this._xPosition;this._xPosition=e,t&&this._updatePopupPositions(),this._stateChanges.next(void 0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yPosition",{get:function(){return this._yPosition||"below"},set:function(e){var t=!this._xPosition;this._yPosition=e,t&&this._updatePopupPositions(),this._stateChanges.next(void 0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"opened",{get:function(){return this._opened},set:function(e){n.coerceBooleanProperty(e)?this.open():this.close()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_selectedColor",{get:function(){return this._validSelected},set:function(e){this._validSelected=e},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this._selectedChanged.complete(),this._stateChanges.complete()},e.prototype.select=function(e){var t=this._selectedColor;this._selectedColor=e,this._colorAdapter.sameColor(t,this._selectedColor)||this._selectedChanged.next(e),this._stateChanges.next()},e.prototype._registerInput=function(e){var t=this;if(this._colorpickerInput)throw Error("A MnjColorpicker can only be associated with a single input.");this._inputStateChanges.unsubscribe(),this._colorpickerInput=e,this._inputStateChanges=this._colorpickerInput._stateChanges.subscribe((function(){t._stateChanges.next(),t.select(t._colorpickerInput.value)}))},e.prototype.open=function(){if(!this._opened&&!this.disabled){if(!this._colorpickerInput)throw Error("Attempted to open an MnjColorpicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}},e.prototype.close=function(){var e=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe(c.take(1)).subscribe((function(){return e._destroyPopup()}))}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}},e.prototype._openAsDialog=function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(qe,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mnj-colorpicker-dialog"}),this._dialogRef.afterClosed().subscribe((function(){return e.close()})),this._dialogRef.componentInstance.colorpicker=this,this._setTheme()},e.prototype._openAsPopup=function(){var e=this,t=new h.ComponentPortal(qe,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(t),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe(c.take(1)).subscribe((function(){e._popupRef.updatePosition()}))},e.prototype._forwardContentValues=function(e){e.colorpicker=this,e.color=this.color},e.prototype._createPopup=function(){var e=this,t=this._overlay.position().flexibleConnectedTo(this._colorpickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mnj-colorpicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),n=new p.OverlayConfig({positionStrategy:this._setConnectedPositions(t),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mnj-colorpicker-popup"});this._popupRef=this._overlay.create(n),this._popupRef.overlayElement.setAttribute("role","dialog"),o.merge(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(c.filter((function(t){return t.keyCode===r.ESCAPE||e._colorpickerInput&&t.altKey&&t.keyCode===r.UP_ARROW})))).subscribe((function(t){t&&t.preventDefault(),e.close()}))},e.prototype._setConnectedPositions=function(e){var t="end"===this.xPosition?"end":"start",n="start"===t?"end":"start",r="above"===this.yPosition?"bottom":"top",o="top"===r?"bottom":"top";return e.withPositions([{originX:t,originY:o,overlayX:t,overlayY:r},{originX:t,originY:r,overlayX:t,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:o}])},e.prototype._updatePopupPositions=function(){this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition())},e.prototype._destroyPopup=function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)},e.prototype._setTheme=function(){var e=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=e),this._dialogRef&&(this._dialogRef.componentInstance.color=e)},e}();Ye.ɵfac=function(e){return new(e||Ye)(t.ɵɵdirectiveInject(f.MatDialog),t.ɵɵdirectiveInject(p.Overlay),t.ɵɵdirectiveInject(t.NgZone),t.ɵɵdirectiveInject(t.ViewContainerRef),t.ɵɵdirectiveInject(ze),t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(l.Directionality,8),t.ɵɵdirectiveInject(i.DOCUMENT,8))},Ye.ɵcmp=t.ɵɵdefineComponent({type:Ye,selectors:[["mnj-colorpicker"]],inputs:{color:"color",startColor:"startColor",startView:"startView",palette:"palette",showAlpha:"showAlpha",displayFormat:"displayFormat",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",panelClass:"panelClass",opened:"opened"},outputs:{openedStream:"opened",closedStream:"closed"},exportAs:["mnjColorpicker"],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0});var Ke={provide:g.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return Xe})),multi:!0},Ze={provide:g.NG_VALIDATORS,useExisting:t.forwardRef((function(){return Xe})),multi:!0},Qe=function(e,t){this.target=e,this.targetElement=t,this.value=this.target.value},Xe=function(){function e(e,n,r,i){var a=this;this._elementRef=e,this._colorAdapter=n,this._config=r,this._formField=i,this._value=null,this.colorChange=new t.EventEmitter,this.colorInput=new t.EventEmitter,this._valueChange=new t.EventEmitter,this._stateChanges=new o.Subject,this._onTouched=function(){},this._cvaOnChange=function(){},this._validatorOnChange=function(){},this._colorpickerSubscription=o.Subscription.EMPTY,this._colorpickerConfigurationSubscription=o.Subscription.EMPTY,this._localeSubscription=o.Subscription.EMPTY,this._parseValidator=function(){return a._lastValueValid?null:{mnjColorpickerParse:{text:a._elementRef.nativeElement.value}}},this._validator=this._parseValidator,this._lastValueValid=!1}return Object.defineProperty(e.prototype,"mnjColorpicker",{set:function(e){var t=this;e&&(this._colorpicker=e,this._colorpicker._registerInput(this),this._colorpickerSubscription.unsubscribe(),this._colorpickerSubscription=this._colorpicker._selectedChanged.subscribe((function(e){t.value=e,t._cvaOnChange(e),t._onTouched(),t.colorInput.emit(new Qe(t,t._elementRef.nativeElement)),t.colorChange.emit(new Qe(t,t._elementRef.nativeElement))})),this._colorpickerConfigurationSubscription=this._colorpicker._configurationChanges.subscribe((function(e){return t._formatValue(t.value)})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._lastValueValid=!e||this._colorAdapter.isValid(e),e=this._colorAdapter.getValidColorOrNull(e);var t=this.value;this._value=e,this._formatValue(e),this._colorAdapter.sameColor(t,e)||this._valueChange.emit(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!!this._disabled},set:function(e){var t=n.coerceBooleanProperty(e),r=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._stateChanges.next(void 0)),t&&r.blur&&r.blur()},enumerable:!1,configurable:!0}),e.prototype.ngOnChanges=function(){this._stateChanges.next(void 0)},e.prototype.ngOnDestroy=function(){this._colorpickerSubscription.unsubscribe(),this._colorpickerConfigurationSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._stateChanges.complete()},e.prototype.registerOnValidatorChange=function(e){this._validatorOnChange=e},e.prototype.validate=function(e){return this._validator?this._validator(e):null},e.prototype.writeValue=function(e){this.value=e},e.prototype.registerOnChange=function(e){this._cvaOnChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype._onKeydown=function(e){var t=e.altKey&&e.keyCode===r.DOWN_ARROW;this._colorpicker&&t&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())},e.prototype._onInput=function(e){var t=this._lastValueValid,n=this._colorAdapter.parse(e);this._lastValueValid=this._colorAdapter.isValid(n),n=this._colorAdapter.getValidColorOrNull(n),this._colorAdapter.sameColor(n,this.value)?(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()):(this._value=n,this._cvaOnChange(n),this._valueChange.emit(n),this.colorInput.emit(new Qe(this,this._elementRef.nativeElement)))},e.prototype._onChange=function(){this.colorChange.emit(new Qe(this,this._elementRef.nativeElement))},e.prototype.getConnectedOverlayOrigin=function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef},e.prototype.getThemePalette=function(){return this._formField?this._formField.color:void 0},e.prototype.getStartValue=function(){return this.value},e.prototype._openPopup=function(){this._colorpicker&&this._colorpicker.open()},e.prototype._onBlur=function(){this.value&&this._formatValue(this.value),this._onTouched(),this._stateChanges.next()},e.prototype._formatValue=function(e){var t=this._colorpicker&&this._colorpicker.showAlpha||this._config.showAlpha,n=this._colorpicker&&this._colorpicker.displayFormat||this._config.displayFormat;this._elementRef.nativeElement.value=e?this._colorAdapter.format(e,n,t):""},e}();Xe.ɵfac=function(e){return new(e||Xe)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject($),t.ɵɵdirectiveInject(ne),t.ɵɵdirectiveInject(v.MatFormField,8))},Xe.ɵdir=t.ɵɵdefineDirective({type:Xe,selectors:[["input","mnjColorpicker",""]],hostAttrs:["aria-haspopup",'_colorpicker ? "dialog" : null'],hostVars:2,hostBindings:function(e,n){1&e&&t.ɵɵlistener("input",(function(e){return n._onInput(e.target.value)}))("change",(function(){return n._onChange()}))("blur",(function(){return n._onBlur()}))("keydown",(function(e){return n._onKeydown(e)})),2&e&&(t.ɵɵhostProperty("disabled",n.disabled),t.ɵɵattribute("aria-owns",(null==n._colorpicker?null:n._colorpicker.opened)&&n._colorpicker.id||null))},inputs:{mnjColorpicker:"mnjColorpicker",value:"value",disabled:"disabled"},outputs:{colorChange:"colorChange",colorInput:"colorInput"},exportAs:["mnjColorpickerInput"],features:[t.ɵɵProvidersFeature([Ke,Ze,{provide:_.MAT_INPUT_VALUE_ACCESSOR,useExisting:Xe}]),t.ɵɵNgOnChangesFeature]});var Je=["button"];function $e(e,n){1&e&&(t.ɵɵnamespaceSVG(),t.ɵɵelementStart(0,"svg",3),t.ɵɵelement(1,"path",4),t.ɵɵelementEnd())}var et=[[["","mnjColorpickerToggleIcon",""]]],tt=function(){};tt.ɵfac=function(e){return new(e||tt)},tt.ɵdir=t.ɵɵdefineDirective({type:tt,selectors:[["","mnjColorpickerToggleIcon",""]]});var nt=function(){function e(e,t,n){this._intl=e,this._changeDetectorRef=t,this._stateChanges=o.Subscription.EMPTY;var r=Number(n);this.tabIndex=r||0===r?r:null}return Object.defineProperty(e.prototype,"colorpicker",{get:function(){return this._colorpicker},set:function(e){this._colorpicker=e,this._watchStateChanges()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return void 0===this._disabled&&this.colorpicker?this.colorpicker.disabled:!!this._disabled},set:function(e){this._disabled=n.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this._stateChanges.unsubscribe()},e.prototype.ngAfterContentInit=function(){this._watchStateChanges()},e.prototype._open=function(e){this.colorpicker&&!this.disabled&&(this.colorpicker.open(),e.stopPropagation())},e.prototype._watchStateChanges=function(){var e=this,t=this.colorpicker?this.colorpicker._stateChanges:o.of(),n=this.colorpicker&&this.colorpicker._colorpickerInput?this.colorpicker._colorpickerInput._stateChanges:o.of(),r=this.colorpicker?o.merge(this.colorpicker.openedStream,this.colorpicker.closedStream):o.of();this._stateChanges.unsubscribe(),this._stateChanges=o.merge(this._intl.changes,t,n,r).subscribe((function(){return e._changeDetectorRef.markForCheck()}))},e}();nt.ɵfac=function(e){return new(e||nt)(t.ɵɵdirectiveInject(Pe),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵinjectAttribute("tabindex"))},nt.ɵcmp=t.ɵɵdefineComponent({type:nt,selectors:[["mnj-colorpicker-toggle"]],contentQueries:function(e,n,r){var o;(1&e&&t.ɵɵcontentQuery(r,tt,!0),2&e)&&(t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n._customIcon=o.first))},viewQuery:function(e,n){var r;(1&e&&t.ɵɵviewQuery(Je,!0),2&e)&&(t.ɵɵqueryRefresh(r=t.ɵɵloadQuery())&&(n._button=r.first))},hostAttrs:[1,"mnj-colorpicker-toggle"],hostVars:8,hostBindings:function(e,n){1&e&&t.ɵɵlistener("focus",(function(){return n._button.focus()})),2&e&&(t.ɵɵattribute("tabindex",n.disabled?null:-1)("data-mnj-color-panel",n.colorpicker?n.colorpicker.id:null),t.ɵɵclassProp("mnj-colorpicker-toggle-active",n.colorpicker&&n.colorpicker.opened)("mnj-accent",n.colorpicker&&"accent"===n.colorpicker.color)("mnj-warn",n.colorpicker&&"warn"===n.colorpicker.color))},inputs:{colorpicker:["for","colorpicker"],tabIndex:"tabIndex",disabled:"disabled",disableRipple:"disableRipple"},exportAs:["mnjColorpickerToggle"],ngContentSelectors:["[mnjColorpickerToggleIcon]"],decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mnj-colorpicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mnj-colorpicker-toggle-default-icon"],["d","M20.71 5.63l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"]],template:function(e,n){1&e&&(t.ɵɵprojectionDef(et),t.ɵɵelementStart(0,"button",0,1),t.ɵɵlistener("click",(function(e){return n._open(e)})),t.ɵɵtemplate(2,$e,2,0,"svg",2),t.ɵɵprojection(3),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("disabled",n.disabled)("disableRipple",n.disableRipple),t.ɵɵattribute("aria-haspopup",n.colorpicker?"dialog":null)("aria-label",n._intl.openColorPickerLabel)("tabindex",n.disabled?-1:n.tabIndex),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",!n._customIcon))},directives:[s.MatButton,i.NgIf],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mnj-colorpicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mnj-colorpicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mnj-colorpicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mnj-colorpicker-toggle-default-icon{display:block;height:1.5em;width:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mnj-colorpicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mnj-colorpicker-toggle-default-icon{margin:auto}"],encapsulation:2,changeDetection:0});var rt=function(){};rt.ɵmod=t.ɵɵdefineNgModule({type:rt}),rt.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||rt)},providers:[Pe,He],imports:[[i.CommonModule,s.MatButtonModule,C.MatIconModule,h.PortalModule,u.A11yModule,p.OverlayModule,f.MatDialogModule],b.CdkScrollableModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(rt,{declarations:[nt,tt,Ye,qe,Xe,Le,Te,we,ve,_e,ye,le,Ee,be,je,xe,ce,Ie],imports:[i.CommonModule,s.MatButtonModule,C.MatIconModule,h.PortalModule,u.A11yModule,p.OverlayModule,f.MatDialogModule],exports:[b.CdkScrollableModule,nt,tt,Ye,qe,Xe,Le,Te,we,ve,_e,ye,le,Ee,be,je,xe,ce,Ie]}),e.BaseColorpickerView=oe,e.BaseSelector=ge,e.CSS_COLOR_NAMES=D,e.ColorAdapter=$,e.ColorPickerView=re,e.DEFAULT_COLOR=ee,e.MNJ_COLORPICKER_SCROLL_STRATEGY=ze,e.MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY=We,e.MNJ_COLORPICKER_SCROLL_STRATEGY_FACTORY_PROVIDER=He,e.MNJ_COLORPICKER_VALIDATORS=Ze,e.MNJ_COLORPICKER_VALUE_ACCESSOR=Ke,e.MNJ_COLOR_CONFIG_PROVIDER=ne,e.MNJ_DEFAULT_COLOR_CONFIG_FACTORY=te,e.MnjAlphaSelector=we,e.MnjArmoniesPickerView=ce,e.MnjChromePickerView=je,e.MnjColorPanel=Le,e.MnjColorPanelHeader=Te,e.MnjColorpicker=Ye,e.MnjColorpickerContent=qe,e.MnjColorpickerInput=Xe,e.MnjColorpickerInputEvent=Qe,e.MnjColorpickerModule=rt,e.MnjColorpickerToggle=nt,e.MnjColorpickerToggleIcon=tt,e.MnjGridSelector=le,e.MnjHueSelector=ve,e.MnjInputSelector=ye,e.MnjPalettePickerView=xe,e.MnjPipetteSelector=Ee,e.MnjPreviewSwatch=be,e.MnjSaturationSelector=_e,e.MnjScanPickerView=Ie,e.activeCapturingEventOptions=fe,e.activeEventListenerOptions=me,e.analogous=q,e.calculateShades=W,e.clamp=X,e.cmykToRgb=I,e.complementary=H,e.fromCmyk=L,e.fromHex=G,e.fromHsl=V,e.fromHsv=B,e.fromHwb=T,e.fromRgb=M,e.getColorShade=Q,e.getContainerSize=pe,e.getPointerPositionFromEvent=se,e.getPointerPositionInContainer=he,e.hexToRgb=function(e){if(!/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e))return null;var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return"#"+t+t+n+n+r+r})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}));return{red:t[0],green:t[1]||0,blue:t[2]||0}},e.hslToHsv=A,e.hslToRgb=F,e.hsvToHsl=E,e.hsvToHwb=function(e){var t=e.hue,n=e.saturation/100,r=e.value/100;return{hue:t,whiteness:Math.round((1-n)*r*100),blackness:Math.round(100*(1-r))}},e.hsvToRgb=R,e.hwbToHsv=function(e){var t=e.hue,n=e.whiteness/100,r=e.blackness/100;return{hue:t,saturation:Math.round(100*(1-n/(1-r))),value:Math.round(100*(1-r))}},e.hwbToRgb=O,e.isSamePosition=ue,e.mnjColorpickerAnimations=Ge,e.parseString=N,e.passiveEventListenerOptions=de,e.rgbToCmyk=S,e.rgbToHex=function(e){return"#"+((1<<24)+(e.red<<16)+(e.green<<8)+e.blue).toString(16).slice(1)},e.rgbToHsl=j,e.rgbToHsv=x,e.rgbToHwb=P,e.saturate=function(e,t){var n=t.hue,r=t.saturation,o=t.lightness;return V({hue:n,saturation:X(0,100,r+J(e)),lightness:o})},e.shade=z,e.spinColor=Z,e.splitComplementary=U,e.square=function(e){return[Z(90,e),Z(180,e),Z(270,e)]},e.tetradic=K,e.triadic=Y,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mnj-ngx-colorpicker.umd.min.js.map